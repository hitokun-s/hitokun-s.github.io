var It=Object.defineProperty,Pt=Object.defineProperties;var Mt=Object.getOwnPropertyDescriptors;var dt=Object.getOwnPropertySymbols;var Dt=Object.prototype.hasOwnProperty,Lt=Object.prototype.propertyIsEnumerable;var pt=(Le,Ue,$)=>Ue in Le?It(Le,Ue,{enumerable:!0,configurable:!0,writable:!0,value:$}):Le[Ue]=$,tt=(Le,Ue)=>{for(var $ in Ue||(Ue={}))Dt.call(Ue,$)&&pt(Le,$,Ue[$]);if(dt)for(var $ of dt(Ue))Lt.call(Ue,$)&&pt(Le,$,Ue[$]);return Le},rt=(Le,Ue)=>Pt(Le,Mt(Ue));import{T as Ut,C as jt}from"./vendor.5fc011a9.js";function Ft(Le,Ue){return Ue.forEach(function($){$&&typeof $!="string"&&!Array.isArray($)&&Object.keys($).forEach(function(I){if(I!=="default"&&!(I in Le)){var p=Object.getOwnPropertyDescriptor($,I);Object.defineProperty(Le,I,p.get?p:{enumerable:!0,get:function(){return $[I]}})}})}),Object.freeze(Le)}var ut={exports:{}};(function(Le,Ue){(function($,I){Le.exports=I()})(typeof self!="undefined"?self:jt,function(){return function($){var I={};function p(d){if(I[d])return I[d].exports;var i=I[d]={i:d,l:!1,exports:{}};return $[d].call(i.exports,i,i.exports,p),i.l=!0,i.exports}return p.m=$,p.c=I,p.d=function(d,i,h){p.o(d,i)||Object.defineProperty(d,i,{enumerable:!0,get:h})},p.r=function(d){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},p.t=function(d,i){if(1&i&&(d=p(d)),8&i||4&i&&typeof d=="object"&&d&&d.__esModule)return d;var h=Object.create(null);if(p.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:d}),2&i&&typeof d!="string")for(var u in d)p.d(h,u,function(s){return d[s]}.bind(null,u));return h},p.n=function(d){var i=d&&d.__esModule?function(){return d.default}:function(){return d};return p.d(i,"a",i),i},p.o=function(d,i){return Object.prototype.hasOwnProperty.call(d,i)},p.p="",p(p.s=44)}([function($,I,p){p.d(I,"a",function(){return d}),p.d(I,"b",function(){return i}),p.d(I,"c",function(){return h}),p.d(I,"d",function(){return u}),p.d(I,"e",function(){return s});const d=Symbol("thread.errors"),i=Symbol("thread.events"),h=Symbol("thread.terminate"),u=Symbol("thread.transferable"),s=Symbol("thread.worker")},function($,I){var p;p=function(){return this}();try{p=p||new Function("return this")()}catch{typeof window=="object"&&(p=window)}$.exports=p},function($,I,p){(function(d){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */var i=p(45),h=p(46),u=p(25);function s(){return r.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function m(t,a){if(s()<a)throw new RangeError("Invalid typed array length");return r.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(a)).__proto__=r.prototype:(t===null&&(t=new r(a)),t.length=a),t}function r(t,a,y){if(!(r.TYPED_ARRAY_SUPPORT||this instanceof r))return new r(t,a,y);if(typeof t=="number"){if(typeof a=="string")throw new Error("If encoding is specified then the first argument must be a string");return x(this,t)}return S(this,t,a,y)}function S(t,a,y,q){if(typeof a=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&a instanceof ArrayBuffer?function(H,X,fe,ve){if(X.byteLength,fe<0||X.byteLength<fe)throw new RangeError("'offset' is out of bounds");if(X.byteLength<fe+(ve||0))throw new RangeError("'length' is out of bounds");return X=fe===void 0&&ve===void 0?new Uint8Array(X):ve===void 0?new Uint8Array(X,fe):new Uint8Array(X,fe,ve),r.TYPED_ARRAY_SUPPORT?(H=X).__proto__=r.prototype:H=k(H,X),H}(t,a,y,q):typeof a=="string"?function(H,X,fe){if(typeof fe=="string"&&fe!==""||(fe="utf8"),!r.isEncoding(fe))throw new TypeError('"encoding" must be a valid string encoding');var ve=0|w(X,fe),Ee=(H=m(H,ve)).write(X,fe);return Ee!==ve&&(H=H.slice(0,Ee)),H}(t,a,y):function(H,X){if(r.isBuffer(X)){var fe=0|b(X.length);return(H=m(H,fe)).length===0||X.copy(H,0,0,fe),H}if(X){if(typeof ArrayBuffer!="undefined"&&X.buffer instanceof ArrayBuffer||"length"in X)return typeof X.length!="number"||(ve=X.length)!=ve?m(H,0):k(H,X);if(X.type==="Buffer"&&u(X.data))return k(H,X.data)}var ve;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,a)}function _(t){if(typeof t!="number")throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function x(t,a){if(_(a),t=m(t,a<0?0:0|b(a)),!r.TYPED_ARRAY_SUPPORT)for(var y=0;y<a;++y)t[y]=0;return t}function k(t,a){var y=a.length<0?0:0|b(a.length);t=m(t,y);for(var q=0;q<y;q+=1)t[q]=255&a[q];return t}function b(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function w(t,a){if(r.isBuffer(t))return t.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;typeof t!="string"&&(t=""+t);var y=t.length;if(y===0)return 0;for(var q=!1;;)switch(a){case"ascii":case"latin1":case"binary":return y;case"utf8":case"utf-8":case void 0:return ie(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*y;case"hex":return y>>>1;case"base64":return _e(t).length;default:if(q)return ie(t).length;a=(""+a).toLowerCase(),q=!0}}function P(t,a,y){var q=!1;if((a===void 0||a<0)&&(a=0),a>this.length||((y===void 0||y>this.length)&&(y=this.length),y<=0)||(y>>>=0)<=(a>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return z(this,a,y);case"utf8":case"utf-8":return M(this,a,y);case"ascii":return A(this,a,y);case"latin1":case"binary":return g(this,a,y);case"base64":return c(this,a,y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q(this,a,y);default:if(q)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),q=!0}}function O(t,a,y){var q=t[a];t[a]=t[y],t[y]=q}function T(t,a,y,q,H){if(t.length===0)return-1;if(typeof y=="string"?(q=y,y=0):y>2147483647?y=2147483647:y<-2147483648&&(y=-2147483648),y=+y,isNaN(y)&&(y=H?0:t.length-1),y<0&&(y=t.length+y),y>=t.length){if(H)return-1;y=t.length-1}else if(y<0){if(!H)return-1;y=0}if(typeof a=="string"&&(a=r.from(a,q)),r.isBuffer(a))return a.length===0?-1:f(t,a,y,q,H);if(typeof a=="number")return a&=255,r.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?H?Uint8Array.prototype.indexOf.call(t,a,y):Uint8Array.prototype.lastIndexOf.call(t,a,y):f(t,[a],y,q,H);throw new TypeError("val must be string, number or Buffer")}function f(t,a,y,q,H){var X,fe=1,ve=t.length,Ee=a.length;if(q!==void 0&&((q=String(q).toLowerCase())==="ucs2"||q==="ucs-2"||q==="utf16le"||q==="utf-16le")){if(t.length<2||a.length<2)return-1;fe=2,ve/=2,Ee/=2,y/=2}function Oe(Ze,Ke){return fe===1?Ze[Ke]:Ze.readUInt16BE(Ke*fe)}if(H){var Ce=-1;for(X=y;X<ve;X++)if(Oe(t,X)===Oe(a,Ce===-1?0:X-Ce)){if(Ce===-1&&(Ce=X),X-Ce+1===Ee)return Ce*fe}else Ce!==-1&&(X-=X-Ce),Ce=-1}else for(y+Ee>ve&&(y=ve-Ee),X=y;X>=0;X--){for(var ze=!0,Ge=0;Ge<Ee;Ge++)if(Oe(t,X+Ge)!==Oe(a,Ge)){ze=!1;break}if(ze)return X}return-1}function n(t,a,y,q){y=Number(y)||0;var H=t.length-y;q?(q=Number(q))>H&&(q=H):q=H;var X=a.length;if(X%2!=0)throw new TypeError("Invalid hex string");q>X/2&&(q=X/2);for(var fe=0;fe<q;++fe){var ve=parseInt(a.substr(2*fe,2),16);if(isNaN(ve))return fe;t[y+fe]=ve}return fe}function e(t,a,y,q){return we(ie(a,t.length-y),t,y,q)}function o(t,a,y,q){return we(function(H){for(var X=[],fe=0;fe<H.length;++fe)X.push(255&H.charCodeAt(fe));return X}(a),t,y,q)}function C(t,a,y,q){return o(t,a,y,q)}function E(t,a,y,q){return we(_e(a),t,y,q)}function F(t,a,y,q){return we(function(H,X){for(var fe,ve,Ee,Oe=[],Ce=0;Ce<H.length&&!((X-=2)<0);++Ce)fe=H.charCodeAt(Ce),ve=fe>>8,Ee=fe%256,Oe.push(Ee),Oe.push(ve);return Oe}(a,t.length-y),t,y,q)}function c(t,a,y){return a===0&&y===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(a,y))}function M(t,a,y){y=Math.min(t.length,y);for(var q=[],H=a;H<y;){var X,fe,ve,Ee,Oe=t[H],Ce=null,ze=Oe>239?4:Oe>223?3:Oe>191?2:1;if(H+ze<=y)switch(ze){case 1:Oe<128&&(Ce=Oe);break;case 2:(192&(X=t[H+1]))==128&&(Ee=(31&Oe)<<6|63&X)>127&&(Ce=Ee);break;case 3:X=t[H+1],fe=t[H+2],(192&X)==128&&(192&fe)==128&&(Ee=(15&Oe)<<12|(63&X)<<6|63&fe)>2047&&(Ee<55296||Ee>57343)&&(Ce=Ee);break;case 4:X=t[H+1],fe=t[H+2],ve=t[H+3],(192&X)==128&&(192&fe)==128&&(192&ve)==128&&(Ee=(15&Oe)<<18|(63&X)<<12|(63&fe)<<6|63&ve)>65535&&Ee<1114112&&(Ce=Ee)}Ce===null?(Ce=65533,ze=1):Ce>65535&&(Ce-=65536,q.push(Ce>>>10&1023|55296),Ce=56320|1023&Ce),q.push(Ce),H+=ze}return function(Ge){var Ze=Ge.length;if(Ze<=4096)return String.fromCharCode.apply(String,Ge);for(var Ke="",$e=0;$e<Ze;)Ke+=String.fromCharCode.apply(String,Ge.slice($e,$e+=4096));return Ke}(q)}I.Buffer=r,I.SlowBuffer=function(t){return+t!=t&&(t=0),r.alloc(+t)},I.INSPECT_MAX_BYTES=50,r.TYPED_ARRAY_SUPPORT=d.TYPED_ARRAY_SUPPORT!==void 0?d.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},t.foo()===42&&typeof t.subarray=="function"&&t.subarray(1,1).byteLength===0}catch{return!1}}(),I.kMaxLength=s(),r.poolSize=8192,r._augment=function(t){return t.__proto__=r.prototype,t},r.from=function(t,a,y){return S(null,t,a,y)},r.TYPED_ARRAY_SUPPORT&&(r.prototype.__proto__=Uint8Array.prototype,r.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&r[Symbol.species]===r&&Object.defineProperty(r,Symbol.species,{value:null,configurable:!0})),r.alloc=function(t,a,y){return function(q,H,X,fe){return _(H),H<=0?m(q,H):X!==void 0?typeof fe=="string"?m(q,H).fill(X,fe):m(q,H).fill(X):m(q,H)}(null,t,a,y)},r.allocUnsafe=function(t){return x(null,t)},r.allocUnsafeSlow=function(t){return x(null,t)},r.isBuffer=function(t){return!(t==null||!t._isBuffer)},r.compare=function(t,a){if(!r.isBuffer(t)||!r.isBuffer(a))throw new TypeError("Arguments must be Buffers");if(t===a)return 0;for(var y=t.length,q=a.length,H=0,X=Math.min(y,q);H<X;++H)if(t[H]!==a[H]){y=t[H],q=a[H];break}return y<q?-1:q<y?1:0},r.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(t,a){if(!u(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return r.alloc(0);var y;if(a===void 0)for(a=0,y=0;y<t.length;++y)a+=t[y].length;var q=r.allocUnsafe(a),H=0;for(y=0;y<t.length;++y){var X=t[y];if(!r.isBuffer(X))throw new TypeError('"list" argument must be an Array of Buffers');X.copy(q,H),H+=X.length}return q},r.byteLength=w,r.prototype._isBuffer=!0,r.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var a=0;a<t;a+=2)O(this,a,a+1);return this},r.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var a=0;a<t;a+=4)O(this,a,a+3),O(this,a+1,a+2);return this},r.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var a=0;a<t;a+=8)O(this,a,a+7),O(this,a+1,a+6),O(this,a+2,a+5),O(this,a+3,a+4);return this},r.prototype.toString=function(){var t=0|this.length;return t===0?"":arguments.length===0?M(this,0,t):P.apply(this,arguments)},r.prototype.equals=function(t){if(!r.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||r.compare(this,t)===0},r.prototype.inspect=function(){var t="",a=I.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,a).match(/.{2}/g).join(" "),this.length>a&&(t+=" ... ")),"<Buffer "+t+">"},r.prototype.compare=function(t,a,y,q,H){if(!r.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(a===void 0&&(a=0),y===void 0&&(y=t?t.length:0),q===void 0&&(q=0),H===void 0&&(H=this.length),a<0||y>t.length||q<0||H>this.length)throw new RangeError("out of range index");if(q>=H&&a>=y)return 0;if(q>=H)return-1;if(a>=y)return 1;if(this===t)return 0;for(var X=(H>>>=0)-(q>>>=0),fe=(y>>>=0)-(a>>>=0),ve=Math.min(X,fe),Ee=this.slice(q,H),Oe=t.slice(a,y),Ce=0;Ce<ve;++Ce)if(Ee[Ce]!==Oe[Ce]){X=Ee[Ce],fe=Oe[Ce];break}return X<fe?-1:fe<X?1:0},r.prototype.includes=function(t,a,y){return this.indexOf(t,a,y)!==-1},r.prototype.indexOf=function(t,a,y){return T(this,t,a,y,!0)},r.prototype.lastIndexOf=function(t,a,y){return T(this,t,a,y,!1)},r.prototype.write=function(t,a,y,q){if(a===void 0)q="utf8",y=this.length,a=0;else if(y===void 0&&typeof a=="string")q=a,y=this.length,a=0;else{if(!isFinite(a))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");a|=0,isFinite(y)?(y|=0,q===void 0&&(q="utf8")):(q=y,y=void 0)}var H=this.length-a;if((y===void 0||y>H)&&(y=H),t.length>0&&(y<0||a<0)||a>this.length)throw new RangeError("Attempt to write outside buffer bounds");q||(q="utf8");for(var X=!1;;)switch(q){case"hex":return n(this,t,a,y);case"utf8":case"utf-8":return e(this,t,a,y);case"ascii":return o(this,t,a,y);case"latin1":case"binary":return C(this,t,a,y);case"base64":return E(this,t,a,y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,t,a,y);default:if(X)throw new TypeError("Unknown encoding: "+q);q=(""+q).toLowerCase(),X=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function A(t,a,y){var q="";y=Math.min(t.length,y);for(var H=a;H<y;++H)q+=String.fromCharCode(127&t[H]);return q}function g(t,a,y){var q="";y=Math.min(t.length,y);for(var H=a;H<y;++H)q+=String.fromCharCode(t[H]);return q}function z(t,a,y){var q=t.length;(!a||a<0)&&(a=0),(!y||y<0||y>q)&&(y=q);for(var H="",X=a;X<y;++X)H+=be(t[X]);return H}function Q(t,a,y){for(var q=t.slice(a,y),H="",X=0;X<q.length;X+=2)H+=String.fromCharCode(q[X]+256*q[X+1]);return H}function Z(t,a,y){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+a>y)throw new RangeError("Trying to access beyond buffer length")}function le(t,a,y,q,H,X){if(!r.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(a>H||a<X)throw new RangeError('"value" argument is out of bounds');if(y+q>t.length)throw new RangeError("Index out of range")}function ae(t,a,y,q){a<0&&(a=65535+a+1);for(var H=0,X=Math.min(t.length-y,2);H<X;++H)t[y+H]=(a&255<<8*(q?H:1-H))>>>8*(q?H:1-H)}function L(t,a,y,q){a<0&&(a=4294967295+a+1);for(var H=0,X=Math.min(t.length-y,4);H<X;++H)t[y+H]=a>>>8*(q?H:3-H)&255}function D(t,a,y,q,H,X){if(y+q>t.length)throw new RangeError("Index out of range");if(y<0)throw new RangeError("Index out of range")}function ee(t,a,y,q,H){return H||D(t,0,y,4),h.write(t,a,y,q,23,4),y+4}function ne(t,a,y,q,H){return H||D(t,0,y,8),h.write(t,a,y,q,52,8),y+8}r.prototype.slice=function(t,a){var y,q=this.length;if((t=~~t)<0?(t+=q)<0&&(t=0):t>q&&(t=q),(a=a===void 0?q:~~a)<0?(a+=q)<0&&(a=0):a>q&&(a=q),a<t&&(a=t),r.TYPED_ARRAY_SUPPORT)(y=this.subarray(t,a)).__proto__=r.prototype;else{var H=a-t;y=new r(H,void 0);for(var X=0;X<H;++X)y[X]=this[X+t]}return y},r.prototype.readUIntLE=function(t,a,y){t|=0,a|=0,y||Z(t,a,this.length);for(var q=this[t],H=1,X=0;++X<a&&(H*=256);)q+=this[t+X]*H;return q},r.prototype.readUIntBE=function(t,a,y){t|=0,a|=0,y||Z(t,a,this.length);for(var q=this[t+--a],H=1;a>0&&(H*=256);)q+=this[t+--a]*H;return q},r.prototype.readUInt8=function(t,a){return a||Z(t,1,this.length),this[t]},r.prototype.readUInt16LE=function(t,a){return a||Z(t,2,this.length),this[t]|this[t+1]<<8},r.prototype.readUInt16BE=function(t,a){return a||Z(t,2,this.length),this[t]<<8|this[t+1]},r.prototype.readUInt32LE=function(t,a){return a||Z(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},r.prototype.readUInt32BE=function(t,a){return a||Z(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},r.prototype.readIntLE=function(t,a,y){t|=0,a|=0,y||Z(t,a,this.length);for(var q=this[t],H=1,X=0;++X<a&&(H*=256);)q+=this[t+X]*H;return q>=(H*=128)&&(q-=Math.pow(2,8*a)),q},r.prototype.readIntBE=function(t,a,y){t|=0,a|=0,y||Z(t,a,this.length);for(var q=a,H=1,X=this[t+--q];q>0&&(H*=256);)X+=this[t+--q]*H;return X>=(H*=128)&&(X-=Math.pow(2,8*a)),X},r.prototype.readInt8=function(t,a){return a||Z(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},r.prototype.readInt16LE=function(t,a){a||Z(t,2,this.length);var y=this[t]|this[t+1]<<8;return 32768&y?4294901760|y:y},r.prototype.readInt16BE=function(t,a){a||Z(t,2,this.length);var y=this[t+1]|this[t]<<8;return 32768&y?4294901760|y:y},r.prototype.readInt32LE=function(t,a){return a||Z(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},r.prototype.readInt32BE=function(t,a){return a||Z(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},r.prototype.readFloatLE=function(t,a){return a||Z(t,4,this.length),h.read(this,t,!0,23,4)},r.prototype.readFloatBE=function(t,a){return a||Z(t,4,this.length),h.read(this,t,!1,23,4)},r.prototype.readDoubleLE=function(t,a){return a||Z(t,8,this.length),h.read(this,t,!0,52,8)},r.prototype.readDoubleBE=function(t,a){return a||Z(t,8,this.length),h.read(this,t,!1,52,8)},r.prototype.writeUIntLE=function(t,a,y,q){t=+t,a|=0,y|=0,q||le(this,t,a,y,Math.pow(2,8*y)-1,0);var H=1,X=0;for(this[a]=255&t;++X<y&&(H*=256);)this[a+X]=t/H&255;return a+y},r.prototype.writeUIntBE=function(t,a,y,q){t=+t,a|=0,y|=0,q||le(this,t,a,y,Math.pow(2,8*y)-1,0);var H=y-1,X=1;for(this[a+H]=255&t;--H>=0&&(X*=256);)this[a+H]=t/X&255;return a+y},r.prototype.writeUInt8=function(t,a,y){return t=+t,a|=0,y||le(this,t,a,1,255,0),r.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[a]=255&t,a+1},r.prototype.writeUInt16LE=function(t,a,y){return t=+t,a|=0,y||le(this,t,a,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[a]=255&t,this[a+1]=t>>>8):ae(this,t,a,!0),a+2},r.prototype.writeUInt16BE=function(t,a,y){return t=+t,a|=0,y||le(this,t,a,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[a]=t>>>8,this[a+1]=255&t):ae(this,t,a,!1),a+2},r.prototype.writeUInt32LE=function(t,a,y){return t=+t,a|=0,y||le(this,t,a,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[a+3]=t>>>24,this[a+2]=t>>>16,this[a+1]=t>>>8,this[a]=255&t):L(this,t,a,!0),a+4},r.prototype.writeUInt32BE=function(t,a,y){return t=+t,a|=0,y||le(this,t,a,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[a]=t>>>24,this[a+1]=t>>>16,this[a+2]=t>>>8,this[a+3]=255&t):L(this,t,a,!1),a+4},r.prototype.writeIntLE=function(t,a,y,q){if(t=+t,a|=0,!q){var H=Math.pow(2,8*y-1);le(this,t,a,y,H-1,-H)}var X=0,fe=1,ve=0;for(this[a]=255&t;++X<y&&(fe*=256);)t<0&&ve===0&&this[a+X-1]!==0&&(ve=1),this[a+X]=(t/fe>>0)-ve&255;return a+y},r.prototype.writeIntBE=function(t,a,y,q){if(t=+t,a|=0,!q){var H=Math.pow(2,8*y-1);le(this,t,a,y,H-1,-H)}var X=y-1,fe=1,ve=0;for(this[a+X]=255&t;--X>=0&&(fe*=256);)t<0&&ve===0&&this[a+X+1]!==0&&(ve=1),this[a+X]=(t/fe>>0)-ve&255;return a+y},r.prototype.writeInt8=function(t,a,y){return t=+t,a|=0,y||le(this,t,a,1,127,-128),r.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[a]=255&t,a+1},r.prototype.writeInt16LE=function(t,a,y){return t=+t,a|=0,y||le(this,t,a,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[a]=255&t,this[a+1]=t>>>8):ae(this,t,a,!0),a+2},r.prototype.writeInt16BE=function(t,a,y){return t=+t,a|=0,y||le(this,t,a,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[a]=t>>>8,this[a+1]=255&t):ae(this,t,a,!1),a+2},r.prototype.writeInt32LE=function(t,a,y){return t=+t,a|=0,y||le(this,t,a,4,2147483647,-2147483648),r.TYPED_ARRAY_SUPPORT?(this[a]=255&t,this[a+1]=t>>>8,this[a+2]=t>>>16,this[a+3]=t>>>24):L(this,t,a,!0),a+4},r.prototype.writeInt32BE=function(t,a,y){return t=+t,a|=0,y||le(this,t,a,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),r.TYPED_ARRAY_SUPPORT?(this[a]=t>>>24,this[a+1]=t>>>16,this[a+2]=t>>>8,this[a+3]=255&t):L(this,t,a,!1),a+4},r.prototype.writeFloatLE=function(t,a,y){return ee(this,t,a,!0,y)},r.prototype.writeFloatBE=function(t,a,y){return ee(this,t,a,!1,y)},r.prototype.writeDoubleLE=function(t,a,y){return ne(this,t,a,!0,y)},r.prototype.writeDoubleBE=function(t,a,y){return ne(this,t,a,!1,y)},r.prototype.copy=function(t,a,y,q){if(y||(y=0),q||q===0||(q=this.length),a>=t.length&&(a=t.length),a||(a=0),q>0&&q<y&&(q=y),q===y||t.length===0||this.length===0)return 0;if(a<0)throw new RangeError("targetStart out of bounds");if(y<0||y>=this.length)throw new RangeError("sourceStart out of bounds");if(q<0)throw new RangeError("sourceEnd out of bounds");q>this.length&&(q=this.length),t.length-a<q-y&&(q=t.length-a+y);var H,X=q-y;if(this===t&&y<a&&a<q)for(H=X-1;H>=0;--H)t[H+a]=this[H+y];else if(X<1e3||!r.TYPED_ARRAY_SUPPORT)for(H=0;H<X;++H)t[H+a]=this[H+y];else Uint8Array.prototype.set.call(t,this.subarray(y,y+X),a);return X},r.prototype.fill=function(t,a,y,q){if(typeof t=="string"){if(typeof a=="string"?(q=a,a=0,y=this.length):typeof y=="string"&&(q=y,y=this.length),t.length===1){var H=t.charCodeAt(0);H<256&&(t=H)}if(q!==void 0&&typeof q!="string")throw new TypeError("encoding must be a string");if(typeof q=="string"&&!r.isEncoding(q))throw new TypeError("Unknown encoding: "+q)}else typeof t=="number"&&(t&=255);if(a<0||this.length<a||this.length<y)throw new RangeError("Out of range index");if(y<=a)return this;var X;if(a>>>=0,y=y===void 0?this.length:y>>>0,t||(t=0),typeof t=="number")for(X=a;X<y;++X)this[X]=t;else{var fe=r.isBuffer(t)?t:ie(new r(t,q).toString()),ve=fe.length;for(X=0;X<y-a;++X)this[X+a]=fe[X%ve]}return this};var se=/[^+\/0-9A-Za-z-_]/g;function be(t){return t<16?"0"+t.toString(16):t.toString(16)}function ie(t,a){var y;a=a||1/0;for(var q=t.length,H=null,X=[],fe=0;fe<q;++fe){if((y=t.charCodeAt(fe))>55295&&y<57344){if(!H){if(y>56319){(a-=3)>-1&&X.push(239,191,189);continue}if(fe+1===q){(a-=3)>-1&&X.push(239,191,189);continue}H=y;continue}if(y<56320){(a-=3)>-1&&X.push(239,191,189),H=y;continue}y=65536+(H-55296<<10|y-56320)}else H&&(a-=3)>-1&&X.push(239,191,189);if(H=null,y<128){if((a-=1)<0)break;X.push(y)}else if(y<2048){if((a-=2)<0)break;X.push(y>>6|192,63&y|128)}else if(y<65536){if((a-=3)<0)break;X.push(y>>12|224,y>>6&63|128,63&y|128)}else{if(!(y<1114112))throw new Error("Invalid code point");if((a-=4)<0)break;X.push(y>>18|240,y>>12&63|128,y>>6&63|128,63&y|128)}}return X}function _e(t){return i.toByteArray(function(a){if((a=function(y){return y.trim?y.trim():y.replace(/^\s+|\s+$/g,"")}(a).replace(se,"")).length<2)return"";for(;a.length%4!=0;)a+="=";return a}(t))}function we(t,a,y,q){for(var H=0;H<q&&!(H+y>=a.length||H>=t.length);++H)a[H+y]=t[H];return H}}).call(this,p(1))},function($,I){var p,d,i=$.exports={};function h(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function s(P){if(p===setTimeout)return setTimeout(P,0);if((p===h||!p)&&setTimeout)return p=setTimeout,setTimeout(P,0);try{return p(P,0)}catch{try{return p.call(null,P,0)}catch{return p.call(this,P,0)}}}(function(){try{p=typeof setTimeout=="function"?setTimeout:h}catch{p=h}try{d=typeof clearTimeout=="function"?clearTimeout:u}catch{d=u}})();var m,r=[],S=!1,_=-1;function x(){S&&m&&(S=!1,m.length?r=m.concat(r):_=-1,r.length&&k())}function k(){if(!S){var P=s(x);S=!0;for(var O=r.length;O;){for(m=r,r=[];++_<O;)m&&m[_].run();_=-1,O=r.length}m=null,S=!1,function(T){if(d===clearTimeout)return clearTimeout(T);if((d===u||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(T);try{d(T)}catch{try{return d.call(null,T)}catch{return d.call(this,T)}}}(P)}}function b(P,O){this.fun=P,this.array=O}function w(){}i.nextTick=function(P){var O=new Array(arguments.length-1);if(arguments.length>1)for(var T=1;T<arguments.length;T++)O[T-1]=arguments[T];r.push(new b(P,O)),r.length!==1||S||s(k)},b.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=w,i.addListener=w,i.once=w,i.off=w,i.removeListener=w,i.removeAllListeners=w,i.emit=w,i.prependListener=w,i.prependOnceListener=w,i.listeners=function(P){return[]},i.binding=function(P){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(P){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function($,I){typeof Object.create=="function"?$.exports=function(p,d){d&&(p.super_=d,p.prototype=Object.create(d.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}))}:$.exports=function(p,d){if(d){p.super_=d;var i=function(){};i.prototype=d.prototype,p.prototype=new i,p.prototype.constructor=p}}},function($,I,p){(function(d){I.formatArgs=function(h){if(h[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+h[0]+(this.useColors?"%c ":" ")+"+"+$.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;h.splice(1,0,u,"color: inherit");let s=0,m=0;h[0].replace(/%[a-zA-Z%]/g,r=>{r!=="%%"&&(s++,r==="%c"&&(m=s))}),h.splice(m,0,u)},I.save=function(h){try{h?I.storage.setItem("debug",h):I.storage.removeItem("debug")}catch{}},I.load=function(){let h;try{h=I.storage.getItem("debug")}catch{}return!h&&d!==void 0&&"env"in d&&(h=d.env.DEBUG),h},I.useColors=function(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},I.storage=function(){try{return localStorage}catch{}}(),I.destroy=(()=>{let h=!1;return()=>{h||(h=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),I.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],I.log=console.debug||console.log||(()=>{}),$.exports=p(71)(I);const{formatters:i}=$.exports;i.j=function(h){try{return JSON.stringify(h)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}}).call(this,p(3))},function($,I,p){p.d(I,"a",function(){return h}),p.d(I,"b",function(){return u});const d={deserialize:s=>Object.assign(Error(s.message),{name:s.name,stack:s.stack}),serialize:s=>({__error_marker:"$$error",message:s.message,name:s.name,stack:s.stack})};let i={deserialize(s){return(m=s)&&typeof m=="object"&&"__error_marker"in m&&m.__error_marker==="$$error"?d.deserialize(s):s;var m},serialize:s=>s instanceof Error?d.serialize(s):s};function h(s){return i.deserialize(s)}function u(s){return i.serialize(s)}},function($,I,p){var d=p(15),i=Object.keys||function(b){var w=[];for(var P in b)w.push(P);return w};$.exports=_;var h=Object.create(p(10));h.inherits=p(4);var u=p(26),s=p(30);h.inherits(_,u);for(var m=i(s.prototype),r=0;r<m.length;r++){var S=m[r];_.prototype[S]||(_.prototype[S]=s.prototype[S])}function _(b){if(!(this instanceof _))return new _(b);u.call(this,b),s.call(this,b),b&&b.readable===!1&&(this.readable=!1),b&&b.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,b&&b.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",x)}function x(){this.allowHalfOpen||this._writableState.ended||d.nextTick(k,this)}function k(b){b.end()}Object.defineProperty(_.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(_.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(b){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=b,this._writableState.destroyed=b)}}),_.prototype._destroy=function(b,w){this.push(null),this.end(),d.nextTick(w,b)}},function($,I,p){let d;function i(){return d||(d=function(){try{throw new Error}catch(S){const _=(""+S.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\/\/[^)\n]+/g);if(_)return(""+_[0]).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\/\/.+)?\/[^/]+(?:\?.*)?$/,"$1")+"/"}return"/"}()),d}p.d(I,"a",function(){return h}),p.d(I,"b",function(){return r});const h=typeof navigator!="undefined"&&navigator.hardwareConcurrency?navigator.hardwareConcurrency:4,u=S=>/^[a-zA-Z][a-zA-Z\d+\-.]*:/.test(S);function s(S){const _=new Blob([S],{type:"application/javascript"});return URL.createObjectURL(_)}let m;function r(){return m||(m=function(){if(typeof Worker=="undefined")return class{constructor(){throw Error("No web worker implementation available. You might have tried to spawn a worker within a worker in a browser that doesn't support workers in workers.")}};class S extends Worker{constructor(k,b){var w,P;typeof k=="string"&&b&&b._baseURL?k=new URL(k,b._baseURL):typeof k=="string"&&!u(k)&&i().match(/^file:\/\//i)&&(k=new URL(k,i().replace(/\/[^\/]+$/,"/")),((w=b==null?void 0:b.CORSWorkaround)===null||w===void 0||w)&&(k=s(`importScripts(${JSON.stringify(k)});`))),typeof k=="string"&&u(k)&&((P=b==null?void 0:b.CORSWorkaround)===null||P===void 0||P)&&(k=s(`importScripts(${JSON.stringify(k)});`)),super(k,b)}}class _ extends S{constructor(k,b){super(window.URL.createObjectURL(k),b)}static fromText(k,b){const w=new window.Blob([k],{type:"text/javascript"});return new _(w,b)}}return{blob:_,default:S}}()),m}},function($,I,p){var d,i;p.d(I,"a",function(){return d}),p.d(I,"b",function(){return i}),function(h){h.cancel="cancel",h.run="run"}(d||(d={})),function(h){h.error="error",h.init="init",h.result="result",h.running="running",h.uncaughtError="uncaughtError"}(i||(i={}))},function($,I,p){function d(i){return Object.prototype.toString.call(i)}I.isArray=function(i){return Array.isArray?Array.isArray(i):d(i)==="[object Array]"},I.isBoolean=function(i){return typeof i=="boolean"},I.isNull=function(i){return i===null},I.isNullOrUndefined=function(i){return i==null},I.isNumber=function(i){return typeof i=="number"},I.isString=function(i){return typeof i=="string"},I.isSymbol=function(i){return typeof i=="symbol"},I.isUndefined=function(i){return i===void 0},I.isRegExp=function(i){return d(i)==="[object RegExp]"},I.isObject=function(i){return typeof i=="object"&&i!==null},I.isDate=function(i){return d(i)==="[object Date]"},I.isError=function(i){return d(i)==="[object Error]"||i instanceof Error},I.isFunction=function(i){return typeof i=="function"},I.isPrimitive=function(i){return i===null||typeof i=="boolean"||typeof i=="number"||typeof i=="string"||typeof i=="symbol"||i===void 0},I.isBuffer=p(2).Buffer.isBuffer},function($,I,p){p.d(I,"a",function(){return h});var d=p(0);function i(u){throw Error(u)}const h={errors:u=>u[d.a]||i("Error observable not found. Make sure to pass a thread instance as returned by the spawn() promise."),events:u=>u[d.b]||i("Events observable not found. Make sure to pass a thread instance as returned by the spawn() promise."),terminate:u=>u[d.c]()}},function($,I){},function($,I,p){const d=()=>typeof Symbol=="function",i=n=>d()&&Boolean(Symbol[n]),h=n=>i(n)?Symbol[n]:"@@"+n;i("asyncIterator")||(Symbol.asyncIterator=Symbol.asyncIterator||Symbol.for("Symbol.asyncIterator"));const u=h("iterator"),s=h("observable"),m=h("species");function r(n,e){const o=n[e];if(o!=null){if(typeof o!="function")throw new TypeError(o+" is not a function");return o}}function S(n){let e=n.constructor;return e!==void 0&&(e=e[m],e===null&&(e=void 0)),e!==void 0?e:f}function _(n){_.log?_.log(n):setTimeout(()=>{throw n},0)}function x(n){Promise.resolve().then(()=>{try{n()}catch(e){_(e)}})}function k(n){const e=n._cleanup;if(e!==void 0&&(n._cleanup=void 0,e))try{if(typeof e=="function")e();else{const o=r(e,"unsubscribe");o&&o.call(e)}}catch(o){_(o)}}function b(n){n._observer=void 0,n._queue=void 0,n._state="closed"}function w(n,e,o){n._state="running";const C=n._observer;try{const E=C?r(C,e):void 0;switch(e){case"next":E&&E.call(C,o);break;case"error":if(b(n),!E)throw o;E.call(C,o);break;case"complete":b(n),E&&E.call(C)}}catch(E){_(E)}n._state==="closed"?k(n):n._state==="running"&&(n._state="ready")}function P(n,e,o){if(n._state!=="closed")return n._state==="buffering"?(n._queue=n._queue||[],void n._queue.push({type:e,value:o})):n._state!=="ready"?(n._state="buffering",n._queue=[{type:e,value:o}],void x(()=>function(C){const E=C._queue;if(E){C._queue=void 0,C._state="ready";for(const F of E)if(w(C,F.type,F.value),C._state==="closed")break}}(n))):void w(n,e,o)}class O{constructor(e,o){this._cleanup=void 0,this._observer=e,this._queue=void 0,this._state="initializing";const C=new T(this);try{this._cleanup=o.call(void 0,C)}catch(E){C.error(E)}this._state==="initializing"&&(this._state="ready")}get closed(){return this._state==="closed"}unsubscribe(){this._state!=="closed"&&(b(this),k(this))}}class T{constructor(e){this._subscription=e}get closed(){return this._subscription._state==="closed"}next(e){P(this._subscription,"next",e)}error(e){P(this._subscription,"error",e)}complete(){P(this._subscription,"complete")}}class f{constructor(e){if(!(this instanceof f))throw new TypeError("Observable cannot be called as a function");if(typeof e!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=e}subscribe(e,o,C){return typeof e=="object"&&e!==null||(e={next:e,error:o,complete:C}),new O(e,this._subscriber)}pipe(e,...o){let C=this;for(const E of[e,...o])C=E(C);return C}tap(e,o,C){const E=typeof e!="object"||e===null?{next:e,error:o,complete:C}:e;return new f(F=>this.subscribe({next(c){E.next&&E.next(c),F.next(c)},error(c){E.error&&E.error(c),F.error(c)},complete(){E.complete&&E.complete(),F.complete()},start(c){E.start&&E.start(c)}}))}forEach(e){return new Promise((o,C)=>{if(typeof e!="function")return void C(new TypeError(e+" is not a function"));function E(){F.unsubscribe(),o(void 0)}const F=this.subscribe({next(c){try{e(c,E)}catch(M){C(M),F.unsubscribe()}},error(c){C(c)},complete(){o(void 0)}})})}map(e){if(typeof e!="function")throw new TypeError(e+" is not a function");return new(S(this))(o=>this.subscribe({next(C){let E=C;try{E=e(C)}catch(F){return o.error(F)}o.next(E)},error(C){o.error(C)},complete(){o.complete()}}))}filter(e){if(typeof e!="function")throw new TypeError(e+" is not a function");return new(S(this))(o=>this.subscribe({next(C){try{if(!e(C))return}catch(E){return o.error(E)}o.next(C)},error(C){o.error(C)},complete(){o.complete()}}))}reduce(e,o){if(typeof e!="function")throw new TypeError(e+" is not a function");const C=S(this),E=arguments.length>1;let F=!1,c=o;return new C(M=>this.subscribe({next(A){const g=!F;if(F=!0,!g||E)try{c=e(c,A)}catch(z){return M.error(z)}else c=A},error(A){M.error(A)},complete(){if(!F&&!E)return M.error(new TypeError("Cannot reduce an empty sequence"));M.next(c),M.complete()}}))}concat(...e){const o=S(this);return new o(C=>{let E,F=0;return function c(M){E=M.subscribe({next(A){C.next(A)},error(A){C.error(A)},complete(){F===e.length?(E=void 0,C.complete()):c(o.from(e[F++]))}})}(this),()=>{E&&(E.unsubscribe(),E=void 0)}})}flatMap(e){if(typeof e!="function")throw new TypeError(e+" is not a function");const o=S(this);return new o(C=>{const E=[],F=this.subscribe({next(M){let A;if(e)try{A=e(M)}catch(z){return C.error(z)}else A=M;const g=o.from(A).subscribe({next(z){C.next(z)},error(z){C.error(z)},complete(){const z=E.indexOf(g);z>=0&&E.splice(z,1),c()}});E.push(g)},error(M){C.error(M)},complete(){c()}});function c(){F.closed&&E.length===0&&C.complete()}return()=>{E.forEach(M=>M.unsubscribe()),F.unsubscribe()}})}[s](){return this}static from(e){const o=typeof this=="function"?this:f;if(e==null)throw new TypeError(e+" is not an object");const C=r(e,s);if(C){const E=C.call(e);if(Object(E)!==E)throw new TypeError(E+" is not an object");return function(F){return F instanceof f}(E)&&E.constructor===o?E:new o(F=>E.subscribe(F))}if(i("iterator")){const E=r(e,u);if(E)return new o(F=>{x(()=>{if(!F.closed){for(const c of E.call(e))if(F.next(c),F.closed)return;F.complete()}})})}if(Array.isArray(e))return new o(E=>{x(()=>{if(!E.closed){for(const F of e)if(E.next(F),E.closed)return;E.complete()}})});throw new TypeError(e+" is not observable")}static of(...e){return new(typeof this=="function"?this:f)(o=>{x(()=>{if(!o.closed){for(const C of e)if(o.next(C),o.closed)return;o.complete()}})})}static get[m](){return this}}d()&&Object.defineProperty(f,Symbol("extensions"),{value:{symbol:s,hostReportError:_},configurable:!0}),I.a=f},function($,I,p){var d;p.d(I,"a",function(){return d}),function(i){i.internalError="internalError",i.message="message",i.termination="termination"}(d||(d={}))},function($,I,p){(function(d){d===void 0||!d.version||d.version.indexOf("v0.")===0||d.version.indexOf("v1.")===0&&d.version.indexOf("v1.8.")!==0?$.exports={nextTick:function(i,h,u,s){if(typeof i!="function")throw new TypeError('"callback" argument must be a function');var m,r,S=arguments.length;switch(S){case 0:case 1:return d.nextTick(i);case 2:return d.nextTick(function(){i.call(null,h)});case 3:return d.nextTick(function(){i.call(null,h,u)});case 4:return d.nextTick(function(){i.call(null,h,u,s)});default:for(m=new Array(S-1),r=0;r<m.length;)m[r++]=arguments[r];return d.nextTick(function(){i.apply(null,m)})}}}:$.exports=d}).call(this,p(3))},function($,I,p){var d=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";function i(s,m){return Object.prototype.hasOwnProperty.call(s,m)}I.assign=function(s){for(var m=Array.prototype.slice.call(arguments,1);m.length;){var r=m.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(var S in r)i(r,S)&&(s[S]=r[S])}}return s},I.shrinkBuf=function(s,m){return s.length===m?s:s.subarray?s.subarray(0,m):(s.length=m,s)};var h={arraySet:function(s,m,r,S,_){if(m.subarray&&s.subarray)s.set(m.subarray(r,r+S),_);else for(var x=0;x<S;x++)s[_+x]=m[r+x]},flattenChunks:function(s){var m,r,S,_,x,k;for(S=0,m=0,r=s.length;m<r;m++)S+=s[m].length;for(k=new Uint8Array(S),_=0,m=0,r=s.length;m<r;m++)x=s[m],k.set(x,_),_+=x.length;return k}},u={arraySet:function(s,m,r,S,_){for(var x=0;x<S;x++)s[_+x]=m[r+x]},flattenChunks:function(s){return[].concat.apply([],s)}};I.setTyped=function(s){s?(I.Buf8=Uint8Array,I.Buf16=Uint16Array,I.Buf32=Int32Array,I.assign(I,h)):(I.Buf8=Array,I.Buf16=Array,I.Buf32=Array,I.assign(I,u))},I.setTyped(d)},function($,I,p){var d=p(77),i=p(79);function h(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}I.parse=f,I.resolve=function(n,e){return f(n,!1,!0).resolve(e)},I.resolveObject=function(n,e){return n?f(n,!1,!0).resolveObject(e):e},I.format=function(n){return i.isString(n)&&(n=f(n)),n instanceof h?n.format():h.prototype.format.call(n)},I.Url=h;var u=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,m=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,r=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),S=["'"].concat(r),_=["%","/","?",";","#"].concat(S),x=["/","?","#"],k=/^[+a-z0-9A-Z_-]{0,63}$/,b=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,w={javascript:!0,"javascript:":!0},P={javascript:!0,"javascript:":!0},O={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},T=p(80);function f(n,e,o){if(n&&i.isObject(n)&&n instanceof h)return n;var C=new h;return C.parse(n,e,o),C}h.prototype.parse=function(n,e,o){if(!i.isString(n))throw new TypeError("Parameter 'url' must be a string, not "+typeof n);var C=n.indexOf("?"),E=C!==-1&&C<n.indexOf("#")?"?":"#",F=n.split(E);F[0]=F[0].replace(/\\/g,"/");var c=n=F.join(E);if(c=c.trim(),!o&&n.split("#").length===1){var M=m.exec(c);if(M)return this.path=c,this.href=c,this.pathname=M[1],M[2]?(this.search=M[2],this.query=e?T.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var A=u.exec(c);if(A){var g=(A=A[0]).toLowerCase();this.protocol=g,c=c.substr(A.length)}if(o||A||c.match(/^\/\/[^@\/]+@[^@\/]+/)){var z=c.substr(0,2)==="//";!z||A&&P[A]||(c=c.substr(2),this.slashes=!0)}if(!P[A]&&(z||A&&!O[A])){for(var Q,Z,le=-1,ae=0;ae<x.length;ae++)(L=c.indexOf(x[ae]))!==-1&&(le===-1||L<le)&&(le=L);for((Z=le===-1?c.lastIndexOf("@"):c.lastIndexOf("@",le))!==-1&&(Q=c.slice(0,Z),c=c.slice(Z+1),this.auth=decodeURIComponent(Q)),le=-1,ae=0;ae<_.length;ae++){var L;(L=c.indexOf(_[ae]))!==-1&&(le===-1||L<le)&&(le=L)}le===-1&&(le=c.length),this.host=c.slice(0,le),c=c.slice(le),this.parseHost(),this.hostname=this.hostname||"";var D=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!D)for(var ee=this.hostname.split(/\./),ne=(ae=0,ee.length);ae<ne;ae++){var se=ee[ae];if(se&&!se.match(k)){for(var be="",ie=0,_e=se.length;ie<_e;ie++)se.charCodeAt(ie)>127?be+="x":be+=se[ie];if(!be.match(k)){var we=ee.slice(0,ae),t=ee.slice(ae+1),a=se.match(b);a&&(we.push(a[1]),t.unshift(a[2])),t.length&&(c="/"+t.join(".")+c),this.hostname=we.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),D||(this.hostname=d.toASCII(this.hostname));var y=this.port?":"+this.port:"",q=this.hostname||"";this.host=q+y,this.href+=this.host,D&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),c[0]!=="/"&&(c="/"+c))}if(!w[g])for(ae=0,ne=S.length;ae<ne;ae++){var H=S[ae];if(c.indexOf(H)!==-1){var X=encodeURIComponent(H);X===H&&(X=escape(H)),c=c.split(H).join(X)}}var fe=c.indexOf("#");fe!==-1&&(this.hash=c.substr(fe),c=c.slice(0,fe));var ve=c.indexOf("?");if(ve!==-1?(this.search=c.substr(ve),this.query=c.substr(ve+1),e&&(this.query=T.parse(this.query)),c=c.slice(0,ve)):e&&(this.search="",this.query={}),c&&(this.pathname=c),O[g]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){y=this.pathname||"";var Ee=this.search||"";this.path=y+Ee}return this.href=this.format(),this},h.prototype.format=function(){var n=this.auth||"";n&&(n=(n=encodeURIComponent(n)).replace(/%3A/i,":"),n+="@");var e=this.protocol||"",o=this.pathname||"",C=this.hash||"",E=!1,F="";this.host?E=n+this.host:this.hostname&&(E=n+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(E+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(F=T.stringify(this.query));var c=this.search||F&&"?"+F||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||O[e])&&E!==!1?(E="//"+(E||""),o&&o.charAt(0)!=="/"&&(o="/"+o)):E||(E=""),C&&C.charAt(0)!=="#"&&(C="#"+C),c&&c.charAt(0)!=="?"&&(c="?"+c),e+E+(o=o.replace(/[?#]/g,function(M){return encodeURIComponent(M)}))+(c=c.replace("#","%23"))+C},h.prototype.resolve=function(n){return this.resolveObject(f(n,!1,!0)).format()},h.prototype.resolveObject=function(n){if(i.isString(n)){var e=new h;e.parse(n,!1,!0),n=e}for(var o=new h,C=Object.keys(this),E=0;E<C.length;E++){var F=C[E];o[F]=this[F]}if(o.hash=n.hash,n.href==="")return o.href=o.format(),o;if(n.slashes&&!n.protocol){for(var c=Object.keys(n),M=0;M<c.length;M++){var A=c[M];A!=="protocol"&&(o[A]=n[A])}return O[o.protocol]&&o.hostname&&!o.pathname&&(o.path=o.pathname="/"),o.href=o.format(),o}if(n.protocol&&n.protocol!==o.protocol){if(!O[n.protocol]){for(var g=Object.keys(n),z=0;z<g.length;z++){var Q=g[z];o[Q]=n[Q]}return o.href=o.format(),o}if(o.protocol=n.protocol,n.host||P[n.protocol])o.pathname=n.pathname;else{for(var Z=(n.pathname||"").split("/");Z.length&&!(n.host=Z.shift()););n.host||(n.host=""),n.hostname||(n.hostname=""),Z[0]!==""&&Z.unshift(""),Z.length<2&&Z.unshift(""),o.pathname=Z.join("/")}if(o.search=n.search,o.query=n.query,o.host=n.host||"",o.auth=n.auth,o.hostname=n.hostname||n.host,o.port=n.port,o.pathname||o.search){var le=o.pathname||"",ae=o.search||"";o.path=le+ae}return o.slashes=o.slashes||n.slashes,o.href=o.format(),o}var L=o.pathname&&o.pathname.charAt(0)==="/",D=n.host||n.pathname&&n.pathname.charAt(0)==="/",ee=D||L||o.host&&n.pathname,ne=ee,se=o.pathname&&o.pathname.split("/")||[],be=(Z=n.pathname&&n.pathname.split("/")||[],o.protocol&&!O[o.protocol]);if(be&&(o.hostname="",o.port=null,o.host&&(se[0]===""?se[0]=o.host:se.unshift(o.host)),o.host="",n.protocol&&(n.hostname=null,n.port=null,n.host&&(Z[0]===""?Z[0]=n.host:Z.unshift(n.host)),n.host=null),ee=ee&&(Z[0]===""||se[0]==="")),D)o.host=n.host||n.host===""?n.host:o.host,o.hostname=n.hostname||n.hostname===""?n.hostname:o.hostname,o.search=n.search,o.query=n.query,se=Z;else if(Z.length)se||(se=[]),se.pop(),se=se.concat(Z),o.search=n.search,o.query=n.query;else if(!i.isNullOrUndefined(n.search))return be&&(o.hostname=o.host=se.shift(),(a=!!(o.host&&o.host.indexOf("@")>0)&&o.host.split("@"))&&(o.auth=a.shift(),o.host=o.hostname=a.shift())),o.search=n.search,o.query=n.query,i.isNull(o.pathname)&&i.isNull(o.search)||(o.path=(o.pathname?o.pathname:"")+(o.search?o.search:"")),o.href=o.format(),o;if(!se.length)return o.pathname=null,o.search?o.path="/"+o.search:o.path=null,o.href=o.format(),o;for(var ie=se.slice(-1)[0],_e=(o.host||n.host||se.length>1)&&(ie==="."||ie==="..")||ie==="",we=0,t=se.length;t>=0;t--)(ie=se[t])==="."?se.splice(t,1):ie===".."?(se.splice(t,1),we++):we&&(se.splice(t,1),we--);if(!ee&&!ne)for(;we--;we)se.unshift("..");!ee||se[0]===""||se[0]&&se[0].charAt(0)==="/"||se.unshift(""),_e&&se.join("/").substr(-1)!=="/"&&se.push("");var a,y=se[0]===""||se[0]&&se[0].charAt(0)==="/";return be&&(o.hostname=o.host=y?"":se.length?se.shift():"",(a=!!(o.host&&o.host.indexOf("@")>0)&&o.host.split("@"))&&(o.auth=a.shift(),o.host=o.hostname=a.shift())),(ee=ee||o.host&&se.length)&&!y&&se.unshift(""),se.length?o.pathname=se.join("/"):(o.pathname=null,o.path=null),i.isNull(o.pathname)&&i.isNull(o.search)||(o.path=(o.pathname?o.pathname:"")+(o.search?o.search:"")),o.auth=n.auth||o.auth,o.slashes=o.slashes||n.slashes,o.href=o.format(),o},h.prototype.parseHost=function(){var n=this.host,e=s.exec(n);e&&((e=e[0])!==":"&&(this.port=e.substr(1)),n=n.substr(0,n.length-e.length)),n&&(this.hostname=n)}},function($,I,p){(function(d){var i=p(73),h=p(35),u=p(75),s=p(76),m=p(17),r=I;r.request=function(S,_){S=typeof S=="string"?m.parse(S):u(S);var x=d.location.protocol.search(/^https?:$/)===-1?"http:":"",k=S.protocol||x,b=S.hostname||S.host,w=S.port,P=S.path||"/";b&&b.indexOf(":")!==-1&&(b="["+b+"]"),S.url=(b?k+"//"+b:"")+(w?":"+w:"")+P,S.method=(S.method||"GET").toUpperCase(),S.headers=S.headers||{};var O=new i(S);return _&&O.on("response",_),O},r.get=function(S,_){var x=r.request(S,_);return x.end(),x},r.ClientRequest=i,r.IncomingMessage=h.IncomingMessage,r.Agent=function(){},r.Agent.defaultMaxSockets=4,r.globalAgent=new r.Agent,r.STATUS_CODES=s,r.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,p(1))},,function($,I,p){(I=$.exports=p(26)).Stream=I,I.Readable=I,I.Writable=p(30),I.Duplex=p(7),I.Transform=p(32),I.PassThrough=p(59)},function($,I,p){var d=p(2),i=d.Buffer;function h(s,m){for(var r in s)m[r]=s[r]}function u(s,m,r){return i(s,m,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?$.exports=d:(h(d,I),I.Buffer=u),h(i,u),u.from=function(s,m,r){if(typeof s=="number")throw new TypeError("Argument must not be a number");return i(s,m,r)},u.alloc=function(s,m,r){if(typeof s!="number")throw new TypeError("Argument must be a number");var S=i(s);return m!==void 0?typeof r=="string"?S.fill(m,r):S.fill(m):S.fill(0),S},u.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return i(s)},u.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return d.SlowBuffer(s)}},function($,I,p){(function(d){p.d(I,"a",function(){return T});var i=p(5),h=p.n(i),u=p(13),s=p(6),m=p(41),r=p(0),S=p(14),_=p(24),x=function(f,n,e,o){return new(e||(e=Promise))(function(C,E){function F(A){try{M(o.next(A))}catch(g){E(g)}}function c(A){try{M(o.throw(A))}catch(g){E(g)}}function M(A){var g;A.done?C(A.value):(g=A.value,g instanceof e?g:new e(function(z){z(g)})).then(F,c)}M((o=o.apply(f,n||[])).next())})};const k=h()("threads:master:messages"),b=h()("threads:master:spawn"),w=h()("threads:master:thread-utils"),P=d!==void 0&&d.env.THREADS_WORKER_INIT_TIMEOUT?Number.parseInt(d.env.THREADS_WORKER_INIT_TIMEOUT,10):1e4;function O(f,n,e,o){const C=e.filter(E=>E.type===S.a.internalError).map(E=>E.error);return Object.assign(f,{[r.a]:C,[r.b]:e,[r.c]:o,[r.e]:n})}function T(f,n){return x(this,void 0,void 0,function*(){b("Initializing new thread");const e=n&&n.timeout?n.timeout:P,o=(yield function(c,M,A){return x(this,void 0,void 0,function*(){let g;const z=new Promise((Z,le)=>{g=setTimeout(()=>le(Error(A)),M)}),Q=yield Promise.race([c,z]);return clearTimeout(g),Q})}(function(c){return new Promise((M,A)=>{const g=z=>{var Q;k("Message from worker before finishing initialization:",z.data),(Q=z.data)&&Q.type==="init"?(c.removeEventListener("message",g),M(z.data)):(Z=>Z&&Z.type==="uncaughtError")(z.data)&&(c.removeEventListener("message",g),A(Object(s.a)(z.data.error)))};c.addEventListener("message",g)})}(f),e,`Timeout: Did not receive an init message from worker after ${e}ms. Make sure the worker calls expose().`)).exposed,{termination:C,terminate:E}=function(c){const[M,A]=Object(m.a)();return{terminate:()=>x(this,void 0,void 0,function*(){w("Terminating worker"),yield c.terminate(),A()}),termination:M}}(f),F=function(c,M){return new u.a(A=>{const g=Q=>{const Z={type:S.a.message,data:Q.data};A.next(Z)},z=Q=>{w("Unhandled promise rejection event in thread:",Q);const Z={type:S.a.internalError,error:Error(Q.reason)};A.next(Z)};c.addEventListener("message",g),c.addEventListener("unhandledrejection",z),M.then(()=>{const Q={type:S.a.termination};c.removeEventListener("message",g),c.removeEventListener("unhandledrejection",z),A.next(Q),A.complete()})})}(f,C);if(o.type==="function")return O(Object(_.a)(f),f,F,E);if(o.type==="module")return O(Object(_.b)(f,o.methods),f,F,E);{const c=o.type;throw Error("Worker init message states unexpected type of expose(): "+c)}})}}).call(this,p(3))},function($,I,p){p.d(I,"a",function(){return P});var d=p(5),i=p.n(d),h=p(40),u=p(88),s=p(13);function m(O){return Promise.all(O.map(T=>{const f=o=>({status:"fulfilled",value:o}),n=o=>({status:"rejected",reason:o}),e=Promise.resolve(T);try{return e.then(f,n)}catch(o){return Promise.reject(o)}}))}var r,S=p(8);(function(O){O.initialized="initialized",O.taskCanceled="taskCanceled",O.taskCompleted="taskCompleted",O.taskFailed="taskFailed",O.taskQueued="taskQueued",O.taskQueueDrained="taskQueueDrained",O.taskStart="taskStart",O.terminated="terminated"})(r||(r={}));var _=p(11),x=function(O,T,f,n){return new(f||(f=Promise))(function(e,o){function C(c){try{F(n.next(c))}catch(M){o(M)}}function E(c){try{F(n.throw(c))}catch(M){o(M)}}function F(c){var M;c.done?e(c.value):(M=c.value,M instanceof f?M:new f(function(A){A(M)})).then(C,E)}F((n=n.apply(O,T||[])).next())})};let k=1;class b{constructor(T,f){this.eventSubject=new h.a,this.initErrors=[],this.isClosing=!1,this.nextTaskID=1,this.taskQueue=[];const n=typeof f=="number"?{size:f}:f||{},{size:e=S.a}=n;this.debug=i()("threads:pool:"+(n.name||String(k++)).replace(/\W/g," ").trim().replace(/\s+/g,"-")),this.options=n,this.workers=function(o,C){return function(E){const F=[];for(let c=0;c<E;c++)F.push(c);return F}(C).map(()=>({init:o(),runningTasks:[]}))}(T,e),this.eventObservable=Object(u.a)(s.a.from(this.eventSubject)),Promise.all(this.workers.map(o=>o.init)).then(()=>this.eventSubject.next({type:r.initialized,size:this.workers.length}),o=>{this.debug("Error while initializing pool worker:",o),this.eventSubject.error(o),this.initErrors.push(o)})}findIdlingWorker(){const{concurrency:T=1}=this.options;return this.workers.find(f=>f.runningTasks.length<T)}runPoolTask(T,f){return x(this,void 0,void 0,function*(){const n=this.workers.indexOf(T)+1;this.debug(`Running task #${f.id} on worker #${n}...`),this.eventSubject.next({type:r.taskStart,taskID:f.id,workerID:n});try{const e=yield f.run(yield T.init);this.debug(`Task #${f.id} completed successfully`),this.eventSubject.next({type:r.taskCompleted,returnValue:e,taskID:f.id,workerID:n})}catch(e){this.debug(`Task #${f.id} failed`),this.eventSubject.next({type:r.taskFailed,taskID:f.id,error:e,workerID:n})}})}run(T,f){return x(this,void 0,void 0,function*(){const n=(()=>x(this,void 0,void 0,function*(){var e;yield(e=0,new Promise(o=>setTimeout(o,e)));try{yield this.runPoolTask(T,f)}finally{T.runningTasks=T.runningTasks.filter(o=>o!==n),this.isClosing||this.scheduleWork()}}))();T.runningTasks.push(n)})}scheduleWork(){this.debug("Attempt de-queueing a task in order to run it...");const T=this.findIdlingWorker();if(!T)return;const f=this.taskQueue.shift();if(!f)return this.debug("Task queue is empty"),void this.eventSubject.next({type:r.taskQueueDrained});this.run(T,f)}taskCompletion(T){return new Promise((f,n)=>{const e=this.events().subscribe(o=>{o.type===r.taskCompleted&&o.taskID===T?(e.unsubscribe(),f(o.returnValue)):o.type===r.taskFailed&&o.taskID===T?(e.unsubscribe(),n(o.error)):o.type===r.terminated&&(e.unsubscribe(),n(Error("Pool has been terminated before task was run.")))})})}settled(T=!1){return x(this,void 0,void 0,function*(){const f=()=>{return o=this.workers,C=E=>E.runningTasks,o.reduce((E,F)=>[...E,...C(F)],[]);var o,C},n=[],e=this.eventObservable.subscribe(o=>{o.type===r.taskFailed&&n.push(o.error)});return this.initErrors.length>0?Promise.reject(this.initErrors[0]):T&&this.taskQueue.length===0?(yield m(f()),n):(yield new Promise((o,C)=>{const E=this.eventObservable.subscribe({next(F){F.type===r.taskQueueDrained&&(E.unsubscribe(),o(void 0))},error:C})}),yield m(f()),e.unsubscribe(),n)})}completed(T=!1){return x(this,void 0,void 0,function*(){const f=this.settled(T),n=new Promise((o,C)=>{const E=this.eventObservable.subscribe({next(F){F.type===r.taskQueueDrained?(E.unsubscribe(),o(f)):F.type===r.taskFailed&&(E.unsubscribe(),C(F.error))},error:C})}),e=yield Promise.race([f,n]);if(e.length>0)throw e[0]})}events(){return this.eventObservable}queue(T){const{maxQueuedJobs:f=1/0}=this.options;if(this.isClosing)throw Error("Cannot schedule pool tasks after terminate() has been called.");if(this.initErrors.length>0)throw this.initErrors[0];const n=this.nextTaskID++,e=this.taskCompletion(n);e.catch(C=>{this.debug(`Task #${n} errored:`,C)});const o={id:n,run:T,cancel:()=>{this.taskQueue.indexOf(o)!==-1&&(this.taskQueue=this.taskQueue.filter(C=>C!==o),this.eventSubject.next({type:r.taskCanceled,taskID:o.id}))},then:e.then.bind(e)};if(this.taskQueue.length>=f)throw Error(`Maximum number of pool tasks queued. Refusing to queue another one.
This usually happens for one of two reasons: We are either at peak workload right now or some tasks just won't finish, thus blocking the pool.`);return this.debug(`Queueing task #${o.id}...`),this.taskQueue.push(o),this.eventSubject.next({type:r.taskQueued,taskID:o.id}),this.scheduleWork(),o}terminate(T){return x(this,void 0,void 0,function*(){this.isClosing=!0,T||(yield this.completed(!0)),this.eventSubject.next({type:r.terminated,remainingQueue:[...this.taskQueue]}),this.eventSubject.complete(),yield Promise.all(this.workers.map(f=>x(this,void 0,void 0,function*(){return _.a.terminate(yield f.init)})))})}}function w(O,T){return new b(O,T)}b.EventType=r,w.EventType=r;const P=w},function($,I,p){p.d(I,"a",function(){return T}),p.d(I,"b",function(){return f});var d=p(5),i=p.n(d),h=p(13),u=p(88),s=p(6);const m=()=>{},r=n=>n,S=n=>Promise.resolve().then(n);function _(n){throw n}class x extends h.a{constructor(e){super(o=>{const C=this,E=Object.assign(Object.assign({},o),{complete(){o.complete(),C.onCompletion()},error(F){o.error(F),C.onError(F)},next(F){o.next(F),C.onNext(F)}});try{return this.initHasRun=!0,e(E)}catch(F){E.error(F)}}),this.initHasRun=!1,this.fulfillmentCallbacks=[],this.rejectionCallbacks=[],this.firstValueSet=!1,this.state="pending"}onNext(e){this.firstValueSet||(this.firstValue=e,this.firstValueSet=!0)}onError(e){this.state="rejected",this.rejection=e;for(const o of this.rejectionCallbacks)S(()=>o(e))}onCompletion(){this.state="fulfilled";for(const e of this.fulfillmentCallbacks)S(()=>e(this.firstValue))}then(e,o){const C=e||r,E=o||_;let F=!1;return new Promise((c,M)=>{const A=g=>{if(!F){F=!0;try{c(E(g))}catch(z){M(z)}}};return this.initHasRun||this.subscribe({error:A}),this.state==="fulfilled"?c(C(this.firstValue)):this.state==="rejected"?(F=!0,c(E(this.rejection))):(this.fulfillmentCallbacks.push(g=>{try{c(C(g))}catch(z){A(z)}}),void this.rejectionCallbacks.push(A))})}catch(e){return this.then(void 0,e)}finally(e){const o=e||m;return this.then(C=>(o(),C),()=>o())}static from(e){return function(o){return o&&typeof o.then=="function"}(e)?new x(o=>{e.then(C=>{o.next(C),o.complete()},C=>{o.error(C)})}):super.from(e)}}var k=p(42),b=p(9);const w=i()("threads:master:messages");let P=1;function O(n,e){return new h.a(o=>{let C;const E=F=>{var c;if(w("Message from worker:",F.data),F.data&&F.data.uid===e){if((c=F.data)&&c.type===b.b.running)C=F.data.resultType;else if((M=>M&&M.type===b.b.result)(F.data))C==="promise"?(F.data.payload!==void 0&&o.next(Object(s.a)(F.data.payload)),o.complete(),n.removeEventListener("message",E)):(F.data.payload&&o.next(Object(s.a)(F.data.payload)),F.data.complete&&(o.complete(),n.removeEventListener("message",E)));else if((M=>M&&M.type===b.b.error)(F.data)){const M=Object(s.a)(F.data.error);o.error(M),n.removeEventListener("message",E)}}};return n.addEventListener("message",E),()=>{if(C==="observable"||!C){const F={type:b.a.cancel,uid:e};n.postMessage(F)}n.removeEventListener("message",E)}})}function T(n,e){return(...o)=>{const C=P++,{args:E,transferables:F}=function(M){if(M.length===0)return{args:[],transferables:[]};const A=[],g=[];for(const Q of M)Object(k.a)(Q)?(A.push(Object(s.b)(Q.send)),g.push(...Q.transferables)):A.push(Object(s.b)(Q));return{args:A,transferables:g.length===0?g:(z=g,Array.from(new Set(z)))};var z}(o),c={type:b.a.run,uid:C,method:e,args:E};w("Sending command to run function to worker:",c);try{n.postMessage(c,F)}catch(M){return x.from(Promise.reject(M))}return x.from(Object(u.a)(O(n,C)))}}function f(n,e){const o={};for(const C of e)o[C]=T(n,C);return o}},function($,I){var p={}.toString;$.exports=Array.isArray||function(d){return p.call(d)=="[object Array]"}},function($,I,p){(function(d,i){var h=p(15);$.exports=n;var u,s=p(25);n.ReadableState=f,p(27).EventEmitter;var m=function(L,D){return L.listeners(D).length},r=p(28),S=p(21).Buffer,_=d.Uint8Array||function(){},x=Object.create(p(10));x.inherits=p(4);var k=p(52),b=void 0;b=k&&k.debuglog?k.debuglog("stream"):function(){};var w,P=p(53),O=p(29);x.inherits(n,r);var T=["error","close","destroy","pause","resume"];function f(L,D){L=L||{};var ee=D instanceof(u=u||p(7));this.objectMode=!!L.objectMode,ee&&(this.objectMode=this.objectMode||!!L.readableObjectMode);var ne=L.highWaterMark,se=L.readableHighWaterMark,be=this.objectMode?16:16384;this.highWaterMark=ne||ne===0?ne:ee&&(se||se===0)?se:be,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new P,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=L.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,L.encoding&&(w||(w=p(31).StringDecoder),this.decoder=new w(L.encoding),this.encoding=L.encoding)}function n(L){if(u=u||p(7),!(this instanceof n))return new n(L);this._readableState=new f(L,this),this.readable=!0,L&&(typeof L.read=="function"&&(this._read=L.read),typeof L.destroy=="function"&&(this._destroy=L.destroy)),r.call(this)}function e(L,D,ee,ne,se){var be,ie=L._readableState;return D===null?(ie.reading=!1,function(_e,we){if(!we.ended){if(we.decoder){var t=we.decoder.end();t&&t.length&&(we.buffer.push(t),we.length+=we.objectMode?1:t.length)}we.ended=!0,E(_e)}}(L,ie)):(se||(be=function(_e,we){var t;a=we,S.isBuffer(a)||a instanceof _||typeof we=="string"||we===void 0||_e.objectMode||(t=new TypeError("Invalid non-string/buffer chunk"));var a;return t}(ie,D)),be?L.emit("error",be):ie.objectMode||D&&D.length>0?(typeof D=="string"||ie.objectMode||Object.getPrototypeOf(D)===S.prototype||(D=function(_e){return S.from(_e)}(D)),ne?ie.endEmitted?L.emit("error",new Error("stream.unshift() after end event")):o(L,ie,D,!0):ie.ended?L.emit("error",new Error("stream.push() after EOF")):(ie.reading=!1,ie.decoder&&!ee?(D=ie.decoder.write(D),ie.objectMode||D.length!==0?o(L,ie,D,!1):c(L,ie)):o(L,ie,D,!1))):ne||(ie.reading=!1)),function(_e){return!_e.ended&&(_e.needReadable||_e.length<_e.highWaterMark||_e.length===0)}(ie)}function o(L,D,ee,ne){D.flowing&&D.length===0&&!D.sync?(L.emit("data",ee),L.read(0)):(D.length+=D.objectMode?1:ee.length,ne?D.buffer.unshift(ee):D.buffer.push(ee),D.needReadable&&E(L)),c(L,D)}Object.defineProperty(n.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(L){this._readableState&&(this._readableState.destroyed=L)}}),n.prototype.destroy=O.destroy,n.prototype._undestroy=O.undestroy,n.prototype._destroy=function(L,D){this.push(null),D(L)},n.prototype.push=function(L,D){var ee,ne=this._readableState;return ne.objectMode?ee=!0:typeof L=="string"&&((D=D||ne.defaultEncoding)!==ne.encoding&&(L=S.from(L,D),D=""),ee=!0),e(this,L,D,!1,ee)},n.prototype.unshift=function(L){return e(this,L,null,!0,!1)},n.prototype.isPaused=function(){return this._readableState.flowing===!1},n.prototype.setEncoding=function(L){return w||(w=p(31).StringDecoder),this._readableState.decoder=new w(L),this._readableState.encoding=L,this};function C(L,D){return L<=0||D.length===0&&D.ended?0:D.objectMode?1:L!=L?D.flowing&&D.length?D.buffer.head.data.length:D.length:(L>D.highWaterMark&&(D.highWaterMark=function(ee){return ee>=8388608?ee=8388608:(ee--,ee|=ee>>>1,ee|=ee>>>2,ee|=ee>>>4,ee|=ee>>>8,ee|=ee>>>16,ee++),ee}(L)),L<=D.length?L:D.ended?D.length:(D.needReadable=!0,0))}function E(L){var D=L._readableState;D.needReadable=!1,D.emittedReadable||(b("emitReadable",D.flowing),D.emittedReadable=!0,D.sync?h.nextTick(F,L):F(L))}function F(L){b("emit readable"),L.emit("readable"),z(L)}function c(L,D){D.readingMore||(D.readingMore=!0,h.nextTick(M,L,D))}function M(L,D){for(var ee=D.length;!D.reading&&!D.flowing&&!D.ended&&D.length<D.highWaterMark&&(b("maybeReadMore read 0"),L.read(0),ee!==D.length);)ee=D.length;D.readingMore=!1}function A(L){b("readable nexttick read 0"),L.read(0)}function g(L,D){D.reading||(b("resume read 0"),L.read(0)),D.resumeScheduled=!1,D.awaitDrain=0,L.emit("resume"),z(L),D.flowing&&!D.reading&&L.read(0)}function z(L){var D=L._readableState;for(b("flow",D.flowing);D.flowing&&L.read()!==null;);}function Q(L,D){return D.length===0?null:(D.objectMode?ee=D.buffer.shift():!L||L>=D.length?(ee=D.decoder?D.buffer.join(""):D.buffer.length===1?D.buffer.head.data:D.buffer.concat(D.length),D.buffer.clear()):ee=function(ne,se,be){var ie;return ne<se.head.data.length?(ie=se.head.data.slice(0,ne),se.head.data=se.head.data.slice(ne)):ie=ne===se.head.data.length?se.shift():be?function(_e,we){var t=we.head,a=1,y=t.data;for(_e-=y.length;t=t.next;){var q=t.data,H=_e>q.length?q.length:_e;if(H===q.length?y+=q:y+=q.slice(0,_e),(_e-=H)==0){H===q.length?(++a,t.next?we.head=t.next:we.head=we.tail=null):(we.head=t,t.data=q.slice(H));break}++a}return we.length-=a,y}(ne,se):function(_e,we){var t=S.allocUnsafe(_e),a=we.head,y=1;for(a.data.copy(t),_e-=a.data.length;a=a.next;){var q=a.data,H=_e>q.length?q.length:_e;if(q.copy(t,t.length-_e,0,H),(_e-=H)==0){H===q.length?(++y,a.next?we.head=a.next:we.head=we.tail=null):(we.head=a,a.data=q.slice(H));break}++y}return we.length-=y,t}(ne,se),ie}(L,D.buffer,D.decoder),ee);var ee}function Z(L){var D=L._readableState;if(D.length>0)throw new Error('"endReadable()" called on non-empty stream');D.endEmitted||(D.ended=!0,h.nextTick(le,D,L))}function le(L,D){L.endEmitted||L.length!==0||(L.endEmitted=!0,D.readable=!1,D.emit("end"))}function ae(L,D){for(var ee=0,ne=L.length;ee<ne;ee++)if(L[ee]===D)return ee;return-1}n.prototype.read=function(L){b("read",L),L=parseInt(L,10);var D=this._readableState,ee=L;if(L!==0&&(D.emittedReadable=!1),L===0&&D.needReadable&&(D.length>=D.highWaterMark||D.ended))return b("read: emitReadable",D.length,D.ended),D.length===0&&D.ended?Z(this):E(this),null;if((L=C(L,D))===0&&D.ended)return D.length===0&&Z(this),null;var ne,se=D.needReadable;return b("need readable",se),(D.length===0||D.length-L<D.highWaterMark)&&b("length less than watermark",se=!0),D.ended||D.reading?b("reading or ended",se=!1):se&&(b("do read"),D.reading=!0,D.sync=!0,D.length===0&&(D.needReadable=!0),this._read(D.highWaterMark),D.sync=!1,D.reading||(L=C(ee,D))),(ne=L>0?Q(L,D):null)===null?(D.needReadable=!0,L=0):D.length-=L,D.length===0&&(D.ended||(D.needReadable=!0),ee!==L&&D.ended&&Z(this)),ne!==null&&this.emit("data",ne),ne},n.prototype._read=function(L){this.emit("error",new Error("_read() is not implemented"))},n.prototype.pipe=function(L,D){var ee=this,ne=this._readableState;switch(ne.pipesCount){case 0:ne.pipes=L;break;case 1:ne.pipes=[ne.pipes,L];break;default:ne.pipes.push(L)}ne.pipesCount+=1,b("pipe count=%d opts=%j",ne.pipesCount,D);var se=(!D||D.end!==!1)&&L!==i.stdout&&L!==i.stderr?ie:X;function be(fe,ve){b("onunpipe"),fe===ee&&ve&&ve.hasUnpiped===!1&&(ve.hasUnpiped=!0,b("cleanup"),L.removeListener("close",q),L.removeListener("finish",H),L.removeListener("drain",_e),L.removeListener("error",y),L.removeListener("unpipe",be),ee.removeListener("end",ie),ee.removeListener("end",X),ee.removeListener("data",a),we=!0,!ne.awaitDrain||L._writableState&&!L._writableState.needDrain||_e())}function ie(){b("onend"),L.end()}ne.endEmitted?h.nextTick(se):ee.once("end",se),L.on("unpipe",be);var _e=function(fe){return function(){var ve=fe._readableState;b("pipeOnDrain",ve.awaitDrain),ve.awaitDrain&&ve.awaitDrain--,ve.awaitDrain===0&&m(fe,"data")&&(ve.flowing=!0,z(fe))}}(ee);L.on("drain",_e);var we=!1,t=!1;function a(fe){b("ondata"),t=!1,L.write(fe)!==!1||t||((ne.pipesCount===1&&ne.pipes===L||ne.pipesCount>1&&ae(ne.pipes,L)!==-1)&&!we&&(b("false write response, pause",ee._readableState.awaitDrain),ee._readableState.awaitDrain++,t=!0),ee.pause())}function y(fe){b("onerror",fe),X(),L.removeListener("error",y),m(L,"error")===0&&L.emit("error",fe)}function q(){L.removeListener("finish",H),X()}function H(){b("onfinish"),L.removeListener("close",q),X()}function X(){b("unpipe"),ee.unpipe(L)}return ee.on("data",a),function(fe,ve,Ee){if(typeof fe.prependListener=="function")return fe.prependListener(ve,Ee);fe._events&&fe._events[ve]?s(fe._events[ve])?fe._events[ve].unshift(Ee):fe._events[ve]=[Ee,fe._events[ve]]:fe.on(ve,Ee)}(L,"error",y),L.once("close",q),L.once("finish",H),L.emit("pipe",ee),ne.flowing||(b("pipe resume"),ee.resume()),L},n.prototype.unpipe=function(L){var D=this._readableState,ee={hasUnpiped:!1};if(D.pipesCount===0)return this;if(D.pipesCount===1)return L&&L!==D.pipes||(L||(L=D.pipes),D.pipes=null,D.pipesCount=0,D.flowing=!1,L&&L.emit("unpipe",this,ee)),this;if(!L){var ne=D.pipes,se=D.pipesCount;D.pipes=null,D.pipesCount=0,D.flowing=!1;for(var be=0;be<se;be++)ne[be].emit("unpipe",this,ee);return this}var ie=ae(D.pipes,L);return ie===-1||(D.pipes.splice(ie,1),D.pipesCount-=1,D.pipesCount===1&&(D.pipes=D.pipes[0]),L.emit("unpipe",this,ee)),this},n.prototype.on=function(L,D){var ee=r.prototype.on.call(this,L,D);if(L==="data")this._readableState.flowing!==!1&&this.resume();else if(L==="readable"){var ne=this._readableState;ne.endEmitted||ne.readableListening||(ne.readableListening=ne.needReadable=!0,ne.emittedReadable=!1,ne.reading?ne.length&&E(this):h.nextTick(A,this))}return ee},n.prototype.addListener=n.prototype.on,n.prototype.resume=function(){var L=this._readableState;return L.flowing||(b("resume"),L.flowing=!0,function(D,ee){ee.resumeScheduled||(ee.resumeScheduled=!0,h.nextTick(g,D,ee))}(this,L)),this},n.prototype.pause=function(){return b("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(b("pause"),this._readableState.flowing=!1,this.emit("pause")),this},n.prototype.wrap=function(L){var D=this,ee=this._readableState,ne=!1;for(var se in L.on("end",function(){if(b("wrapped end"),ee.decoder&&!ee.ended){var ie=ee.decoder.end();ie&&ie.length&&D.push(ie)}D.push(null)}),L.on("data",function(ie){b("wrapped data"),ee.decoder&&(ie=ee.decoder.write(ie)),ee.objectMode&&ie==null||(ee.objectMode||ie&&ie.length)&&(D.push(ie)||(ne=!0,L.pause()))}),L)this[se]===void 0&&typeof L[se]=="function"&&(this[se]=function(ie){return function(){return L[ie].apply(L,arguments)}}(se));for(var be=0;be<T.length;be++)L.on(T[be],this.emit.bind(this,T[be]));return this._read=function(ie){b("wrapped _read",ie),ne&&(ne=!1,L.resume())},this},Object.defineProperty(n.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),n._fromList=Q}).call(this,p(1),p(3))},function($,I,p){var d,i=typeof Reflect=="object"?Reflect:null,h=i&&typeof i.apply=="function"?i.apply:function(T,f,n){return Function.prototype.apply.call(T,f,n)};d=i&&typeof i.ownKeys=="function"?i.ownKeys:Object.getOwnPropertySymbols?function(T){return Object.getOwnPropertyNames(T).concat(Object.getOwnPropertySymbols(T))}:function(T){return Object.getOwnPropertyNames(T)};var u=Number.isNaN||function(T){return T!=T};function s(){s.init.call(this)}$.exports=s,$.exports.once=function(T,f){return new Promise(function(n,e){function o(E){T.removeListener(f,C),e(E)}function C(){typeof T.removeListener=="function"&&T.removeListener("error",o),n([].slice.call(arguments))}O(T,f,C,{once:!0}),f!=="error"&&function(E,F,c){typeof E.on=="function"&&O(E,"error",F,c)}(T,o,{once:!0})})},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var m=10;function r(T){if(typeof T!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof T)}function S(T){return T._maxListeners===void 0?s.defaultMaxListeners:T._maxListeners}function _(T,f,n,e){var o,C,E,F;if(r(n),(C=T._events)===void 0?(C=T._events=Object.create(null),T._eventsCount=0):(C.newListener!==void 0&&(T.emit("newListener",f,n.listener?n.listener:n),C=T._events),E=C[f]),E===void 0)E=C[f]=n,++T._eventsCount;else if(typeof E=="function"?E=C[f]=e?[n,E]:[E,n]:e?E.unshift(n):E.push(n),(o=S(T))>0&&E.length>o&&!E.warned){E.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+E.length+" "+String(f)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=T,c.type=f,c.count=E.length,F=c,console&&console.warn&&console.warn(F)}return T}function x(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function k(T,f,n){var e={fired:!1,wrapFn:void 0,target:T,type:f,listener:n},o=x.bind(e);return o.listener=n,e.wrapFn=o,o}function b(T,f,n){var e=T._events;if(e===void 0)return[];var o=e[f];return o===void 0?[]:typeof o=="function"?n?[o.listener||o]:[o]:n?function(C){for(var E=new Array(C.length),F=0;F<E.length;++F)E[F]=C[F].listener||C[F];return E}(o):P(o,o.length)}function w(T){var f=this._events;if(f!==void 0){var n=f[T];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}function P(T,f){for(var n=new Array(f),e=0;e<f;++e)n[e]=T[e];return n}function O(T,f,n,e){if(typeof T.on=="function")e.once?T.once(f,n):T.on(f,n);else{if(typeof T.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof T);T.addEventListener(f,function o(C){e.once&&T.removeEventListener(f,o),n(C)})}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return m},set:function(T){if(typeof T!="number"||T<0||u(T))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+T+".");m=T}}),s.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(T){if(typeof T!="number"||T<0||u(T))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+T+".");return this._maxListeners=T,this},s.prototype.getMaxListeners=function(){return S(this)},s.prototype.emit=function(T){for(var f=[],n=1;n<arguments.length;n++)f.push(arguments[n]);var e=T==="error",o=this._events;if(o!==void 0)e=e&&o.error===void 0;else if(!e)return!1;if(e){var C;if(f.length>0&&(C=f[0]),C instanceof Error)throw C;var E=new Error("Unhandled error."+(C?" ("+C.message+")":""));throw E.context=C,E}var F=o[T];if(F===void 0)return!1;if(typeof F=="function")h(F,this,f);else{var c=F.length,M=P(F,c);for(n=0;n<c;++n)h(M[n],this,f)}return!0},s.prototype.addListener=function(T,f){return _(this,T,f,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(T,f){return _(this,T,f,!0)},s.prototype.once=function(T,f){return r(f),this.on(T,k(this,T,f)),this},s.prototype.prependOnceListener=function(T,f){return r(f),this.prependListener(T,k(this,T,f)),this},s.prototype.removeListener=function(T,f){var n,e,o,C,E;if(r(f),(e=this._events)===void 0)return this;if((n=e[T])===void 0)return this;if(n===f||n.listener===f)--this._eventsCount==0?this._events=Object.create(null):(delete e[T],e.removeListener&&this.emit("removeListener",T,n.listener||f));else if(typeof n!="function"){for(o=-1,C=n.length-1;C>=0;C--)if(n[C]===f||n[C].listener===f){E=n[C].listener,o=C;break}if(o<0)return this;o===0?n.shift():function(F,c){for(;c+1<F.length;c++)F[c]=F[c+1];F.pop()}(n,o),n.length===1&&(e[T]=n[0]),e.removeListener!==void 0&&this.emit("removeListener",T,E||f)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(T){var f,n,e;if((n=this._events)===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[T]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete n[T]),this;if(arguments.length===0){var o,C=Object.keys(n);for(e=0;e<C.length;++e)(o=C[e])!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(f=n[T])=="function")this.removeListener(T,f);else if(f!==void 0)for(e=f.length-1;e>=0;e--)this.removeListener(T,f[e]);return this},s.prototype.listeners=function(T){return b(this,T,!0)},s.prototype.rawListeners=function(T){return b(this,T,!1)},s.listenerCount=function(T,f){return typeof T.listenerCount=="function"?T.listenerCount(f):w.call(T,f)},s.prototype.listenerCount=w,s.prototype.eventNames=function(){return this._eventsCount>0?d(this._events):[]}},function($,I,p){$.exports=p(27).EventEmitter},function($,I,p){var d=p(15);function i(h,u){h.emit("error",u)}$.exports={destroy:function(h,u){var s=this,m=this._readableState&&this._readableState.destroyed,r=this._writableState&&this._writableState.destroyed;return m||r?(u?u(h):!h||this._writableState&&this._writableState.errorEmitted||d.nextTick(i,this,h),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(h||null,function(S){!u&&S?(d.nextTick(i,s,S),s._writableState&&(s._writableState.errorEmitted=!0)):u&&u(S)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function($,I,p){(function(d,i,h){var u=p(15);function s(c){var M=this;this.next=null,this.entry=null,this.finish=function(){(function(A,g,z){var Q=A.entry;for(A.entry=null;Q;){var Z=Q.callback;g.pendingcb--,Z(z),Q=Q.next}g.corkedRequestsFree?g.corkedRequestsFree.next=A:g.corkedRequestsFree=A})(M,c)}}$.exports=f;var m,r=!d.browser&&["v0.10","v0.9."].indexOf(d.version.slice(0,5))>-1?i:u.nextTick;f.WritableState=T;var S=Object.create(p(10));S.inherits=p(4);var _={deprecate:p(57)},x=p(28),k=p(21).Buffer,b=h.Uint8Array||function(){},w,P=p(29);function O(){}function T(c,M){m=m||p(7),c=c||{};var A=M instanceof m;this.objectMode=!!c.objectMode,A&&(this.objectMode=this.objectMode||!!c.writableObjectMode);var g=c.highWaterMark,z=c.writableHighWaterMark,Q=this.objectMode?16:16384;this.highWaterMark=g||g===0?g:A&&(z||z===0)?z:Q,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Z=c.decodeStrings===!1;this.decodeStrings=!Z,this.defaultEncoding=c.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(le){(function(ae,L){var D=ae._writableState,ee=D.sync,ne=D.writecb;if(function(be){be.writing=!1,be.writecb=null,be.length-=be.writelen,be.writelen=0}(D),L)(function(be,ie,_e,we,t){--ie.pendingcb,_e?(u.nextTick(t,we),u.nextTick(F,be,ie),be._writableState.errorEmitted=!0,be.emit("error",we)):(t(we),be._writableState.errorEmitted=!0,be.emit("error",we),F(be,ie))})(ae,D,ee,L,ne);else{var se=C(D);se||D.corked||D.bufferProcessing||!D.bufferedRequest||o(ae,D),ee?r(e,ae,D,se,ne):e(ae,D,se,ne)}})(M,le)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function f(c){if(m=m||p(7),!(w.call(f,this)||this instanceof m))return new f(c);this._writableState=new T(c,this),this.writable=!0,c&&(typeof c.write=="function"&&(this._write=c.write),typeof c.writev=="function"&&(this._writev=c.writev),typeof c.destroy=="function"&&(this._destroy=c.destroy),typeof c.final=="function"&&(this._final=c.final)),x.call(this)}function n(c,M,A,g,z,Q,Z){M.writelen=g,M.writecb=Z,M.writing=!0,M.sync=!0,A?c._writev(z,M.onwrite):c._write(z,Q,M.onwrite),M.sync=!1}function e(c,M,A,g){A||function(z,Q){Q.length===0&&Q.needDrain&&(Q.needDrain=!1,z.emit("drain"))}(c,M),M.pendingcb--,g(),F(c,M)}function o(c,M){M.bufferProcessing=!0;var A=M.bufferedRequest;if(c._writev&&A&&A.next){var g=M.bufferedRequestCount,z=new Array(g),Q=M.corkedRequestsFree;Q.entry=A;for(var Z=0,le=!0;A;)z[Z]=A,A.isBuf||(le=!1),A=A.next,Z+=1;z.allBuffers=le,n(c,M,!0,M.length,z,"",Q.finish),M.pendingcb++,M.lastBufferedRequest=null,Q.next?(M.corkedRequestsFree=Q.next,Q.next=null):M.corkedRequestsFree=new s(M),M.bufferedRequestCount=0}else{for(;A;){var ae=A.chunk,L=A.encoding,D=A.callback;if(n(c,M,!1,M.objectMode?1:ae.length,ae,L,D),A=A.next,M.bufferedRequestCount--,M.writing)break}A===null&&(M.lastBufferedRequest=null)}M.bufferedRequest=A,M.bufferProcessing=!1}function C(c){return c.ending&&c.length===0&&c.bufferedRequest===null&&!c.finished&&!c.writing}function E(c,M){c._final(function(A){M.pendingcb--,A&&c.emit("error",A),M.prefinished=!0,c.emit("prefinish"),F(c,M)})}function F(c,M){var A=C(M);return A&&(function(g,z){z.prefinished||z.finalCalled||(typeof g._final=="function"?(z.pendingcb++,z.finalCalled=!0,u.nextTick(E,g,z)):(z.prefinished=!0,g.emit("prefinish")))}(c,M),M.pendingcb===0&&(M.finished=!0,c.emit("finish"))),A}S.inherits(f,x),T.prototype.getBuffer=function(){for(var c=this.bufferedRequest,M=[];c;)M.push(c),c=c.next;return M},function(){try{Object.defineProperty(T.prototype,"buffer",{get:_.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(w=Function.prototype[Symbol.hasInstance],Object.defineProperty(f,Symbol.hasInstance,{value:function(c){return!!w.call(this,c)||this===f&&c&&c._writableState instanceof T}})):w=function(c){return c instanceof this},f.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},f.prototype.write=function(c,M,A){var g,z=this._writableState,Q=!1,Z=!z.objectMode&&(g=c,k.isBuffer(g)||g instanceof b);return Z&&!k.isBuffer(c)&&(c=function(le){return k.from(le)}(c)),typeof M=="function"&&(A=M,M=null),Z?M="buffer":M||(M=z.defaultEncoding),typeof A!="function"&&(A=O),z.ended?function(le,ae){var L=new Error("write after end");le.emit("error",L),u.nextTick(ae,L)}(this,A):(Z||function(le,ae,L,D){var ee=!0,ne=!1;return L===null?ne=new TypeError("May not write null values to stream"):typeof L=="string"||L===void 0||ae.objectMode||(ne=new TypeError("Invalid non-string/buffer chunk")),ne&&(le.emit("error",ne),u.nextTick(D,ne),ee=!1),ee}(this,z,c,A))&&(z.pendingcb++,Q=function(le,ae,L,D,ee,ne){if(!L){var se=function(we,t,a){return we.objectMode||we.decodeStrings===!1||typeof t!="string"||(t=k.from(t,a)),t}(ae,D,ee);D!==se&&(L=!0,ee="buffer",D=se)}var be=ae.objectMode?1:D.length;ae.length+=be;var ie=ae.length<ae.highWaterMark;if(ie||(ae.needDrain=!0),ae.writing||ae.corked){var _e=ae.lastBufferedRequest;ae.lastBufferedRequest={chunk:D,encoding:ee,isBuf:L,callback:ne,next:null},_e?_e.next=ae.lastBufferedRequest:ae.bufferedRequest=ae.lastBufferedRequest,ae.bufferedRequestCount+=1}else n(le,ae,!1,be,D,ee,ne);return ie}(this,z,Z,c,M,A)),Q},f.prototype.cork=function(){this._writableState.corked++},f.prototype.uncork=function(){var c=this._writableState;c.corked&&(c.corked--,c.writing||c.corked||c.finished||c.bufferProcessing||!c.bufferedRequest||o(this,c))},f.prototype.setDefaultEncoding=function(c){if(typeof c=="string"&&(c=c.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((c+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+c);return this._writableState.defaultEncoding=c,this},Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),f.prototype._write=function(c,M,A){A(new Error("_write() is not implemented"))},f.prototype._writev=null,f.prototype.end=function(c,M,A){var g=this._writableState;typeof c=="function"?(A=c,c=null,M=null):typeof M=="function"&&(A=M,M=null),c!=null&&this.write(c,M),g.corked&&(g.corked=1,this.uncork()),g.ending||g.finished||function(z,Q,Z){Q.ending=!0,F(z,Q),Z&&(Q.finished?u.nextTick(Z):z.once("finish",Z)),Q.ended=!0,z.writable=!1}(this,g,A)},Object.defineProperty(f.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(c){this._writableState&&(this._writableState.destroyed=c)}}),f.prototype.destroy=P.destroy,f.prototype._undestroy=P.undestroy,f.prototype._destroy=function(c,M){this.end(),M(c)}}).call(this,p(3),p(55).setImmediate,p(1))},function($,I,p){var d=p(58).Buffer,i=d.isEncoding||function(b){switch((b=""+b)&&b.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function h(b){var w;switch(this.encoding=function(P){var O=function(T){if(!T)return"utf8";for(var f;;)switch(T){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return T;default:if(f)return;T=(""+T).toLowerCase(),f=!0}}(P);if(typeof O!="string"&&(d.isEncoding===i||!i(P)))throw new Error("Unknown encoding: "+P);return O||P}(b),this.encoding){case"utf16le":this.text=m,this.end=r,w=4;break;case"utf8":this.fillLast=s,w=4;break;case"base64":this.text=S,this.end=_,w=3;break;default:return this.write=x,void(this.end=k)}this.lastNeed=0,this.lastTotal=0,this.lastChar=d.allocUnsafe(w)}function u(b){return b<=127?0:b>>5==6?2:b>>4==14?3:b>>3==30?4:-1}function s(b){var w=this.lastTotal-this.lastNeed,P=function(O,T,f){if((192&T[0])!=128)return O.lastNeed=0,"\uFFFD".repeat(f);if(O.lastNeed>1&&T.length>1){if((192&T[1])!=128)return O.lastNeed=1,"\uFFFD".repeat(f+1);if(O.lastNeed>2&&T.length>2&&(192&T[2])!=128)return O.lastNeed=2,"\uFFFD".repeat(f+2)}}(this,b,w);return P!==void 0?P:this.lastNeed<=b.length?(b.copy(this.lastChar,w,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(b.copy(this.lastChar,w,0,b.length),void(this.lastNeed-=b.length))}function m(b,w){if((b.length-w)%2==0){var P=b.toString("utf16le",w);if(P){var O=P.charCodeAt(P.length-1);if(O>=55296&&O<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=b[b.length-2],this.lastChar[1]=b[b.length-1],P.slice(0,-1)}return P}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=b[b.length-1],b.toString("utf16le",w,b.length-1)}function r(b){var w=b&&b.length?this.write(b):"";if(this.lastNeed){var P=this.lastTotal-this.lastNeed;return w+this.lastChar.toString("utf16le",0,P)}return w}function S(b,w){var P=(b.length-w)%3;return P===0?b.toString("base64",w):(this.lastNeed=3-P,this.lastTotal=3,P===1?this.lastChar[0]=b[b.length-1]:(this.lastChar[0]=b[b.length-2],this.lastChar[1]=b[b.length-1]),b.toString("base64",w,b.length-P))}function _(b){var w=b&&b.length?this.write(b):"";return this.lastNeed?w+this.lastChar.toString("base64",0,3-this.lastNeed):w}function x(b){return b.toString(this.encoding)}function k(b){return b&&b.length?this.write(b):""}I.StringDecoder=h,h.prototype.write=function(b){if(b.length===0)return"";var w,P;if(this.lastNeed){if((w=this.fillLast(b))===void 0)return"";P=this.lastNeed,this.lastNeed=0}else P=0;return P<b.length?w?w+this.text(b,P):this.text(b,P):w||""},h.prototype.end=function(b){var w=b&&b.length?this.write(b):"";return this.lastNeed?w+"\uFFFD".repeat(this.lastTotal-this.lastNeed):w},h.prototype.text=function(b,w){var P=function(T,f,n){var e=f.length-1;if(e<n)return 0;var o=u(f[e]);return o>=0?(o>0&&(T.lastNeed=o-1),o):--e<n?0:(o=u(f[e]))>=0?(o>0&&(T.lastNeed=o-2),o):--e<n?0:(o=u(f[e]))>=0?(o>0&&(o===2?o=0:T.lastNeed=o-3),o):0}(this,b,w);if(!this.lastNeed)return b.toString("utf8",w);this.lastTotal=P;var O=b.length-(P-this.lastNeed);return b.copy(this.lastChar,0,O),b.toString("utf8",w,O)},h.prototype.fillLast=function(b){if(this.lastNeed<=b.length)return b.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);b.copy(this.lastChar,this.lastTotal-this.lastNeed,0,b.length),this.lastNeed-=b.length}},function($,I,p){$.exports=u;var d=p(7),i=Object.create(p(10));function h(r,S){var _=this._transformState;_.transforming=!1;var x=_.writecb;if(!x)return this.emit("error",new Error("write callback called multiple times"));_.writechunk=null,_.writecb=null,S!=null&&this.push(S),x(r);var k=this._readableState;k.reading=!1,(k.needReadable||k.length<k.highWaterMark)&&this._read(k.highWaterMark)}function u(r){if(!(this instanceof u))return new u(r);d.call(this,r),this._transformState={afterTransform:h.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,r&&(typeof r.transform=="function"&&(this._transform=r.transform),typeof r.flush=="function"&&(this._flush=r.flush)),this.on("prefinish",s)}function s(){var r=this;typeof this._flush=="function"?this._flush(function(S,_){m(r,S,_)}):m(this,null,null)}function m(r,S,_){if(S)return r.emit("error",S);if(_!=null&&r.push(_),r._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(r._transformState.transforming)throw new Error("Calling transform done when still transforming");return r.push(null)}i.inherits=p(4),i.inherits(u,d),u.prototype.push=function(r,S){return this._transformState.needTransform=!1,d.prototype.push.call(this,r,S)},u.prototype._transform=function(r,S,_){throw new Error("_transform() is not implemented")},u.prototype._write=function(r,S,_){var x=this._transformState;if(x.writecb=_,x.writechunk=r,x.writeencoding=S,!x.transforming){var k=this._readableState;(x.needTransform||k.needReadable||k.length<k.highWaterMark)&&this._read(k.highWaterMark)}},u.prototype._read=function(r){var S=this._transformState;S.writechunk!==null&&S.writecb&&!S.transforming?(S.transforming=!0,this._transform(S.writechunk,S.writeencoding,S.afterTransform)):S.needTransform=!0},u.prototype._destroy=function(r,S){var _=this;d.prototype._destroy.call(this,r,function(x){S(x),_.emit("close")})}},function($,I,p){(function(d){var i=p(85),h=p(23),u=p(22);const s=typeof navigator!="undefined"?navigator.hardwareConcurrency:null;I.a=class{constructor(m=s){const r=new i.a(d);this.pool=Object(h.a)(()=>Object(u.a)(r),m)}async decode(m,r){return new Promise((S,_)=>{this.pool.queue(async x=>{try{const k=await x(m,r);S(k)}catch(k){_(k)}})})}destroy(){this.pool.terminate(!0)}}}).call(this,p(70))},function($,I,p){(function(d){I.fetch=r(d.fetch)&&r(d.ReadableStream),I.writableStream=r(d.WritableStream),I.abortController=r(d.AbortController),I.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),I.blobConstructor=!0}catch{}var i;function h(){if(i!==void 0)return i;if(d.XMLHttpRequest){i=new d.XMLHttpRequest;try{i.open("GET",d.XDomainRequest?"/":"https://example.com")}catch{i=null}}else i=null;return i}function u(S){var _=h();if(!_)return!1;try{return _.responseType=S,_.responseType===S}catch{}return!1}var s=d.ArrayBuffer!==void 0,m=s&&r(d.ArrayBuffer.prototype.slice);function r(S){return typeof S=="function"}I.arraybuffer=I.fetch||s&&u("arraybuffer"),I.msstream=!I.fetch&&m&&u("ms-stream"),I.mozchunkedarraybuffer=!I.fetch&&s&&u("moz-chunked-arraybuffer"),I.overrideMimeType=I.fetch||!!h()&&r(h().overrideMimeType),I.vbArray=r(d.VBArray),i=null}).call(this,p(1))},function($,I,p){(function(d,i,h){var u=p(34),s=p(4),m=p(20),r=I.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},S=I.IncomingMessage=function(_,x,k,b){var w=this;if(m.Readable.call(w),w._mode=k,w.headers={},w.rawHeaders=[],w.trailers={},w.rawTrailers=[],w.on("end",function(){d.nextTick(function(){w.emit("close")})}),k==="fetch"){if(w._fetchResponse=x,w.url=x.url,w.statusCode=x.status,w.statusMessage=x.statusText,x.headers.forEach(function(n,e){w.headers[e.toLowerCase()]=n,w.rawHeaders.push(e,n)}),u.writableStream){var P=new WritableStream({write:function(n){return new Promise(function(e,o){w._destroyed?o():w.push(new i(n))?e():w._resumeFetch=e})},close:function(){h.clearTimeout(b),w._destroyed||w.push(null)},abort:function(n){w._destroyed||w.emit("error",n)}});try{return void x.body.pipeTo(P).catch(function(n){h.clearTimeout(b),w._destroyed||w.emit("error",n)})}catch{}}var O=x.body.getReader();(function n(){O.read().then(function(e){if(!w._destroyed){if(e.done)return h.clearTimeout(b),void w.push(null);w.push(new i(e.value)),n()}}).catch(function(e){h.clearTimeout(b),w._destroyed||w.emit("error",e)})})()}else if(w._xhr=_,w._pos=0,w.url=_.responseURL,w.statusCode=_.status,w.statusMessage=_.statusText,_.getAllResponseHeaders().split(/\r?\n/).forEach(function(n){var e=n.match(/^([^:]+):\s*(.*)/);if(e){var o=e[1].toLowerCase();o==="set-cookie"?(w.headers[o]===void 0&&(w.headers[o]=[]),w.headers[o].push(e[2])):w.headers[o]!==void 0?w.headers[o]+=", "+e[2]:w.headers[o]=e[2],w.rawHeaders.push(e[1],e[2])}}),w._charset="x-user-defined",!u.overrideMimeType){var T=w.rawHeaders["mime-type"];if(T){var f=T.match(/;\s*charset=([^;])(;|$)/);f&&(w._charset=f[1].toLowerCase())}w._charset||(w._charset="utf-8")}};s(S,m.Readable),S.prototype._read=function(){var _=this._resumeFetch;_&&(this._resumeFetch=null,_())},S.prototype._onXHRProgress=function(){var _=this,x=_._xhr,k=null;switch(_._mode){case"text:vbarray":if(x.readyState!==r.DONE)break;try{k=new h.VBArray(x.responseBody).toArray()}catch{}if(k!==null){_.push(new i(k));break}case"text":try{k=x.responseText}catch{_._mode="text:vbarray";break}if(k.length>_._pos){var b=k.substr(_._pos);if(_._charset==="x-user-defined"){for(var w=new i(b.length),P=0;P<b.length;P++)w[P]=255&b.charCodeAt(P);_.push(w)}else _.push(b,_._charset);_._pos=k.length}break;case"arraybuffer":if(x.readyState!==r.DONE||!x.response)break;k=x.response,_.push(new i(new Uint8Array(k)));break;case"moz-chunked-arraybuffer":if(k=x.response,x.readyState!==r.LOADING||!k)break;_.push(new i(new Uint8Array(k)));break;case"ms-stream":if(k=x.response,x.readyState!==r.LOADING)break;var O=new h.MSStreamReader;O.onprogress=function(){O.result.byteLength>_._pos&&(_.push(new i(new Uint8Array(O.result.slice(_._pos)))),_._pos=O.result.byteLength)},O.onload=function(){_.push(null)},O.readAsArrayBuffer(k)}_._xhr.readyState===r.DONE&&_._mode!=="ms-stream"&&_.push(null)}}).call(this,p(3),p(2).Buffer,p(1))},function($,I,p){$.exports={countIn1D:function(d){return d.reduce(function(i,h){return i[h]===void 0?i[h]=1:i[h]++,i},{})},countIn2D:function(d){return d.reduce(function(i,h){return h.forEach(function(u){i[u]===void 0?i[u]=1:i[u]++}),i},{})},unflatten:function(d,i){for(var h=i.height,u=i.width,s=[],m=0;m<h;m++){var r=m*u,S=r+u;s.push(d.slice(r,S))}return s}}},function($,I,p){p.r(I),p.d(I,"globals",function(){return d}),p.d(I,"rgb",function(){return i}),p.d(I,"getDecoder",function(){return se}),p.d(I,"setLogger",function(){return St}),p.d(I,"GeoTIFF",function(){return qe}),p.d(I,"MultiGeoTIFF",function(){return ht}),p.d(I,"fromUrl",function(){return xt}),p.d(I,"fromArrayBuffer",function(){return Ct}),p.d(I,"fromFile",function(){return Et}),p.d(I,"fromBlob",function(){return At}),p.d(I,"fromUrls",function(){return Ot}),p.d(I,"writeArrayBuffer",function(){return Rt}),p.d(I,"Pool",function(){return X.a});var d={};p.r(d),p.d(d,"fieldTagNames",function(){return s}),p.d(d,"fieldTags",function(){return m}),p.d(d,"fieldTagTypes",function(){return r}),p.d(d,"arrayFields",function(){return S}),p.d(d,"fieldTypeNames",function(){return _}),p.d(d,"fieldTypes",function(){return x}),p.d(d,"photometricInterpretations",function(){return k}),p.d(d,"ExtraSamplesValues",function(){return b}),p.d(d,"geoKeyNames",function(){return w}),p.d(d,"geoKeys",function(){return P});var i={};p.r(i),p.d(i,"fromWhiteIsZero",function(){return O}),p.d(i,"fromBlackIsZero",function(){return T}),p.d(i,"fromPalette",function(){return f}),p.d(i,"fromCMYK",function(){return n}),p.d(i,"fromYCbCr",function(){return e}),p.d(i,"fromCIELab",function(){return o});var h=p(38),u=p.n(h);const s={315:"Artist",258:"BitsPerSample",265:"CellLength",264:"CellWidth",320:"ColorMap",259:"Compression",33432:"Copyright",306:"DateTime",338:"ExtraSamples",266:"FillOrder",289:"FreeByteCounts",288:"FreeOffsets",291:"GrayResponseCurve",290:"GrayResponseUnit",316:"HostComputer",270:"ImageDescription",257:"ImageLength",256:"ImageWidth",271:"Make",281:"MaxSampleValue",280:"MinSampleValue",272:"Model",254:"NewSubfileType",274:"Orientation",262:"PhotometricInterpretation",284:"PlanarConfiguration",296:"ResolutionUnit",278:"RowsPerStrip",277:"SamplesPerPixel",305:"Software",279:"StripByteCounts",273:"StripOffsets",255:"SubfileType",263:"Threshholding",282:"XResolution",283:"YResolution",326:"BadFaxLines",327:"CleanFaxData",343:"ClipPath",328:"ConsecutiveBadFaxLines",433:"Decode",434:"DefaultImageColor",269:"DocumentName",336:"DotRange",321:"HalftoneHints",346:"Indexed",347:"JPEGTables",285:"PageName",297:"PageNumber",317:"Predictor",319:"PrimaryChromaticities",532:"ReferenceBlackWhite",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",559:"StripRowCounts",330:"SubIFDs",292:"T4Options",293:"T6Options",325:"TileByteCounts",323:"TileLength",324:"TileOffsets",322:"TileWidth",301:"TransferFunction",318:"WhitePoint",344:"XClipPathUnits",286:"XPosition",529:"YCbCrCoefficients",531:"YCbCrPositioning",530:"YCbCrSubSampling",345:"YClipPathUnits",287:"YPosition",37378:"ApertureValue",40961:"ColorSpace",36868:"DateTimeDigitized",36867:"DateTimeOriginal",34665:"Exif IFD",36864:"ExifVersion",33434:"ExposureTime",41728:"FileSource",37385:"Flash",40960:"FlashpixVersion",33437:"FNumber",42016:"ImageUniqueID",37384:"LightSource",37500:"MakerNote",37377:"ShutterSpeedValue",37510:"UserComment",33723:"IPTC",34675:"ICC Profile",700:"XMP",42112:"GDAL_METADATA",42113:"GDAL_NODATA",34377:"Photoshop",33550:"ModelPixelScale",33922:"ModelTiepoint",34264:"ModelTransformation",34735:"GeoKeyDirectory",34736:"GeoDoubleParams",34737:"GeoAsciiParams"},m={};for(const R in s)s.hasOwnProperty(R)&&(m[s[R]]=parseInt(R,10));const r={256:"SHORT",257:"SHORT",258:"SHORT",259:"SHORT",262:"SHORT",273:"LONG",274:"SHORT",277:"SHORT",278:"LONG",279:"LONG",282:"RATIONAL",283:"RATIONAL",284:"SHORT",286:"SHORT",287:"RATIONAL",296:"SHORT",305:"ASCII",306:"ASCII",338:"SHORT",339:"SHORT",513:"LONG",514:"LONG",1024:"SHORT",1025:"SHORT",2048:"SHORT",2049:"ASCII",33550:"DOUBLE",33922:"DOUBLE",34665:"LONG",34735:"SHORT",34737:"ASCII",42113:"ASCII"},S=[m.BitsPerSample,m.ExtraSamples,m.SampleFormat,m.StripByteCounts,m.StripOffsets,m.StripRowCounts,m.TileByteCounts,m.TileOffsets],_={1:"BYTE",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",6:"SBYTE",7:"UNDEFINED",8:"SSHORT",9:"SLONG",10:"SRATIONAL",11:"FLOAT",12:"DOUBLE",13:"IFD",16:"LONG8",17:"SLONG8",18:"IFD8"},x={};for(const R in _)_.hasOwnProperty(R)&&(x[_[R]]=parseInt(R,10));const k={WhiteIsZero:0,BlackIsZero:1,RGB:2,Palette:3,TransparencyMask:4,CMYK:5,YCbCr:6,CIELab:8,ICCLab:9},b={Unspecified:0,Assocalpha:1,Unassalpha:2},w={1024:"GTModelTypeGeoKey",1025:"GTRasterTypeGeoKey",1026:"GTCitationGeoKey",2048:"GeographicTypeGeoKey",2049:"GeogCitationGeoKey",2050:"GeogGeodeticDatumGeoKey",2051:"GeogPrimeMeridianGeoKey",2052:"GeogLinearUnitsGeoKey",2053:"GeogLinearUnitSizeGeoKey",2054:"GeogAngularUnitsGeoKey",2055:"GeogAngularUnitSizeGeoKey",2056:"GeogEllipsoidGeoKey",2057:"GeogSemiMajorAxisGeoKey",2058:"GeogSemiMinorAxisGeoKey",2059:"GeogInvFlatteningGeoKey",2060:"GeogAzimuthUnitsGeoKey",2061:"GeogPrimeMeridianLongGeoKey",2062:"GeogTOWGS84GeoKey",3072:"ProjectedCSTypeGeoKey",3073:"PCSCitationGeoKey",3074:"ProjectionGeoKey",3075:"ProjCoordTransGeoKey",3076:"ProjLinearUnitsGeoKey",3077:"ProjLinearUnitSizeGeoKey",3078:"ProjStdParallel1GeoKey",3079:"ProjStdParallel2GeoKey",3080:"ProjNatOriginLongGeoKey",3081:"ProjNatOriginLatGeoKey",3082:"ProjFalseEastingGeoKey",3083:"ProjFalseNorthingGeoKey",3084:"ProjFalseOriginLongGeoKey",3085:"ProjFalseOriginLatGeoKey",3086:"ProjFalseOriginEastingGeoKey",3087:"ProjFalseOriginNorthingGeoKey",3088:"ProjCenterLongGeoKey",3089:"ProjCenterLatGeoKey",3090:"ProjCenterEastingGeoKey",3091:"ProjCenterNorthingGeoKey",3092:"ProjScaleAtNatOriginGeoKey",3093:"ProjScaleAtCenterGeoKey",3094:"ProjAzimuthAngleGeoKey",3095:"ProjStraightVertPoleLongGeoKey",3096:"ProjRectifiedGridAngleGeoKey",4096:"VerticalCSTypeGeoKey",4097:"VerticalCitationGeoKey",4098:"VerticalDatumGeoKey",4099:"VerticalUnitsGeoKey"},P={};for(const R in w)w.hasOwnProperty(R)&&(P[w[R]]=parseInt(R,10));function O(R,l){const{width:v,height:j}=R,B=new Uint8Array(v*j*3);let K;for(let G=0,U=0;G<R.length;++G,U+=3)K=256-R[G]/l*256,B[U]=K,B[U+1]=K,B[U+2]=K;return B}function T(R,l){const{width:v,height:j}=R,B=new Uint8Array(v*j*3);let K;for(let G=0,U=0;G<R.length;++G,U+=3)K=R[G]/l*256,B[U]=K,B[U+1]=K,B[U+2]=K;return B}function f(R,l){const{width:v,height:j}=R,B=new Uint8Array(v*j*3),K=l.length/3,G=l.length/3*2;for(let U=0,N=0;U<R.length;++U,N+=3){const V=R[U];B[N]=l[V]/65536*256,B[N+1]=l[V+K]/65536*256,B[N+2]=l[V+G]/65536*256}return B}function n(R){const{width:l,height:v}=R,j=new Uint8Array(l*v*3);for(let B=0,K=0;B<R.length;B+=4,K+=3){const G=R[B],U=R[B+1],N=R[B+2],V=R[B+3];j[K]=(255-G)/256*255*((255-V)/256),j[K+1]=(255-U)/256*255*((255-V)/256),j[K+2]=(255-N)/256*255*((255-V)/256)}return j}function e(R){const{width:l,height:v}=R,j=new Uint8ClampedArray(l*v*3);for(let B=0,K=0;B<R.length;B+=3,K+=3){const G=R[B],U=R[B+1],N=R[B+2];j[K]=G+1.402*(N-128),j[K+1]=G-.34414*(U-128)-.71414*(N-128),j[K+2]=G+1.772*(U-128)}return j}function o(R){const{width:l,height:v}=R,j=new Uint8Array(l*v*3);for(let B=0,K=0;B<R.length;B+=3,K+=3){let G,U,N,V=(R[B+0]+16)/116,W=(R[B+1]<<24>>24)/500+V,re=V-(R[B+2]<<24>>24)/200;W=.95047*(W*W*W>.008856?W*W*W:(W-16/116)/7.787),V=1*(V*V*V>.008856?V*V*V:(V-16/116)/7.787),re=1.08883*(re*re*re>.008856?re*re*re:(re-16/116)/7.787),G=3.2406*W+-1.5372*V+-.4986*re,U=-.9689*W+1.8758*V+.0415*re,N=.0557*W+-.204*V+1.057*re,G=G>.0031308?1.055*G**(1/2.4)-.055:12.92*G,U=U>.0031308?1.055*U**(1/2.4)-.055:12.92*U,N=N>.0031308?1.055*N**(1/2.4)-.055:12.92*N,j[K]=255*Math.max(0,Math.min(1,G)),j[K+1]=255*Math.max(0,Math.min(1,U)),j[K+2]=255*Math.max(0,Math.min(1,N))}return j}function C(R,l){let v=R.length-l,j=0;do{for(let B=l;B>0;B--)R[j+l]+=R[j],j++;v-=l}while(v>0)}function E(R,l,v){let j=0,B=R.length;const K=B/v;for(;B>l;){for(let U=l;U>0;--U)R[j+l]+=R[j],++j;B-=l}const G=R.slice();for(let U=0;U<K;++U)for(let N=0;N<v;++N)R[v*U+N]=G[(v-N-1)*K+U]}class F{decode(l,v){const j=this.decodeBlock(v),B=l.Predictor||1;if(B!==1){const K=!l.StripOffsets;return function(G,U,N,V,W,re){if(!U||U===1)return G;for(let te=0;te<W.length;++te){if(W[te]%8!=0)throw new Error("When decoding with predictor, only multiple of 8 bits are supported.");if(W[te]!==W[0])throw new Error("When decoding with predictor, all samples must have the same size.")}const J=W[0]/8,Y=re===2?1:W.length;for(let te=0;te<V&&!(te*Y*N*J>=G.byteLength);++te){let oe;if(U===2){switch(W[0]){case 8:oe=new Uint8Array(G,te*Y*N*J,Y*N*J);break;case 16:oe=new Uint16Array(G,te*Y*N*J,Y*N*J/2);break;case 32:oe=new Uint32Array(G,te*Y*N*J,Y*N*J/4);break;default:throw new Error(`Predictor 2 not allowed with ${W[0]} bits per sample.`)}C(oe,Y)}else U===3&&(oe=new Uint8Array(G,te*Y*N*J,Y*N*J),E(oe,Y,J))}return G}(j,B,K?l.TileWidth:l.ImageWidth,K?l.TileLength:l.RowsPerStrip||l.ImageLength,l.BitsPerSample,l.PlanarConfiguration)}return j}}class c extends F{decodeBlock(l){return l}}function M(R,l){for(let v=l.length-1;v>=0;v--)R.push(l[v]);return R}function A(R){const l=new Uint16Array(4093),v=new Uint8Array(4093);for(let te=0;te<=257;te++)l[te]=4096,v[te]=te;let j=258,B=9,K=0;function G(){j=258,B=9}function U(te){const oe=function(ue,ge,me){const ye=ge%8,pe=Math.floor(ge/8),de=8-ye,he=ge+me-8*(pe+1);let ke=8*(pe+2)-(ge+me);const ce=8*(pe+2)-ge;if(ke=Math.max(0,ke),pe>=ue.length)return console.warn("ran off the end of the buffer before finding EOI_CODE (end on input code)"),257;let Ie=ue[pe]&2**(8-ye)-1;Ie<<=me-de;let Re=Ie;if(pe+1<ue.length){let je=ue[pe+1]>>>ke;je<<=Math.max(0,me-ce),Re+=je}if(he>8&&pe+2<ue.length){const je=8*(pe+3)-(ge+me);Re+=ue[pe+2]>>>je}return Re}(te,K,B);return K+=B,oe}function N(te,oe){return v[j]=oe,l[j]=te,j++,j-1}function V(te){const oe=[];for(let ue=te;ue!==4096;ue=l[ue])oe.push(v[ue]);return oe}const W=[];G();const re=new Uint8Array(R);let J,Y=U(re);for(;Y!==257;){if(Y===256){for(G(),Y=U(re);Y===256;)Y=U(re);if(Y===257)break;if(Y>256)throw new Error("corrupted code at scanline "+Y);M(W,V(Y)),J=Y}else if(Y<j){const te=V(Y);M(W,te),N(J,te[te.length-1]),J=Y}else{const te=V(J);if(!te)throw new Error(`Bogus entry. Not in dictionary, ${J} / ${j}, position: ${K}`);M(W,te),W.push(te[te.length-1]),N(J,te[te.length-1]),J=Y}j+1>=2**B&&(B===12?J=void 0:B++),Y=U(re)}return new Uint8Array(W)}class g extends F{decodeBlock(l){return A(l).buffer}}const z=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);function Q(R,l){let v=0;const j=[];let B=16;for(;B>0&&!R[B-1];)--B;j.push({children:[],index:0});let K,G=j[0];for(let U=0;U<B;U++){for(let N=0;N<R[U];N++){for(G=j.pop(),G.children[G.index]=l[v];G.index>0;)G=j.pop();for(G.index++,j.push(G);j.length<=U;)j.push(K={children:[],index:0}),G.children[G.index]=K.children,G=K;v++}U+1<B&&(j.push(K={children:[],index:0}),G.children[G.index]=K.children,G=K)}return j[0].children}function Z(R,l,v,j,B,K,G,U,N){const{mcusPerLine:V,progressive:W}=v,re=l;let J=l,Y=0,te=0;function oe(){if(te>0)return te--,Y>>te&1;if(Y=R[J++],Y===255){const Te=R[J++];if(Te)throw new Error("unexpected marker: "+(Y<<8|Te).toString(16))}return te=7,Y>>>7}function ue(Te){let Se,xe=Te;for(;(Se=oe())!==null;){if(xe=xe[Se],typeof xe=="number")return xe;if(typeof xe!="object")throw new Error("invalid huffman sequence")}return null}function ge(Te){let Se=Te,xe=0;for(;Se>0;){const De=oe();if(De===null)return;xe=xe<<1|De,--Se}return xe}function me(Te){const Se=ge(Te);return Se>=1<<Te-1?Se:Se+(-1<<Te)+1}let ye=0,pe,de=0;function he(Te,Se,xe,De,Ae){const Pe=xe%V,Be=(xe/V|0)*Te.v+De,Xe=Pe*Te.h+Ae;Se(Te,Te.blocks[Be][Xe])}function ke(Te,Se,xe){const De=xe/Te.blocksPerLine|0,Ae=xe%Te.blocksPerLine;Se(Te,Te.blocks[De][Ae])}const ce=j.length;let Ie,Re,je,He,Ne,Ve;Ve=W?K===0?U===0?function(Te,Se){const xe=ue(Te.huffmanTableDC),De=xe===0?0:me(xe)<<N;Te.pred+=De,Se[0]=Te.pred}:function(Te,Se){Se[0]|=oe()<<N}:U===0?function(Te,Se){if(ye>0)return void ye--;let xe=K;const De=G;for(;xe<=De;){const Ae=ue(Te.huffmanTableAC),Pe=15&Ae,Be=Ae>>4;if(Pe===0){if(Be<15){ye=ge(Be)+(1<<Be)-1;break}xe+=16}else xe+=Be,Se[z[xe]]=me(Pe)*(1<<N),xe++}}:function(Te,Se){let xe=K;const De=G;let Ae=0;for(;xe<=De;){const Pe=z[xe],Be=Se[Pe]<0?-1:1;switch(de){case 0:{const Xe=ue(Te.huffmanTableAC),at=15&Xe;if(Ae=Xe>>4,at===0)Ae<15?(ye=ge(Ae)+(1<<Ae),de=4):(Ae=16,de=1);else{if(at!==1)throw new Error("invalid ACn encoding");pe=me(at),de=Ae?2:3}continue}case 1:case 2:Se[Pe]?Se[Pe]+=(oe()<<N)*Be:(Ae--,Ae===0&&(de=de===2?3:0));break;case 3:Se[Pe]?Se[Pe]+=(oe()<<N)*Be:(Se[Pe]=pe<<N,de=0);break;case 4:Se[Pe]&&(Se[Pe]+=(oe()<<N)*Be)}xe++}de===4&&(ye--,ye===0&&(de=0))}:function(Te,Se){const xe=ue(Te.huffmanTableDC),De=xe===0?0:me(xe);Te.pred+=De,Se[0]=Te.pred;let Ae=1;for(;Ae<64;){const Pe=ue(Te.huffmanTableAC),Be=15&Pe,Xe=Pe>>4;if(Be===0){if(Xe<15)break;Ae+=16}else Ae+=Xe,Se[z[Ae]]=me(Be),Ae++}};let Je,et,Ye=0;et=ce===1?j[0].blocksPerLine*j[0].blocksPerColumn:V*v.mcusPerColumn;const it=B||et;for(;Ye<et;){for(Re=0;Re<ce;Re++)j[Re].pred=0;if(ye=0,ce===1)for(Ie=j[0],Ne=0;Ne<it;Ne++)ke(Ie,Ve,Ye),Ye++;else for(Ne=0;Ne<it;Ne++){for(Re=0;Re<ce;Re++){Ie=j[Re];const{h:Te,v:Se}=Ie;for(je=0;je<Se;je++)for(He=0;He<Te;He++)he(Ie,Ve,Ye,je,He)}if(Ye++,Ye===et)break}if(te=0,Je=R[J]<<8|R[J+1],Je<65280)throw new Error("marker was not found");if(!(Je>=65488&&Je<=65495))break;J+=2}return J-re}function le(R,l){const v=[],{blocksPerLine:j,blocksPerColumn:B}=l,K=j<<3,G=new Int32Array(64),U=new Uint8Array(64);function N(V,W,re){const J=l.quantizationTable;let Y,te,oe,ue,ge,me,ye,pe,de;const he=re;let ke;for(ke=0;ke<64;ke++)he[ke]=V[ke]*J[ke];for(ke=0;ke<8;++ke){const ce=8*ke;he[1+ce]!==0||he[2+ce]!==0||he[3+ce]!==0||he[4+ce]!==0||he[5+ce]!==0||he[6+ce]!==0||he[7+ce]!==0?(Y=5793*he[0+ce]+128>>8,te=5793*he[4+ce]+128>>8,oe=he[2+ce],ue=he[6+ce],ge=2896*(he[1+ce]-he[7+ce])+128>>8,pe=2896*(he[1+ce]+he[7+ce])+128>>8,me=he[3+ce]<<4,ye=he[5+ce]<<4,de=Y-te+1>>1,Y=Y+te+1>>1,te=de,de=3784*oe+1567*ue+128>>8,oe=1567*oe-3784*ue+128>>8,ue=de,de=ge-ye+1>>1,ge=ge+ye+1>>1,ye=de,de=pe+me+1>>1,me=pe-me+1>>1,pe=de,de=Y-ue+1>>1,Y=Y+ue+1>>1,ue=de,de=te-oe+1>>1,te=te+oe+1>>1,oe=de,de=2276*ge+3406*pe+2048>>12,ge=3406*ge-2276*pe+2048>>12,pe=de,de=799*me+4017*ye+2048>>12,me=4017*me-799*ye+2048>>12,ye=de,he[0+ce]=Y+pe,he[7+ce]=Y-pe,he[1+ce]=te+ye,he[6+ce]=te-ye,he[2+ce]=oe+me,he[5+ce]=oe-me,he[3+ce]=ue+ge,he[4+ce]=ue-ge):(de=5793*he[0+ce]+512>>10,he[0+ce]=de,he[1+ce]=de,he[2+ce]=de,he[3+ce]=de,he[4+ce]=de,he[5+ce]=de,he[6+ce]=de,he[7+ce]=de)}for(ke=0;ke<8;++ke){const ce=ke;he[8+ce]!==0||he[16+ce]!==0||he[24+ce]!==0||he[32+ce]!==0||he[40+ce]!==0||he[48+ce]!==0||he[56+ce]!==0?(Y=5793*he[0+ce]+2048>>12,te=5793*he[32+ce]+2048>>12,oe=he[16+ce],ue=he[48+ce],ge=2896*(he[8+ce]-he[56+ce])+2048>>12,pe=2896*(he[8+ce]+he[56+ce])+2048>>12,me=he[24+ce],ye=he[40+ce],de=Y-te+1>>1,Y=Y+te+1>>1,te=de,de=3784*oe+1567*ue+2048>>12,oe=1567*oe-3784*ue+2048>>12,ue=de,de=ge-ye+1>>1,ge=ge+ye+1>>1,ye=de,de=pe+me+1>>1,me=pe-me+1>>1,pe=de,de=Y-ue+1>>1,Y=Y+ue+1>>1,ue=de,de=te-oe+1>>1,te=te+oe+1>>1,oe=de,de=2276*ge+3406*pe+2048>>12,ge=3406*ge-2276*pe+2048>>12,pe=de,de=799*me+4017*ye+2048>>12,me=4017*me-799*ye+2048>>12,ye=de,he[0+ce]=Y+pe,he[56+ce]=Y-pe,he[8+ce]=te+ye,he[48+ce]=te-ye,he[16+ce]=oe+me,he[40+ce]=oe-me,he[24+ce]=ue+ge,he[32+ce]=ue-ge):(de=5793*re[ke+0]+8192>>14,he[0+ce]=de,he[8+ce]=de,he[16+ce]=de,he[24+ce]=de,he[32+ce]=de,he[40+ce]=de,he[48+ce]=de,he[56+ce]=de)}for(ke=0;ke<64;++ke){const ce=128+(he[ke]+8>>4);W[ke]=ce<0?0:ce>255?255:ce}}for(let V=0;V<B;V++){const W=V<<3;for(let re=0;re<8;re++)v.push(new Uint8Array(K));for(let re=0;re<j;re++){N(l.blocks[V][re],U,G);let J=0;const Y=re<<3;for(let te=0;te<8;te++){const oe=v[W+te];for(let ue=0;ue<8;ue++)oe[Y+ue]=U[J++]}}}return v}class ae{constructor(){this.jfif=null,this.adobe=null,this.quantizationTables=[],this.huffmanTablesAC=[],this.huffmanTablesDC=[],this.resetFrames()}resetFrames(){this.frames=[]}parse(l){let v=0;function j(){const U=l[v]<<8|l[v+1];return v+=2,U}function B(){const U=j(),N=l.subarray(v,v+U-2);return v+=N.length,N}function K(U){let N,V,W=0,re=0;for(V in U.components)U.components.hasOwnProperty(V)&&(N=U.components[V],W<N.h&&(W=N.h),re<N.v&&(re=N.v));const J=Math.ceil(U.samplesPerLine/8/W),Y=Math.ceil(U.scanLines/8/re);for(V in U.components)if(U.components.hasOwnProperty(V)){N=U.components[V];const te=Math.ceil(Math.ceil(U.samplesPerLine/8)*N.h/W),oe=Math.ceil(Math.ceil(U.scanLines/8)*N.v/re),ue=J*N.h,ge=Y*N.v,me=[];for(let ye=0;ye<ge;ye++){const pe=[];for(let de=0;de<ue;de++)pe.push(new Int32Array(64));me.push(pe)}N.blocksPerLine=te,N.blocksPerColumn=oe,N.blocks=me}U.maxH=W,U.maxV=re,U.mcusPerLine=J,U.mcusPerColumn=Y}let G=j();if(G!==65496)throw new Error("SOI not found");for(G=j();G!==65497;){switch(G){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:{const U=B();G===65504&&U[0]===74&&U[1]===70&&U[2]===73&&U[3]===70&&U[4]===0&&(this.jfif={version:{major:U[5],minor:U[6]},densityUnits:U[7],xDensity:U[8]<<8|U[9],yDensity:U[10]<<8|U[11],thumbWidth:U[12],thumbHeight:U[13],thumbData:U.subarray(14,14+3*U[12]*U[13])}),G===65518&&U[0]===65&&U[1]===100&&U[2]===111&&U[3]===98&&U[4]===101&&U[5]===0&&(this.adobe={version:U[6],flags0:U[7]<<8|U[8],flags1:U[9]<<8|U[10],transformCode:U[11]});break}case 65499:{const U=j()+v-2;for(;v<U;){const N=l[v++],V=new Int32Array(64);if(N>>4==0)for(let W=0;W<64;W++)V[z[W]]=l[v++];else{if(N>>4!=1)throw new Error("DQT: invalid table spec");for(let W=0;W<64;W++)V[z[W]]=j()}this.quantizationTables[15&N]=V}break}case 65472:case 65473:case 65474:{j();const U={extended:G===65473,progressive:G===65474,precision:l[v++],scanLines:j(),samplesPerLine:j(),components:{},componentsOrder:[]},N=l[v++];let V;for(let W=0;W<N;W++){V=l[v];const re=l[v+1]>>4,J=15&l[v+1],Y=l[v+2];U.componentsOrder.push(V),U.components[V]={h:re,v:J,quantizationIdx:Y},v+=3}K(U),this.frames.push(U);break}case 65476:{const U=j();for(let N=2;N<U;){const V=l[v++],W=new Uint8Array(16);let re=0;for(let Y=0;Y<16;Y++,v++)W[Y]=l[v],re+=W[Y];const J=new Uint8Array(re);for(let Y=0;Y<re;Y++,v++)J[Y]=l[v];N+=17+re,V>>4==0?this.huffmanTablesDC[15&V]=Q(W,J):this.huffmanTablesAC[15&V]=Q(W,J)}break}case 65501:j(),this.resetInterval=j();break;case 65498:{j();const U=l[v++],N=[],V=this.frames[0];for(let te=0;te<U;te++){const oe=V.components[l[v++]],ue=l[v++];oe.huffmanTableDC=this.huffmanTablesDC[ue>>4],oe.huffmanTableAC=this.huffmanTablesAC[15&ue],N.push(oe)}const W=l[v++],re=l[v++],J=l[v++];v+=Z(l,v,V,N,this.resetInterval,W,re,J>>4,15&J);break}case 65535:l[v]!==255&&v--;break;default:if(l[v-3]===255&&l[v-2]>=192&&l[v-2]<=254){v-=3;break}throw new Error("unknown JPEG marker "+G.toString(16))}G=j()}}getResult(){const{frames:l}=this;if(this.frames.length===0)throw new Error("no frames were decoded");this.frames.length>1&&console.warn("more than one frame is not supported");for(let W=0;W<this.frames.length;W++){const re=this.frames[W].components;for(const J of Object.keys(re))re[J].quantizationTable=this.quantizationTables[re[J].quantizationIdx],delete re[J].quantizationIdx}const v=l[0],{components:j,componentsOrder:B}=v,K=[],G=v.samplesPerLine,U=v.scanLines;for(let W=0;W<B.length;W++){const re=j[B[W]];K.push({lines:le(0,re),scaleX:re.h/v.maxH,scaleY:re.v/v.maxV})}const N=new Uint8Array(G*U*K.length);let V=0;for(let W=0;W<U;++W)for(let re=0;re<G;++re)for(let J=0;J<K.length;++J){const Y=K[J];N[V]=Y.lines[0|W*Y.scaleY][0|re*Y.scaleX],++V}return N}}class L extends F{constructor(l){super(),this.reader=new ae,l.JPEGTables&&this.reader.parse(l.JPEGTables)}decodeBlock(l){return this.reader.resetFrames(),this.reader.parse(new Uint8Array(l)),this.reader.getResult().buffer}}var D=p(39);class ee extends F{decodeBlock(l){return Object(D.inflate)(new Uint8Array(l)).buffer}}class ne extends F{decodeBlock(l){const v=new DataView(l),j=[];for(let B=0;B<l.byteLength;++B){let K=v.getInt8(B);if(K<0){const G=v.getUint8(B+1);K=-K;for(let U=0;U<=K;++U)j.push(G);B+=1}else{for(let G=0;G<=K;++G)j.push(v.getUint8(B+G+1));B+=K+1}}return new Uint8Array(j).buffer}}function se(R){switch(R.Compression){case void 0:case 1:return new c;case 5:return new g;case 6:throw new Error("old style JPEG compression is not supported.");case 7:return new L(R);case 8:case 32946:return new ee;case 32773:return new ne;default:throw new Error("Unknown compression method identifier: "+R.Compression)}}function be(R,l,v,j=1){return new(Object.getPrototypeOf(R)).constructor(l*v*j)}function ie(R,l,v){return(1-v)*R+v*l}function _e(R,l,v,j,B,K="nearest"){switch(K.toLowerCase()){case"nearest":return function(G,U,N,V,W){const re=U/V,J=N/W;return G.map(Y=>{const te=be(Y,V,W);for(let oe=0;oe<W;++oe){const ue=Math.min(Math.round(J*oe),N-1);for(let ge=0;ge<V;++ge){const me=Math.min(Math.round(re*ge),U-1),ye=Y[ue*U+me];te[oe*V+ge]=ye}}return te})}(R,l,v,j,B);case"bilinear":case"linear":return function(G,U,N,V,W){const re=U/V,J=N/W;return G.map(Y=>{const te=be(Y,V,W);for(let oe=0;oe<W;++oe){const ue=J*oe,ge=Math.floor(ue),me=Math.min(Math.ceil(ue),N-1);for(let ye=0;ye<V;++ye){const pe=re*ye,de=pe%1,he=Math.floor(pe),ke=Math.min(Math.ceil(pe),U-1),ce=Y[ge*U+he],Ie=Y[ge*U+ke],Re=Y[me*U+he],je=Y[me*U+ke],He=ie(ie(ce,Ie,de),ie(Re,je,de),ue%1);te[oe*V+ye]=He}}return te})}(R,l,v,j,B);default:throw new Error(`Unsupported resampling method: '${K}'`)}}function we(R,l,v,j,B,K,G="nearest"){switch(G.toLowerCase()){case"nearest":return function(U,N,V,W,re,J){const Y=N/W,te=V/re,oe=be(U,W,re,J);for(let ue=0;ue<re;++ue){const ge=Math.min(Math.round(te*ue),V-1);for(let me=0;me<W;++me){const ye=Math.min(Math.round(Y*me),N-1);for(let pe=0;pe<J;++pe){const de=U[ge*N*J+ye*J+pe];oe[ue*W*J+me*J+pe]=de}}}return oe}(R,l,v,j,B,K);case"bilinear":case"linear":return function(U,N,V,W,re,J){const Y=N/W,te=V/re,oe=be(U,W,re,J);for(let ue=0;ue<re;++ue){const ge=te*ue,me=Math.floor(ge),ye=Math.min(Math.ceil(ge),V-1);for(let pe=0;pe<W;++pe){const de=Y*pe,he=de%1,ke=Math.floor(de),ce=Math.min(Math.ceil(de),N-1);for(let Ie=0;Ie<J;++Ie){const Re=U[me*N*J+ke*J+Ie],je=U[me*N*J+ce*J+Ie],He=U[ye*N*J+ke*J+Ie],Ne=U[ye*N*J+ce*J+Ie],Ve=ie(ie(Re,je,he),ie(He,Ne,he),ge%1);oe[ue*W*J+pe*J+Ie]=Ve}}}return oe}(R,l,v,j,B,K);default:throw new Error(`Unsupported resampling method: '${G}'`)}}function t(R,l,v){let j=0;for(let B=l;B<v;++B)j+=R[B];return j}function a(R,l,v){switch(R){case 1:switch(l){case 8:return new Uint8Array(v);case 16:return new Uint16Array(v);case 32:return new Uint32Array(v)}break;case 2:switch(l){case 8:return new Int8Array(v);case 16:return new Int16Array(v);case 32:return new Int32Array(v)}break;case 3:switch(l){case 32:return new Float32Array(v);case 64:return new Float64Array(v)}}throw Error("Unsupported data format/bitsPerSample")}var y=class{constructor(R,l,v,j,B,K){this.fileDirectory=R,this.geoKeys=l,this.dataView=v,this.littleEndian=j,this.tiles=B?{}:null,this.isTiled=!R.StripOffsets;const G=R.PlanarConfiguration;if(this.planarConfiguration=G===void 0?1:G,this.planarConfiguration!==1&&this.planarConfiguration!==2)throw new Error("Invalid planar configuration.");this.source=K}getFileDirectory(){return this.fileDirectory}getGeoKeys(){return this.geoKeys}getWidth(){return this.fileDirectory.ImageWidth}getHeight(){return this.fileDirectory.ImageLength}getSamplesPerPixel(){return this.fileDirectory.SamplesPerPixel}getTileWidth(){return this.isTiled?this.fileDirectory.TileWidth:this.getWidth()}getTileHeight(){return this.isTiled?this.fileDirectory.TileLength:this.fileDirectory.RowsPerStrip!==void 0?Math.min(this.fileDirectory.RowsPerStrip,this.getHeight()):this.getHeight()}getBytesPerPixel(){let R=0;for(let l=0;l<this.fileDirectory.BitsPerSample.length;++l){const v=this.fileDirectory.BitsPerSample[l];if(v%8!=0)throw new Error(`Sample bit-width of ${v} is not supported.`);if(v!==this.fileDirectory.BitsPerSample[0])throw new Error("Differing size of samples in a pixel are not supported.");R+=v}return R/8}getSampleByteSize(R){if(R>=this.fileDirectory.BitsPerSample.length)throw new RangeError(`Sample index ${R} is out of range.`);const l=this.fileDirectory.BitsPerSample[R];if(l%8!=0)throw new Error(`Sample bit-width of ${l} is not supported.`);return l/8}getReaderForSample(R){const l=this.fileDirectory.SampleFormat?this.fileDirectory.SampleFormat[R]:1,v=this.fileDirectory.BitsPerSample[R];switch(l){case 1:switch(v){case 8:return DataView.prototype.getUint8;case 16:return DataView.prototype.getUint16;case 32:return DataView.prototype.getUint32}break;case 2:switch(v){case 8:return DataView.prototype.getInt8;case 16:return DataView.prototype.getInt16;case 32:return DataView.prototype.getInt32}break;case 3:switch(v){case 32:return DataView.prototype.getFloat32;case 64:return DataView.prototype.getFloat64}}throw Error("Unsupported data format/bitsPerSample")}getArrayForSample(R,l){return a(this.fileDirectory.SampleFormat?this.fileDirectory.SampleFormat[R]:1,this.fileDirectory.BitsPerSample[R],l)}async getTileOrStrip(R,l,v,j){const B=Math.ceil(this.getWidth()/this.getTileWidth()),K=Math.ceil(this.getHeight()/this.getTileHeight());let G;const{tiles:U}=this;let N,V;this.planarConfiguration===1?G=l*B+R:this.planarConfiguration===2&&(G=v*B*K+l*B+R),this.isTiled?(N=this.fileDirectory.TileOffsets[G],V=this.fileDirectory.TileByteCounts[G]):(N=this.fileDirectory.StripOffsets[G],V=this.fileDirectory.StripByteCounts[G]);const W=await this.source.fetch(N,V);let re;return U===null?re=j.decode(this.fileDirectory,W):U[G]||(re=j.decode(this.fileDirectory,W),U[G]=re),{x:R,y:l,sample:v,data:await re}}async _readRaster(R,l,v,j,B,K,G,U){const N=this.getTileWidth(),V=this.getTileHeight(),W=Math.max(Math.floor(R[0]/N),0),re=Math.min(Math.ceil(R[2]/N),Math.ceil(this.getWidth()/this.getTileWidth())),J=Math.max(Math.floor(R[1]/V),0),Y=Math.min(Math.ceil(R[3]/V),Math.ceil(this.getHeight()/this.getTileHeight())),te=R[2]-R[0];let oe=this.getBytesPerPixel();const ue=[],ge=[];for(let pe=0;pe<l.length;++pe)this.planarConfiguration===1?ue.push(t(this.fileDirectory.BitsPerSample,0,l[pe])/8):ue.push(0),ge.push(this.getReaderForSample(l[pe]));const me=[],{littleEndian:ye}=this;for(let pe=J;pe<Y;++pe)for(let de=W;de<re;++de)for(let he=0;he<l.length;++he){const ke=he,ce=l[he];this.planarConfiguration===2&&(oe=this.getSampleByteSize(ce));const Ie=this.getTileOrStrip(de,pe,ce,B);me.push(Ie),Ie.then(Re=>{const je=Re.data,He=new DataView(je),Ne=Re.y*V,Ve=Re.x*N,Je=(Re.y+1)*V,et=(Re.x+1)*N,Ye=ge[ke],it=Math.min(V,V-(Je-R[3])),Te=Math.min(N,N-(et-R[2]));for(let Se=Math.max(0,R[1]-Ne);Se<it;++Se)for(let xe=Math.max(0,R[0]-Ve);xe<Te;++xe){const De=(Se*N+xe)*oe,Ae=Ye.call(He,De+ue[ke],ye);let Pe;j?(Pe=(Se+Ne-R[1])*te*l.length+(xe+Ve-R[0])*l.length+ke,v[Pe]=Ae):(Pe=(Se+Ne-R[1])*te+xe+Ve-R[0],v[ke][Pe]=Ae)}})}if(await Promise.all(me),K&&R[2]-R[0]!==K||G&&R[3]-R[1]!==G){let pe;return pe=j?we(v,R[2]-R[0],R[3]-R[1],K,G,l.length,U):_e(v,R[2]-R[0],R[3]-R[1],K,G,U),pe.width=K,pe.height=G,pe}return v.width=K||R[2]-R[0],v.height=G||R[3]-R[1],v}async readRasters({window:R,samples:l=[],interleave:v,pool:j=null,width:B,height:K,resampleMethod:G,fillValue:U}={}){const N=R||[0,0,this.getWidth(),this.getHeight()];if(N[0]>N[2]||N[1]>N[3])throw new Error("Invalid subsets");const V=(N[2]-N[0])*(N[3]-N[1]);if(l&&l.length){for(let J=0;J<l.length;++J)if(l[J]>=this.fileDirectory.SamplesPerPixel)return Promise.reject(new RangeError(`Invalid sample index '${l[J]}'.`))}else for(let J=0;J<this.fileDirectory.SamplesPerPixel;++J)l.push(J);let W;if(v)W=a(this.fileDirectory.SampleFormat?Math.max.apply(null,this.fileDirectory.SampleFormat):1,Math.max.apply(null,this.fileDirectory.BitsPerSample),V*l.length),U&&W.fill(U);else{W=[];for(let J=0;J<l.length;++J){const Y=this.getArrayForSample(l[J],V);Array.isArray(U)&&J<U.length?Y.fill(U[J]):U&&!Array.isArray(U)&&Y.fill(U),W.push(Y)}}const re=j||se(this.fileDirectory);return await this._readRaster(N,l,W,v,re,B,K,G)}async readRGB({window:R,pool:l=null,width:v,height:j,resampleMethod:B,enableAlpha:K=!1}={}){const G=R||[0,0,this.getWidth(),this.getHeight()];if(G[0]>G[2]||G[1]>G[3])throw new Error("Invalid subsets");const U=this.fileDirectory.PhotometricInterpretation;if(U===k.RGB){let te=[0,1,2];if(this.fileDirectory.ExtraSamples!==b.Unspecified&&K){te=[];for(let oe=0;oe<this.fileDirectory.BitsPerSample.length;oe+=1)te.push(oe)}return this.readRasters({window:R,interleave:!0,samples:te,pool:l,width:v,height:j})}let N;switch(U){case k.WhiteIsZero:case k.BlackIsZero:case k.Palette:N=[0];break;case k.CMYK:N=[0,1,2,3];break;case k.YCbCr:case k.CIELab:N=[0,1,2];break;default:throw new Error("Invalid or unsupported photometric interpretation.")}const V={window:G,interleave:!0,samples:N,pool:l,width:v,height:j,resampleMethod:B},{fileDirectory:W}=this,re=await this.readRasters(V),J=2**this.fileDirectory.BitsPerSample[0];let Y;switch(U){case k.WhiteIsZero:Y=O(re,J);break;case k.BlackIsZero:Y=T(re,J);break;case k.Palette:Y=f(re,W.ColorMap);break;case k.CMYK:Y=n(re);break;case k.YCbCr:Y=e(re);break;case k.CIELab:Y=o(re);break;default:throw new Error("Unsupported photometric interpretation.")}return Y.width=re.width,Y.height=re.height,Y}getTiePoints(){if(!this.fileDirectory.ModelTiepoint)return[];const R=[];for(let l=0;l<this.fileDirectory.ModelTiepoint.length;l+=6)R.push({i:this.fileDirectory.ModelTiepoint[l],j:this.fileDirectory.ModelTiepoint[l+1],k:this.fileDirectory.ModelTiepoint[l+2],x:this.fileDirectory.ModelTiepoint[l+3],y:this.fileDirectory.ModelTiepoint[l+4],z:this.fileDirectory.ModelTiepoint[l+5]});return R}getGDALMetadata(R=null){const l={};if(!this.fileDirectory.GDAL_METADATA)return null;const v=this.fileDirectory.GDAL_METADATA,j=u()(v.substring(0,v.length-1));if(!j[0].tagName)throw new Error("Failed to parse GDAL metadata XML.");const B=j[0];if(B.tagName!=="GDALMetadata")throw new Error("Unexpected GDAL metadata XML tag.");let K=B.children.filter(G=>G.tagName==="Item");R&&(K=K.filter(G=>Number(G.attributes.sample)===R));for(let G=0;G<K.length;++G){const U=K[G];l[U.attributes.name]=U.children[0]}return l}getGDALNoData(){if(!this.fileDirectory.GDAL_NODATA)return null;const R=this.fileDirectory.GDAL_NODATA;return Number(R.substring(0,R.length-1))}getOrigin(){const R=this.fileDirectory.ModelTiepoint,l=this.fileDirectory.ModelTransformation;if(R&&R.length===6)return[R[3],R[4],R[5]];if(l)return[l[3],l[7],l[11]];throw new Error("The image does not have an affine transformation.")}getResolution(R=null){const l=this.fileDirectory.ModelPixelScale,v=this.fileDirectory.ModelTransformation;if(l)return[l[0],-l[1],l[2]];if(v)return[v[0],v[5],v[10]];if(R){const[j,B,K]=R.getResolution();return[j*R.getWidth()/this.getWidth(),B*R.getHeight()/this.getHeight(),K*R.getWidth()/this.getWidth()]}throw new Error("The image does not have an affine transformation.")}pixelIsArea(){return this.geoKeys.GTRasterTypeGeoKey===1}getBoundingBox(){const R=this.getOrigin(),l=this.getResolution(),v=R[0],j=R[1],B=v+l[0]*this.getWidth(),K=j+l[1]*this.getHeight();return[Math.min(v,B),Math.min(j,K),Math.max(v,B),Math.max(j,K)]}};class q{constructor(l){this._dataView=new DataView(l)}get buffer(){return this._dataView.buffer}getUint64(l,v){const j=this.getUint32(l,v),B=this.getUint32(l+4,v);let K;if(v){if(K=j+2**32*B,!Number.isSafeInteger(K))throw new Error(K+" exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues");return K}if(K=2**32*j+B,!Number.isSafeInteger(K))throw new Error(K+" exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues");return K}getInt64(l,v){let j=0;const B=(128&this._dataView.getUint8(l+(v?7:0)))>0;let K=!0;for(let G=0;G<8;G++){let U=this._dataView.getUint8(l+(v?G:7-G));B&&(K?U!==0&&(U=255&~(U-1),K=!1):U=255&~U),j+=U*256**G}return B&&(j=-j),j}getUint8(l,v){return this._dataView.getUint8(l,v)}getInt8(l,v){return this._dataView.getInt8(l,v)}getUint16(l,v){return this._dataView.getUint16(l,v)}getInt16(l,v){return this._dataView.getInt16(l,v)}getUint32(l,v){return this._dataView.getUint32(l,v)}getInt32(l,v){return this._dataView.getInt32(l,v)}getFloat32(l,v){return this._dataView.getFloat32(l,v)}getFloat64(l,v){return this._dataView.getFloat64(l,v)}}class H{constructor(l,v,j,B){this._dataView=new DataView(l),this._sliceOffset=v,this._littleEndian=j,this._bigTiff=B}get sliceOffset(){return this._sliceOffset}get sliceTop(){return this._sliceOffset+this.buffer.byteLength}get littleEndian(){return this._littleEndian}get bigTiff(){return this._bigTiff}get buffer(){return this._dataView.buffer}covers(l,v){return this.sliceOffset<=l&&this.sliceTop>=l+v}readUint8(l){return this._dataView.getUint8(l-this._sliceOffset,this._littleEndian)}readInt8(l){return this._dataView.getInt8(l-this._sliceOffset,this._littleEndian)}readUint16(l){return this._dataView.getUint16(l-this._sliceOffset,this._littleEndian)}readInt16(l){return this._dataView.getInt16(l-this._sliceOffset,this._littleEndian)}readUint32(l){return this._dataView.getUint32(l-this._sliceOffset,this._littleEndian)}readInt32(l){return this._dataView.getInt32(l-this._sliceOffset,this._littleEndian)}readFloat32(l){return this._dataView.getFloat32(l-this._sliceOffset,this._littleEndian)}readFloat64(l){return this._dataView.getFloat64(l-this._sliceOffset,this._littleEndian)}readUint64(l){const v=this.readUint32(l),j=this.readUint32(l+4);let B;if(this._littleEndian){if(B=v+2**32*j,!Number.isSafeInteger(B))throw new Error(B+" exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues");return B}if(B=2**32*v+j,!Number.isSafeInteger(B))throw new Error(B+" exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues");return B}readInt64(l){let v=0;const j=(128&this._dataView.getUint8(l+(this._littleEndian?7:0)))>0;let B=!0;for(let K=0;K<8;K++){let G=this._dataView.getUint8(l+(this._littleEndian?K:7-K));j&&(B?G!==0&&(G=255&~(G-1),B=!1):G=255&~G),v+=G*256**K}return j&&(v=-v),v}readOffset(l){return this._bigTiff?this.readUint64(l):this.readUint32(l)}}var X=p(33),fe=p(2),ve=p(12),Ee=p(18),Oe=p.n(Ee),Ce=p(43),ze=p.n(Ce),Ge=p(17),Ze=p.n(Ge);class Ke{constructor(l,{blockSize:v=65536}={}){this.retrievalFunction=l,this.blockSize=v,this.blockRequests=new Map,this.blocks=new Map,this.blockIdsAwaitingRequest=null}async fetch(l,v,j=!1){const B=l+v,K=[],G=[],U=[];for(let V=Math.floor(l/this.blockSize)*this.blockSize;V<B;V+=this.blockSize){const W=Math.floor(V/this.blockSize);this.blocks.has(W)||this.blockRequests.has(W)||G.push(W),this.blockRequests.has(W)&&U.push(this.blockRequests.get(W)),K.push(W)}if(this.blockIdsAwaitingRequest)for(let V=0;V<G.length;++V){const W=G[V];this.blockIdsAwaitingRequest.add(W)}else this.blockIdsAwaitingRequest=new Set(G);if(j||await async function(V){return new Promise(W=>setTimeout(W,V))}(),this.blockIdsAwaitingRequest){const V=function(W){if(W.length===0)return[];const re=[];let J=[];re.push(J);for(let Y=0;Y<W.length;++Y)Y===0||W[Y]===W[Y-1]+1?J.push(W[Y]):(J=[W[Y]],re.push(J));return re}(Array.from(this.blockIdsAwaitingRequest).sort());for(const W of V){const re=this.requestData(W[0]*this.blockSize,W.length*this.blockSize);for(let J=0;J<W.length;++J){const Y=W[J];this.blockRequests.set(Y,(async()=>{const te=await re,oe=J*this.blockSize,ue=Math.min(oe+this.blockSize,te.data.byteLength),ge=te.data.slice(oe,ue);this.blockRequests.delete(Y),this.blocks.set(Y,{data:ge,offset:te.offset+oe,length:ge.byteLength,top:te.offset+ue})})())}}this.blockIdsAwaitingRequest=null}const N=[];for(const V of G)this.blockRequests.has(V)&&N.push(this.blockRequests.get(V));return await Promise.all(N),await Promise.all(U),function(V,W,re){const J=W+re,Y=new ArrayBuffer(re),te=new Uint8Array(Y);for(const oe of V){const ue=oe.offset-W,ge=oe.top-J;let me,ye=0,pe=0;ue<0?ye=-ue:ue>0&&(pe=ue),me=ge<0?oe.length-ye:J-oe.offset-ye;const de=new Uint8Array(oe.data,ye,me);te.set(de,pe)}return Y}(K.map(V=>this.blocks.get(V)),l,v)}async requestData(l,v){const j=await this.retrievalFunction(l,v);return j.length?j.length!==j.data.byteLength&&(j.data=j.data.slice(0,j.length)):j.length=j.data.byteLength,j.top=j.offset+j.length,j}}function $e(R,l){const{forceXHR:v}=l;if(typeof fetch=="function"&&!v)return function(j,{headers:B={},blockSize:K}={}){return new Ke(async(G,U)=>{const N=await fetch(j,{headers:rt(tt({},B),{Range:`bytes=${G}-${G+U-1}`})});if(N.ok){if(N.status===206)return{data:N.arrayBuffer?await N.arrayBuffer():(await N.buffer()).buffer,offset:G,length:U};{const V=N.arrayBuffer?await N.arrayBuffer():(await N.buffer()).buffer;return{data:V,offset:0,length:V.byteLength}}}throw new Error("Error fetching data.")},{blockSize:K})}(R,l);if(typeof XMLHttpRequest!="undefined")return function(j,{headers:B={},blockSize:K}={}){return new Ke(async(G,U)=>new Promise((N,V)=>{const W=new XMLHttpRequest;W.open("GET",j),W.responseType="arraybuffer";const re=rt(tt({},B),{Range:`bytes=${G}-${G+U-1}`});for(const[J,Y]of Object.entries(re))W.setRequestHeader(J,Y);W.onload=()=>{const J=W.response;W.status===206?N({data:J,offset:G,length:U}):N({data:J,offset:0,length:J.byteLength})},W.onerror=V,W.send()}),{blockSize:K})}(R,l);if(Oe.a.get)return function(j,{headers:B={},blockSize:K}={}){return new Ke(async(G,U)=>new Promise((N,V)=>{const W=Ze.a.parse(j);(W.protocol==="http:"?Oe.a:ze.a).get(rt(tt({},W),{headers:rt(tt({},B),{Range:`bytes=${G}-${G+U-1}`})}),re=>{const J=[];re.on("data",Y=>{J.push(Y)}),re.on("end",()=>{const Y=fe.Buffer.concat(J).buffer;N({data:Y,offset:G,length:Y.byteLength})})}).on("error",V)}),{blockSize:K})}(R,l);throw new Error("No remote source available")}function gt(R){const l=function(v,j,B){return new Promise((K,G)=>{Object(ve.open)(v,j,B,(U,N)=>{U?G(U):K(N)})})}(R,"r");return{async fetch(v,j){const B=await l,{buffer:K}=await function(...G){return new Promise((U,N)=>{Object(ve.read)(...G,(V,W,re)=>{V?N(V):U({bytesRead:W,buffer:re})})})}(B,fe.Buffer.alloc(j),0,j,v);return K.buffer},async close(){const v=await l;return await function(j){return new Promise((B,K)=>{Object(ve.close)(j,G=>{G?K(G):B()})})}(v)}}}function ct(R,l){for(const v in l)l.hasOwnProperty(v)&&(R[v]=l[v])}function lt(R,l){return R.length<l.length?!1:R.substr(R.length-l.length)===l}function ot(R){const l={};for(const v in R)R.hasOwnProperty(v)&&(l[R[v]]=v);return l}function Fe(R,l){const v=[];for(let j=0;j<R;j++)v.push(l(j));return v}const mt=ot(s),yt=ot(w),We={};ct(We,mt),ct(We,yt);const bt=ot(_),Me={nextZero:(R,l)=>{let v=l;for(;R[v]!==0;)v++;return v},readUshort:(R,l)=>R[l]<<8|R[l+1],readShort:(R,l)=>{const v=Me.ui8;return v[0]=R[l+1],v[1]=R[l+0],Me.i16[0]},readInt:(R,l)=>{const v=Me.ui8;return v[0]=R[l+3],v[1]=R[l+2],v[2]=R[l+1],v[3]=R[l+0],Me.i32[0]},readUint:(R,l)=>{const v=Me.ui8;return v[0]=R[l+3],v[1]=R[l+2],v[2]=R[l+1],v[3]=R[l+0],Me.ui32[0]},readASCII:(R,l,v)=>v.map(j=>String.fromCharCode(R[l+j])).join(""),readFloat:(R,l)=>{const v=Me.ui8;return Fe(4,j=>{v[j]=R[l+3-j]}),Me.fl32[0]},readDouble:(R,l)=>{const v=Me.ui8;return Fe(8,j=>{v[j]=R[l+7-j]}),Me.fl64[0]},writeUshort:(R,l,v)=>{R[l]=v>>8&255,R[l+1]=255&v},writeUint:(R,l,v)=>{R[l]=v>>24&255,R[l+1]=v>>16&255,R[l+2]=v>>8&255,R[l+3]=v>>0&255},writeASCII:(R,l,v)=>{Fe(v.length,j=>{R[l+j]=v.charCodeAt(j)})},ui8:new Uint8Array(8)};Me.fl64=new Float64Array(Me.ui8.buffer),Me.writeDouble=(R,l,v)=>{Me.fl64[0]=v,Fe(8,j=>{R[l+j]=Me.ui8[7-j]})};const wt=R=>{const l=new Uint8Array(1e3);let v=4;const j=Me;l[0]=77,l[1]=77,l[3]=42;let B=8;if(j.writeUint(l,v,B),v+=4,R.forEach((G,U)=>{const N=((V,W,re,J)=>{let Y=re;const te=Object.keys(J).filter(ue=>ue!=null&&ue!=="undefined");V.writeUshort(W,Y,te.length),Y+=2;let oe=Y+12*te.length+4;for(const ue of te){let ge=null;typeof ue=="number"?ge=ue:typeof ue=="string"&&(ge=parseInt(ue,10));const me=r[ge],ye=bt[me];if(me==null||me===void 0||me===void 0)throw new Error("unknown type of tag: "+ge);let pe=J[ue];if(pe===void 0)throw new Error("failed to get value for key "+ue);me==="ASCII"&&typeof pe=="string"&&lt(pe,"\0")===!1&&(pe+="\0");const de=pe.length;V.writeUshort(W,Y,ge),Y+=2,V.writeUshort(W,Y,ye),Y+=2,V.writeUint(W,Y,de),Y+=4;let he=[-1,1,1,2,4,8,0,0,0,0,0,0,8][ye]*de,ke=Y;he>4&&(V.writeUint(W,Y,oe),ke=oe),me==="ASCII"?V.writeASCII(W,ke,pe):me==="SHORT"?Fe(de,ce=>{V.writeUshort(W,ke+2*ce,pe[ce])}):me==="LONG"?Fe(de,ce=>{V.writeUint(W,ke+4*ce,pe[ce])}):me==="RATIONAL"?Fe(de,ce=>{V.writeUint(W,ke+8*ce,Math.round(1e4*pe[ce])),V.writeUint(W,ke+8*ce+4,1e4)}):me==="DOUBLE"&&Fe(de,ce=>{V.writeDouble(W,ke+8*ce,pe[ce])}),he>4&&(he+=1&he,oe+=he),Y+=4}return[Y,oe]})(j,l,B,G);B=N[1],U<R.length-1&&j.writeUint(l,N[0],B)}),l.slice)return l.slice(0,B).buffer;const K=new Uint8Array(B);for(let G=0;G<B;G++)K[G]=l[G];return K.buffer},vt=[["Compression",1],["PlanarConfiguration",1],["XPosition",0],["YPosition",0],["ResolutionUnit",1],["ExtraSamples",0],["GeoAsciiParams","WGS 84\0"],["ModelTiepoint",[0,0,0,-180,90,0]],["GTModelTypeGeoKey",2],["GTRasterTypeGeoKey",1],["GeographicTypeGeoKey",4326],["GeogCitationGeoKey","WGS 84"]];function _t(R,l){let v,j,B,K;typeof R[0]=="number"?(v=l.height||l.ImageLength,B=l.width||l.ImageWidth,j=R.length/(v*B),K=R):(j=R.length,v=R[0].length,B=R[0][0].length,K=[],Fe(v,N=>{Fe(B,V=>{Fe(j,W=>{K.push(R[W][N][V])})})})),l.ImageLength=v,delete l.height,l.ImageWidth=B,delete l.width,l.BitsPerSample||(l.BitsPerSample=Fe(j,()=>8)),vt.forEach(N=>{const V=N[0];if(!l[V]){const W=N[1];l[V]=W}}),l.PhotometricInterpretation||(l.PhotometricInterpretation=l.BitsPerSample.length===3?2:1),l.SamplesPerPixel||(l.SamplesPerPixel=[j]),l.StripByteCounts||(l.StripByteCounts=[j*v*B]),l.ModelPixelScale||(l.ModelPixelScale=[360/B,180/v,0]),l.SampleFormat||(l.SampleFormat=Fe(j,()=>1));const G=Object.keys(l).filter(N=>lt(N,"GeoKey")).sort((N,V)=>We[N]-We[V]);if(!l.GeoKeyDirectory){const N=[1,1,0,G.length];G.forEach(V=>{const W=Number(We[V]);let re,J,Y;N.push(W),r[W]==="SHORT"?(re=1,J=0,Y=l[V]):V==="GeogCitationGeoKey"?(re=l.GeoAsciiParams.length,J=Number(We.GeoAsciiParams),Y=0):console.log("[geotiff.js] couldn't get TIFFTagLocation for "+V),N.push(J),N.push(re),N.push(Y)}),l.GeoKeyDirectory=N}for(const N in G)G.hasOwnProperty(N)&&delete l[N];["Compression","ExtraSamples","GeographicTypeGeoKey","GTModelTypeGeoKey","GTRasterTypeGeoKey","ImageLength","ImageWidth","PhotometricInterpretation","PlanarConfiguration","ResolutionUnit","SamplesPerPixel","XPosition","YPosition"].forEach(N=>{var V;l[N]&&(l[N]=(V=l[N],Array.isArray(V)?V:[V]))});const U=(N=>{const V={};for(const W in N)W!=="StripOffsets"&&(We[W]||console.error(W,"not in name2code:",Object.keys(We)),V[We[W]]=N[W]);return V})(l);return((N,V,W,re)=>{if(W==null)throw new Error("you passed into encodeImage a width of type "+W);if(V==null)throw new Error("you passed into encodeImage a width of type "+V);const J={256:[V],257:[W],273:[1e3],278:[W],305:"geotiff.js"};if(re)for(const ge in re)re.hasOwnProperty(ge)&&(J[ge]=re[ge]);const Y=new Uint8Array(wt([J])),te=new Uint8Array(N),oe=J[277],ue=new Uint8Array(1e3+V*W*oe);return Fe(Y.length,ge=>{ue[ge]=Y[ge]}),function(ge,me){const{length:ye}=ge;for(let pe=0;pe<ye;pe++)me(ge[pe],pe)}(te,(ge,me)=>{ue[1e3+me]=ge}),ue.buffer})(K,B,v,U)}class kt{log(){}info(){}warn(){}error(){}time(){}timeEnd(){}}function St(R=new kt){}function st(R){switch(R){case x.BYTE:case x.ASCII:case x.SBYTE:case x.UNDEFINED:return 1;case x.SHORT:case x.SSHORT:return 2;case x.LONG:case x.SLONG:case x.FLOAT:case x.IFD:return 4;case x.RATIONAL:case x.SRATIONAL:case x.DOUBLE:case x.LONG8:case x.SLONG8:case x.IFD8:return 8;default:throw new RangeError("Invalid field type: "+R)}}function Qe(R,l,v,j){let B=null,K=null;const G=st(l);switch(l){case x.BYTE:case x.ASCII:case x.UNDEFINED:B=new Uint8Array(v),K=R.readUint8;break;case x.SBYTE:B=new Int8Array(v),K=R.readInt8;break;case x.SHORT:B=new Uint16Array(v),K=R.readUint16;break;case x.SSHORT:B=new Int16Array(v),K=R.readInt16;break;case x.LONG:case x.IFD:B=new Uint32Array(v),K=R.readUint32;break;case x.SLONG:B=new Int32Array(v),K=R.readInt32;break;case x.LONG8:case x.IFD8:B=new Array(v),K=R.readUint64;break;case x.SLONG8:B=new Array(v),K=R.readInt64;break;case x.RATIONAL:B=new Uint32Array(2*v),K=R.readUint32;break;case x.SRATIONAL:B=new Int32Array(2*v),K=R.readInt32;break;case x.FLOAT:B=new Float32Array(v),K=R.readFloat32;break;case x.DOUBLE:B=new Float64Array(v),K=R.readFloat64;break;default:throw new RangeError("Invalid field type: "+l)}if(l!==x.RATIONAL&&l!==x.SRATIONAL)for(let U=0;U<v;++U)B[U]=K.call(R,j+U*G);else for(let U=0;U<v;U+=2)B[U]=K.call(R,j+U*G),B[U+1]=K.call(R,j+(U*G+4));return l===x.ASCII?String.fromCharCode.apply(null,B):B}class Tt{constructor(l,v,j){this.fileDirectory=l,this.geoKeyDirectory=v,this.nextIFDByteOffset=j}}class nt extends Error{constructor(l){super("No image at index "+l),this.index=l}}class ft{async readRasters(l={}){const{window:v,width:j,height:B}=l;let{resX:K,resY:G,bbox:U}=l;const N=await this.getImage();let V=N;const W=await this.getImageCount(),re=N.getBoundingBox();if(v&&U)throw new Error('Both "bbox" and "window" passed.');if(j||B){if(v){const[te,oe]=N.getOrigin(),[ue,ge]=N.getResolution();U=[te+v[0]*ue,oe+v[1]*ge,te+v[2]*ue,oe+v[3]*ge]}const Y=U||re;if(j){if(K)throw new Error("Both width and resX passed");K=(Y[2]-Y[0])/j}if(B){if(G)throw new Error("Both width and resY passed");G=(Y[3]-Y[1])/B}}if(K||G){const Y=[];for(let te=0;te<W;++te){const oe=await this.getImage(te),{SubfileType:ue,NewSubfileType:ge}=oe.fileDirectory;(te===0||ue===2||1&ge)&&Y.push(oe)}Y.sort((te,oe)=>te.getWidth()-oe.getWidth());for(let te=0;te<Y.length;++te){const oe=Y[te],ue=(re[2]-re[0])/oe.getWidth(),ge=(re[3]-re[1])/oe.getHeight();if(V=oe,K&&K>ue||G&&G>ge)break}}let J=v;if(U){const[Y,te]=N.getOrigin(),[oe,ue]=V.getResolution(N);J=[Math.round((U[0]-Y)/oe),Math.round((U[1]-te)/ue),Math.round((U[2]-Y)/oe),Math.round((U[3]-te)/ue)],J=[Math.min(J[0],J[2]),Math.min(J[1],J[3]),Math.max(J[0],J[2]),Math.max(J[1],J[3])]}return V.readRasters(rt(tt({},l),{window:J}))}}class qe extends ft{constructor(l,v,j,B,K={}){super(),this.source=l,this.littleEndian=v,this.bigTiff=j,this.firstIFDOffset=B,this.cache=K.cache||!1,this.ifdRequests=[],this.ghostValues=null}async getSlice(l,v){const j=this.bigTiff?4048:1024;return new H(await this.source.fetch(l,v!==void 0?v:j),l,this.littleEndian,this.bigTiff)}async parseFileDirectoryAt(l){const v=this.bigTiff?20:12,j=this.bigTiff?8:2;let B=await this.getSlice(l);const K=this.bigTiff?B.readUint64(l):B.readUint16(l),G=K*v+(this.bigTiff?16:6);B.covers(l,G)||(B=await this.getSlice(l,G));const U={};let N=l+(this.bigTiff?8:2);for(let re=0;re<K;N+=v,++re){const J=B.readUint16(N),Y=B.readUint16(N+2),te=this.bigTiff?B.readUint64(N+4):B.readUint32(N+4);let oe,ue;const ge=st(Y),me=N+(this.bigTiff?12:8);if(ge*te<=(this.bigTiff?8:4))oe=Qe(B,Y,te,me);else{const ye=B.readOffset(me),pe=st(Y)*te;B.covers(ye,pe)?oe=Qe(B,Y,te,ye):oe=Qe(await this.getSlice(ye,pe),Y,te,ye)}ue=te===1&&S.indexOf(J)===-1&&Y!==x.RATIONAL&&Y!==x.SRATIONAL?oe[0]:oe,U[s[J]]=ue}const V=function(re){const J=re.GeoKeyDirectory;if(!J)return null;const Y={};for(let te=4;te<=4*J[3];te+=4){const oe=w[J[te]],ue=J[te+1]?s[J[te+1]]:null,ge=J[te+2],me=J[te+3];let ye=null;if(ue){if(ye=re[ue],ye==null)throw new Error(`Could not get value of geoKey '${oe}'.`);typeof ye=="string"?ye=ye.substring(me,me+ge-1):ye.subarray&&(ye=ye.subarray(me,me+ge),ge===1&&(ye=ye[0]))}else ye=me;Y[oe]=ye}return Y}(U),W=B.readOffset(l+j+v*K);return new Tt(U,V,W)}async requestIFD(l){if(this.ifdRequests[l])return this.ifdRequests[l];if(l===0)return this.ifdRequests[l]=this.parseFileDirectoryAt(this.firstIFDOffset),this.ifdRequests[l];if(!this.ifdRequests[l-1])try{this.ifdRequests[l-1]=this.requestIFD(l-1)}catch(v){throw v instanceof nt?new nt(l):v}return this.ifdRequests[l]=(async()=>{const v=await this.ifdRequests[l-1];if(v.nextIFDByteOffset===0)throw new nt(l);return this.parseFileDirectoryAt(v.nextIFDByteOffset)})(),this.ifdRequests[l]}async getImage(l=0){const v=await this.requestIFD(l);return new y(v.fileDirectory,v.geoKeyDirectory,this.dataView,this.littleEndian,this.cache,this.source)}async getImageCount(){let l=0,v=!0;for(;v;)try{await this.requestIFD(l),++l}catch(j){if(!(j instanceof nt))throw j;v=!1}return l}async getGhostValues(){const l=this.bigTiff?16:8;if(this.ghostValues)return this.ghostValues;const v="GDAL_STRUCTURAL_METADATA_SIZE=",j=v.length+100;let B=await this.getSlice(l,j);if(v===Qe(B,x.ASCII,v.length,l)){const K=Qe(B,x.ASCII,j,l).split(`
`)[0],G=Number(K.split("=")[1].split(" ")[0])+K.length;G>j&&(B=await this.getSlice(l,G));const U=Qe(B,x.ASCII,G,l);this.ghostValues={},U.split(`
`).filter(N=>N.length>0).map(N=>N.split("=")).forEach(([N,V])=>{this.ghostValues[N]=V})}return this.ghostValues}static async fromSource(l,v){const j=await l.fetch(0,1024),B=new q(j),K=B.getUint16(0,0);let G;if(K===18761)G=!0;else{if(K!==19789)throw new TypeError("Invalid byte order value.");G=!1}const U=B.getUint16(2,G);let N;if(U===42)N=!1;else{if(U!==43)throw new TypeError("Invalid magic number.");if(N=!0,B.getUint16(4,G)!==8)throw new Error("Unsupported offset byte-size.")}const V=N?B.getUint64(8,G):B.getUint32(4,G);return new qe(l,G,N,V,v)}close(){return typeof this.source.close=="function"&&this.source.close()}}I.default=qe;class ht extends ft{constructor(l,v){super(),this.mainFile=l,this.overviewFiles=v,this.imageFiles=[l].concat(v),this.fileDirectoriesPerFile=null,this.fileDirectoriesPerFileParsing=null,this.imageCount=null}async parseFileDirectoriesPerFile(){const l=[this.mainFile.parseFileDirectoryAt(this.mainFile.firstIFDOffset)].concat(this.overviewFiles.map(v=>v.parseFileDirectoryAt(v.firstIFDOffset)));return this.fileDirectoriesPerFile=await Promise.all(l),this.fileDirectoriesPerFile}async getImage(l=0){await this.getImageCount(),await this.parseFileDirectoriesPerFile();let v=0,j=0;for(let B=0;B<this.imageFiles.length;B++){const K=this.imageFiles[B];for(let G=0;G<this.imageCounts[B];G++){if(l===v){const U=await K.requestIFD(j);return new y(U.fileDirectory,K.geoKeyDirectory,K.dataView,K.littleEndian,K.cache,K.source)}v++,j++}j=0}throw new RangeError("Invalid image index")}async getImageCount(){if(this.imageCount!==null)return this.imageCount;const l=[this.mainFile.getImageCount()].concat(this.overviewFiles.map(v=>v.getImageCount()));return this.imageCounts=await Promise.all(l),this.imageCount=this.imageCounts.reduce((v,j)=>v+j,0),this.imageCount}}async function xt(R,l={}){return qe.fromSource($e(R,l))}async function Ct(R){return qe.fromSource(function(l){return{fetch:async(v,j)=>l.slice(v,v+j)}}(R))}async function Et(R){return qe.fromSource(gt(R))}async function At(R){return qe.fromSource((l=R,{fetch:async(v,j)=>new Promise((B,K)=>{const G=l.slice(v,v+j),U=new FileReader;U.onload=N=>B(N.target.result),U.onerror=K,U.readAsArrayBuffer(G)})}));var l}async function Ot(R,l=[],v={}){const j=await qe.fromSource($e(R,v)),B=await Promise.all(l.map(K=>qe.fromSource($e(K,v))));return new ht(j,B)}async function Rt(R,l){return _t(R,l)}},function($,I,p){function d(i,h){var u=(h=h||{}).pos||0,s="<".charCodeAt(0),m=">".charCodeAt(0),r="-".charCodeAt(0),S="/".charCodeAt(0),_="!".charCodeAt(0),x="'".charCodeAt(0),k='"'.charCodeAt(0);function b(){for(var o=[];i[u];)if(i.charCodeAt(u)==s){if(i.charCodeAt(u+1)===S)return(u=i.indexOf(">",u))+1&&(u+=1),o;if(i.charCodeAt(u+1)===_){if(i.charCodeAt(u+2)==r){for(;u!==-1&&(i.charCodeAt(u)!==m||i.charCodeAt(u-1)!=r||i.charCodeAt(u-2)!=r||u==-1);)u=i.indexOf(">",u+1);u===-1&&(u=i.length)}else for(u+=2;i.charCodeAt(u)!==m&&i[u];)u++;u++;continue}var C=T();o.push(C)}else{var E=w();E.trim().length>0&&o.push(E),u++}return o}function w(){var o=u;return(u=i.indexOf("<",u)-1)==-2&&(u=i.length),i.slice(o,u+1)}function P(){for(var o=u;`
	>/= `.indexOf(i[u])===-1&&i[u];)u++;return i.slice(o,u)}var O=h.noChildNodes||["img","br","input","meta","link"];function T(){u++;const o=P(),C={};let E=[];for(;i.charCodeAt(u)!==m&&i[u];){var F=i.charCodeAt(u);if(F>64&&F<91||F>96&&F<123){for(var c=P(),M=i.charCodeAt(u);M&&M!==x&&M!==k&&!(M>64&&M<91||M>96&&M<123)&&M!==m;)u++,M=i.charCodeAt(u);if(M===x||M===k){var A=f();if(u===-1)return{tagName:o,attributes:C,children:E}}else A=null,u--;C[c]=A}u++}if(i.charCodeAt(u-1)!==S)if(o=="script"){var g=u+1;u=i.indexOf("<\/script>",u),E=[i.slice(g,u-1)],u+=9}else o=="style"?(g=u+1,u=i.indexOf("</style>",u),E=[i.slice(g,u-1)],u+=8):O.indexOf(o)==-1&&(u++,E=b());else u++;return{tagName:o,attributes:C,children:E}}function f(){var o=i[u],C=++u;return u=i.indexOf(o,C),i.slice(C,u)}var n,e=null;if(h.attrValue!==void 0)for(h.attrName=h.attrName||"id",e=[];n=void 0,n=new RegExp("\\s"+h.attrName+`\\s*=['"]`+h.attrValue+`['"]`).exec(i),(u=n?n.index:-1)!==-1;)(u=i.lastIndexOf("<",u))!==-1&&e.push(T()),i=i.substr(u),u=0;else e=h.parseNode?T():b();return h.filter&&(e=d.filter(e,h.filter)),h.setPos&&(e.pos=u),e}d.simplify=function(i){var h={};if(!i.length)return"";if(i.length===1&&typeof i[0]=="string")return i[0];for(var u in i.forEach(function(s){if(typeof s=="object"){h[s.tagName]||(h[s.tagName]=[]);var m=d.simplify(s.children||[]);h[s.tagName].push(m),s.attributes&&(m._attributes=s.attributes)}}),h)h[u].length==1&&(h[u]=h[u][0]);return h},d.filter=function(i,h){var u=[];return i.forEach(function(s){if(typeof s=="object"&&h(s)&&u.push(s),s.children){var m=d.filter(s.children,h);u=u.concat(m)}}),u},d.stringify=function(i){var h="";function u(m){if(m)for(var r=0;r<m.length;r++)typeof m[r]=="string"?h+=m[r].trim():s(m[r])}function s(m){for(var r in h+="<"+m.tagName,m.attributes)m.attributes[r]===null?h+=" "+r:m.attributes[r].indexOf('"')===-1?h+=" "+r+'="'+m.attributes[r].trim()+'"':h+=" "+r+"='"+m.attributes[r].trim()+"'";h+=">",u(m.children),h+="</"+m.tagName+">"}return u(i),h},d.toContentString=function(i){if(Array.isArray(i)){var h="";return i.forEach(function(u){h=(h+=" "+d.toContentString(u)).trim()}),h}return typeof i=="object"?d.toContentString(i.children):" "+i},d.getElementById=function(i,h,u){var s=d(i,{attrValue:h});return u?d.simplify(s):s[0]},d.getElementsByClassName=function(i,h,u){const s=d(i,{attrName:"class",attrValue:"[a-zA-Z0-9-s ]*"+h+"[a-zA-Z0-9-s ]*"});return u?d.simplify(s):s},d.parseStream=function(i,h){if(typeof h=="string"&&(h=h.length+2),typeof i=="string"){var u=p(12);i=u.createReadStream(i,{start:h}),h=0}var s=h,m="";return i.on("data",function(r){m+=r;for(var S=0;;){if(!(s=m.indexOf("<",s)+1))return void(s=S);if(m[s+1]!=="/"){var _=d(m,{pos:s-1,parseNode:!0,setPos:!0});if((s=_.pos)>m.length-1||s<S)return m=m.slice(S),s=0,void(S=0);i.emit("xml",_),S=s}else s+=1,S=pos}}),i.on("end",function(){console.log("end")}),i},d.transformStream=function(i){const h=p(51);typeof i=="string"&&(i=i.length+2);var u=i||0,s="";return h({readableObjectMode:!0},function(m,r,S){s+=m;for(var _=0;;){if(!(u=s.indexOf("<",u)+1))return u=_,S();if(s[u+1]!=="/"){var x=d(s,{pos:u-1,parseNode:!0,setPos:!0});if((u=x.pos)>s.length-1||u<_)return s=s.slice(_),u=0,_=0,S();this.push(x),_=u}else u+=1,_=pos}S()})},$.exports=d,d.xml=d},function($,I,p){var d=p(60),i=p(16),h=p(65),u=p(66),s=p(67),m=p(68),r=p(69),S=Object.prototype.toString;function _(k){if(!(this instanceof _))return new _(k);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},k||{});var b=this.options;b.raw&&b.windowBits>=0&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(b.windowBits>=0&&b.windowBits<16)||k&&k.windowBits||(b.windowBits+=32),b.windowBits>15&&b.windowBits<48&&(15&b.windowBits)==0&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var w=d.inflateInit2(this.strm,b.windowBits);if(w!==u.Z_OK)throw new Error(s[w]);if(this.header=new r,d.inflateGetHeader(this.strm,this.header),b.dictionary&&(typeof b.dictionary=="string"?b.dictionary=h.string2buf(b.dictionary):S.call(b.dictionary)==="[object ArrayBuffer]"&&(b.dictionary=new Uint8Array(b.dictionary)),b.raw&&(w=d.inflateSetDictionary(this.strm,b.dictionary))!==u.Z_OK))throw new Error(s[w])}function x(k,b){var w=new _(b);if(w.push(k,!0),w.err)throw w.msg||s[w.err];return w.result}_.prototype.push=function(k,b){var w,P,O,T,f,n=this.strm,e=this.options.chunkSize,o=this.options.dictionary,C=!1;if(this.ended)return!1;P=b===~~b?b:b===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof k=="string"?n.input=h.binstring2buf(k):S.call(k)==="[object ArrayBuffer]"?n.input=new Uint8Array(k):n.input=k,n.next_in=0,n.avail_in=n.input.length;do{if(n.avail_out===0&&(n.output=new i.Buf8(e),n.next_out=0,n.avail_out=e),(w=d.inflate(n,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&o&&(w=d.inflateSetDictionary(this.strm,o)),w===u.Z_BUF_ERROR&&C===!0&&(w=u.Z_OK,C=!1),w!==u.Z_STREAM_END&&w!==u.Z_OK)return this.onEnd(w),this.ended=!0,!1;n.next_out&&(n.avail_out!==0&&w!==u.Z_STREAM_END&&(n.avail_in!==0||P!==u.Z_FINISH&&P!==u.Z_SYNC_FLUSH)||(this.options.to==="string"?(O=h.utf8border(n.output,n.next_out),T=n.next_out-O,f=h.buf2string(n.output,O),n.next_out=T,n.avail_out=e-T,T&&i.arraySet(n.output,n.output,O,T,0),this.onData(f)):this.onData(i.shrinkBuf(n.output,n.next_out)))),n.avail_in===0&&n.avail_out===0&&(C=!0)}while((n.avail_in>0||n.avail_out===0)&&w!==u.Z_STREAM_END);return w===u.Z_STREAM_END&&(P=u.Z_FINISH),P===u.Z_FINISH?(w=d.inflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===u.Z_OK):P!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),n.avail_out=0,!0)},_.prototype.onData=function(k){this.chunks.push(k)},_.prototype.onEnd=function(k){k===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=k,this.msg=this.strm.msg},I.Inflate=_,I.inflate=x,I.inflateRaw=function(k,b){return(b=b||{}).raw=!0,x(k,b)},I.ungzip=x},function($,I,p){var d=p(13);class i extends d.a{constructor(){super(u=>(this._observers.add(u),()=>this._observers.delete(u))),this._observers=new Set}next(u){for(const s of this._observers)s.next(u)}error(u){for(const s of this._observers)s.error(u)}complete(){for(const u of this._observers)u.complete()}}I.a=i},function($,I,p){p.d(I,"a",function(){return i});const d=()=>{};function i(){let h,u=!1,s=d;return[new Promise(m=>{u?m(h):s=m}),m=>{u=!0,h=m,s(h)}]}},function($,I,p){p.d(I,"a",function(){return i});var d=p(0);function i(h){return h&&typeof h=="object"&&h[d.d]}},function($,I,p){var d=p(18),i=p(17),h=$.exports;for(var u in d)d.hasOwnProperty(u)&&(h[u]=d[u]);function s(m){if(typeof m=="string"&&(m=i.parse(m)),m.protocol||(m.protocol="https:"),m.protocol!=="https:")throw new Error('Protocol "'+m.protocol+'" not supported. Expected "https:"');return m}h.request=function(m,r){return m=s(m),d.request.call(this,m,r)},h.get=function(m,r){return m=s(m),d.get.call(this,m,r)}},function($,I,p){(function(d){var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},h=function(){function P(O,T){for(var f=0;f<T.length;f++){var n=T[f];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(O,n.key,n)}}return function(O,T,f){return T&&P(O.prototype,T),f&&P(O,f),O}}(),u=x(p(47)),s=x(p(48)),m=x(p(50)),r=p(36),S=p(37),_=x(p(84));function x(P){return P&&P.__esModule?P:{default:P}}function k(P,O){var T=O.left,f=O.top,n=O.right,e=O.bottom,o=O.width,C=O.height,E=O.resampleMethod;return P.readRasters({window:[T,f,n,e],width:o,height:C,resampleMethod:E||"bilinear"}).then(function(F){return F.map(function(c){return(0,r.unflatten)(c,{height:C,width:o})})})}var b=function(){function P(O,T,f){(function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,P),f&&console.log("starting GeoRaster.constructor with",O,T),this._web_worker_is_available=typeof window!="undefined"&&window.Worker!=="undefined",this._blob_is_available=typeof Blob!="undefined",this._url_is_available=typeof URL!="undefined",(O===void 0?"undefined":i(O))==="object"&&O.constructor&&O.constructor.name==="Buffer"&&d.isBuffer(O)===!1&&(O=new d(O)),typeof O=="string"?(f&&console.log("data is a url"),this._data=O,this._url=O,this.rasterType="geotiff",this.sourceType="url"):d!==void 0&&d.isBuffer(O)?(f&&console.log("data is a buffer"),this._data=O.buffer.slice(O.byteOffset,O.byteOffset+O.byteLength),this.rasterType="geotiff",this.sourceType="Buffer"):O instanceof ArrayBuffer?(this._data=O,this.rasterType="geotiff",this.sourceType="ArrayBuffer"):Array.isArray(O)&&T&&(this._data=O,this.rasterType="object",this._metadata=T),f&&console.log("this after construction:",this)}return h(P,[{key:"preinitialize",value:function(O){var T=this;if(O&&console.log("starting preinitialize"),this._url){var f=this._url+".ovr";return function(n){try{return(0,u.default)(n,{method:"HEAD"}).then(function(e){return e.status===200}).catch(function(e){return!1})}catch{return Promise.resolve(!1)}}(f).then(function(n){return O&&console.log("overview exists:",n),n?(0,S.fromUrls)(T._url,[f],{cache:!0,forceXHR:!1}):(0,S.fromUrl)(T._url,{cache:!0,forceXHR:!1})})}return Promise.resolve()}},{key:"initialize",value:function(O){var T=this;return this.preinitialize(O).then(function(f){return new Promise(function(n,e){if(O&&console.log("starting GeoRaster.initialize"),O&&console.log("this",T),T.rasterType==="object"||T.rasterType==="geotiff"||T.rasterType==="tiff")if(T._web_worker_is_available){var o=new s.default;o.onmessage=function(C){O&&console.log("main thread received message:",C);var E=C.data;for(var F in E)T[F]=E[F];T._url&&(T._geotiff=f,T.getValues=function(c){return k(this._geotiff,c)}),T.toCanvas=function(c){return(0,_.default)(this,c)},n(T)},O&&console.log("about to postMessage"),T._data instanceof ArrayBuffer?o.postMessage({data:T._data,rasterType:T.rasterType,sourceType:T.sourceType,metadata:T._metadata},[T._data]):o.postMessage({data:T._data,rasterType:T.rasterType,sourceType:T.sourceType,metadata:T._metadata})}else O&&console.log("web worker is not available"),(0,m.default)({data:T._data,rasterType:T.rasterType,sourceType:T.sourceType,metadata:T._metadata},O).then(function(C){O&&console.log("result:",C),T._url&&(C._geotiff=f,C.getValues=function(E){return k(this._geotiff,E)}),C.toCanvas=function(E){return(0,_.default)(this,E)},n(C)}).catch(e);else e("couldn't find a way to parse")})})}}]),P}(),w=function(P,O,T){if(T&&console.log("starting parseGeoraster with ",P,O),P===void 0)throw Error("[Georaster.parseGeoraster] Error. You passed in undefined to parseGeoraster. We can't make a raster out of nothing!");return new b(P,O,T).initialize(T)};$.exports!==void 0&&($.exports=w),typeof window!="undefined"?window.parseGeoraster=w:typeof self!="undefined"&&(self.parseGeoraster=w)}).call(this,p(2).Buffer)},function($,I,p){I.byteLength=function(_){var x=r(_),k=x[0],b=x[1];return 3*(k+b)/4-b},I.toByteArray=function(_){var x,k,b=r(_),w=b[0],P=b[1],O=new h(function(n,e,o){return 3*(e+o)/4-o}(0,w,P)),T=0,f=P>0?w-4:w;for(k=0;k<f;k+=4)x=i[_.charCodeAt(k)]<<18|i[_.charCodeAt(k+1)]<<12|i[_.charCodeAt(k+2)]<<6|i[_.charCodeAt(k+3)],O[T++]=x>>16&255,O[T++]=x>>8&255,O[T++]=255&x;return P===2&&(x=i[_.charCodeAt(k)]<<2|i[_.charCodeAt(k+1)]>>4,O[T++]=255&x),P===1&&(x=i[_.charCodeAt(k)]<<10|i[_.charCodeAt(k+1)]<<4|i[_.charCodeAt(k+2)]>>2,O[T++]=x>>8&255,O[T++]=255&x),O},I.fromByteArray=function(_){for(var x,k=_.length,b=k%3,w=[],P=0,O=k-b;P<O;P+=16383)w.push(S(_,P,P+16383>O?O:P+16383));return b===1?(x=_[k-1],w.push(d[x>>2]+d[x<<4&63]+"==")):b===2&&(x=(_[k-2]<<8)+_[k-1],w.push(d[x>>10]+d[x>>4&63]+d[x<<2&63]+"=")),w.join("")};for(var d=[],i=[],h=typeof Uint8Array!="undefined"?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,m=u.length;s<m;++s)d[s]=u[s],i[u.charCodeAt(s)]=s;function r(_){var x=_.length;if(x%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=_.indexOf("=");return k===-1&&(k=x),[k,k===x?0:4-k%4]}function S(_,x,k){for(var b,w,P=[],O=x;O<k;O+=3)b=(_[O]<<16&16711680)+(_[O+1]<<8&65280)+(255&_[O+2]),P.push(d[(w=b)>>18&63]+d[w>>12&63]+d[w>>6&63]+d[63&w]);return P.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function($,I){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */I.read=function(p,d,i,h,u){var s,m,r=8*u-h-1,S=(1<<r)-1,_=S>>1,x=-7,k=i?u-1:0,b=i?-1:1,w=p[d+k];for(k+=b,s=w&(1<<-x)-1,w>>=-x,x+=r;x>0;s=256*s+p[d+k],k+=b,x-=8);for(m=s&(1<<-x)-1,s>>=-x,x+=h;x>0;m=256*m+p[d+k],k+=b,x-=8);if(s===0)s=1-_;else{if(s===S)return m?NaN:1/0*(w?-1:1);m+=Math.pow(2,h),s-=_}return(w?-1:1)*m*Math.pow(2,s-h)},I.write=function(p,d,i,h,u,s){var m,r,S,_=8*s-u-1,x=(1<<_)-1,k=x>>1,b=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=h?0:s-1,P=h?1:-1,O=d<0||d===0&&1/d<0?1:0;for(d=Math.abs(d),isNaN(d)||d===1/0?(r=isNaN(d)?1:0,m=x):(m=Math.floor(Math.log(d)/Math.LN2),d*(S=Math.pow(2,-m))<1&&(m--,S*=2),(d+=m+k>=1?b/S:b*Math.pow(2,1-k))*S>=2&&(m++,S/=2),m+k>=x?(r=0,m=x):m+k>=1?(r=(d*S-1)*Math.pow(2,u),m+=k):(r=d*Math.pow(2,k-1)*Math.pow(2,u),m=0));u>=8;p[i+w]=255&r,w+=P,r/=256,u-=8);for(m=m<<u|r,_+=u;_>0;p[i+w]=255&m,w+=P,m/=256,_-=8);p[i+w-P]|=128*O}},function($,I){var p=typeof self!="undefined"?self:this,d=function(){function h(){this.fetch=!1,this.DOMException=p.DOMException}return h.prototype=p,new h}();(function(h){(function(u){var s="URLSearchParams"in h,m="Symbol"in h&&"iterator"in Symbol,r="FileReader"in h&&"Blob"in h&&function(){try{return new Blob,!0}catch{return!1}}(),S="FormData"in h,_="ArrayBuffer"in h;if(_)var x=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],k=ArrayBuffer.isView||function(g){return g&&x.indexOf(Object.prototype.toString.call(g))>-1};function b(g){if(typeof g!="string"&&(g=String(g)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(g))throw new TypeError("Invalid character in header field name");return g.toLowerCase()}function w(g){return typeof g!="string"&&(g=String(g)),g}function P(g){var z={next:function(){var Q=g.shift();return{done:Q===void 0,value:Q}}};return m&&(z[Symbol.iterator]=function(){return z}),z}function O(g){this.map={},g instanceof O?g.forEach(function(z,Q){this.append(Q,z)},this):Array.isArray(g)?g.forEach(function(z){this.append(z[0],z[1])},this):g&&Object.getOwnPropertyNames(g).forEach(function(z){this.append(z,g[z])},this)}function T(g){if(g.bodyUsed)return Promise.reject(new TypeError("Already read"));g.bodyUsed=!0}function f(g){return new Promise(function(z,Q){g.onload=function(){z(g.result)},g.onerror=function(){Q(g.error)}})}function n(g){var z=new FileReader,Q=f(z);return z.readAsArrayBuffer(g),Q}function e(g){if(g.slice)return g.slice(0);var z=new Uint8Array(g.byteLength);return z.set(new Uint8Array(g)),z.buffer}function o(){return this.bodyUsed=!1,this._initBody=function(g){var z;this._bodyInit=g,g?typeof g=="string"?this._bodyText=g:r&&Blob.prototype.isPrototypeOf(g)?this._bodyBlob=g:S&&FormData.prototype.isPrototypeOf(g)?this._bodyFormData=g:s&&URLSearchParams.prototype.isPrototypeOf(g)?this._bodyText=g.toString():_&&r&&(z=g)&&DataView.prototype.isPrototypeOf(z)?(this._bodyArrayBuffer=e(g.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):_&&(ArrayBuffer.prototype.isPrototypeOf(g)||k(g))?this._bodyArrayBuffer=e(g):this._bodyText=g=Object.prototype.toString.call(g):this._bodyText="",this.headers.get("content-type")||(typeof g=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):s&&URLSearchParams.prototype.isPrototypeOf(g)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r&&(this.blob=function(){var g=T(this);if(g)return g;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?T(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(n)}),this.text=function(){var g,z,Q,Z=T(this);if(Z)return Z;if(this._bodyBlob)return g=this._bodyBlob,z=new FileReader,Q=f(z),z.readAsText(g),Q;if(this._bodyArrayBuffer)return Promise.resolve(function(le){for(var ae=new Uint8Array(le),L=new Array(ae.length),D=0;D<ae.length;D++)L[D]=String.fromCharCode(ae[D]);return L.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},S&&(this.formData=function(){return this.text().then(F)}),this.json=function(){return this.text().then(JSON.parse)},this}O.prototype.append=function(g,z){g=b(g),z=w(z);var Q=this.map[g];this.map[g]=Q?Q+", "+z:z},O.prototype.delete=function(g){delete this.map[b(g)]},O.prototype.get=function(g){return g=b(g),this.has(g)?this.map[g]:null},O.prototype.has=function(g){return this.map.hasOwnProperty(b(g))},O.prototype.set=function(g,z){this.map[b(g)]=w(z)},O.prototype.forEach=function(g,z){for(var Q in this.map)this.map.hasOwnProperty(Q)&&g.call(z,this.map[Q],Q,this)},O.prototype.keys=function(){var g=[];return this.forEach(function(z,Q){g.push(Q)}),P(g)},O.prototype.values=function(){var g=[];return this.forEach(function(z){g.push(z)}),P(g)},O.prototype.entries=function(){var g=[];return this.forEach(function(z,Q){g.push([Q,z])}),P(g)},m&&(O.prototype[Symbol.iterator]=O.prototype.entries);var C=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function E(g,z){var Q,Z,le=(z=z||{}).body;if(g instanceof E){if(g.bodyUsed)throw new TypeError("Already read");this.url=g.url,this.credentials=g.credentials,z.headers||(this.headers=new O(g.headers)),this.method=g.method,this.mode=g.mode,this.signal=g.signal,le||g._bodyInit==null||(le=g._bodyInit,g.bodyUsed=!0)}else this.url=String(g);if(this.credentials=z.credentials||this.credentials||"same-origin",!z.headers&&this.headers||(this.headers=new O(z.headers)),this.method=(Q=z.method||this.method||"GET",Z=Q.toUpperCase(),C.indexOf(Z)>-1?Z:Q),this.mode=z.mode||this.mode||null,this.signal=z.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&le)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(le)}function F(g){var z=new FormData;return g.trim().split("&").forEach(function(Q){if(Q){var Z=Q.split("="),le=Z.shift().replace(/\+/g," "),ae=Z.join("=").replace(/\+/g," ");z.append(decodeURIComponent(le),decodeURIComponent(ae))}}),z}function c(g,z){z||(z={}),this.type="default",this.status=z.status===void 0?200:z.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in z?z.statusText:"OK",this.headers=new O(z.headers),this.url=z.url||"",this._initBody(g)}E.prototype.clone=function(){return new E(this,{body:this._bodyInit})},o.call(E.prototype),o.call(c.prototype),c.prototype.clone=function(){return new c(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new O(this.headers),url:this.url})},c.error=function(){var g=new c(null,{status:0,statusText:""});return g.type="error",g};var M=[301,302,303,307,308];c.redirect=function(g,z){if(M.indexOf(z)===-1)throw new RangeError("Invalid status code");return new c(null,{status:z,headers:{location:g}})},u.DOMException=h.DOMException;try{new u.DOMException}catch{u.DOMException=function(z,Q){this.message=z,this.name=Q;var Z=Error(z);this.stack=Z.stack},u.DOMException.prototype=Object.create(Error.prototype),u.DOMException.prototype.constructor=u.DOMException}function A(g,z){return new Promise(function(Q,Z){var le=new E(g,z);if(le.signal&&le.signal.aborted)return Z(new u.DOMException("Aborted","AbortError"));var ae=new XMLHttpRequest;function L(){ae.abort()}ae.onload=function(){var D,ee,ne={status:ae.status,statusText:ae.statusText,headers:(D=ae.getAllResponseHeaders()||"",ee=new O,D.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(be){var ie=be.split(":"),_e=ie.shift().trim();if(_e){var we=ie.join(":").trim();ee.append(_e,we)}}),ee)};ne.url="responseURL"in ae?ae.responseURL:ne.headers.get("X-Request-URL");var se="response"in ae?ae.response:ae.responseText;Q(new c(se,ne))},ae.onerror=function(){Z(new TypeError("Network request failed"))},ae.ontimeout=function(){Z(new TypeError("Network request failed"))},ae.onabort=function(){Z(new u.DOMException("Aborted","AbortError"))},ae.open(le.method,le.url,!0),le.credentials==="include"?ae.withCredentials=!0:le.credentials==="omit"&&(ae.withCredentials=!1),"responseType"in ae&&r&&(ae.responseType="blob"),le.headers.forEach(function(D,ee){ae.setRequestHeader(ee,D)}),le.signal&&(le.signal.addEventListener("abort",L),ae.onreadystatechange=function(){ae.readyState===4&&le.signal.removeEventListener("abort",L)}),ae.send(le._bodyInit===void 0?null:le._bodyInit)})}A.polyfill=!0,h.fetch||(h.fetch=A,h.Headers=O,h.Request=E,h.Response=c),u.Headers=O,u.Request=E,u.Response=c,u.fetch=A,Object.defineProperty(u,"__esModule",{value:!0})})({})})(d),d.fetch.ponyfill=!0,delete d.fetch.polyfill;var i=d;(I=i.fetch).default=i.fetch,I.fetch=i.fetch,I.Headers=i.Headers,I.Request=i.Request,I.Response=i.Response,$.exports=I},function($,I,p){$.exports=function(){return p(49)(`!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=43)}([function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return s})),r.d(t,"e",(function(){return a}));const n=Symbol("thread.errors"),i=Symbol("thread.events"),o=Symbol("thread.terminate"),s=Symbol("thread.transferable"),a=Symbol("thread.worker")},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t){var r,n,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var u,c=[],l=!1,f=-1;function h(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&d())}function d(){if(!l){var e=a(h);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new p(e,t)),1!==c.length||l||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=r(45),i=r(46),o=r(26);function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return c(this,e,t,r)}function c(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=h(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|p(t,r),i=(e=a(e,n)).write(t,r);i!==n&&(e=e.slice(0,i));return e}(e,t,r):function(e,t){if(u.isBuffer(t)){var r=0|d(t.length);return 0===(e=a(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?a(e,0):h(e,t);if("Buffer"===t.type&&o(t.data))return h(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(l(t),e=a(e,t<0?0:0|d(t)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function h(e,t){var r=t.length<0?0:0|d(t.length);e=a(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function d(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return N(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return G(e).length;default:if(n)return N(e).length;t=(""+t).toLowerCase(),n=!0}}function g(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return O(this,t,r);case"utf8":case"utf-8":return T(this,t,r);case"ascii":return x(this,t,r);case"latin1":case"binary":return A(this,t,r);case"base64":return E(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function m(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function y(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:b(e,t,r,n,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):b(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,r,n,i){var o,s=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,r/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var l=-1;for(o=r;o<a;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){for(var f=!0,h=0;h<u;h++)if(c(e,o+h)!==c(t,h)){f=!1;break}if(f)return o}return-1}function w(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[r+s]=a}return s}function v(e,t,r,n){return q(N(t,e.length-r),e,r,n)}function _(e,t,r,n){return q(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function S(e,t,r,n){return _(e,t,r,n)}function k(e,t,r,n){return q(G(t),e,r,n)}function C(e,t,r,n){return q(function(e,t){for(var r,n,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function E(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function T(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,s,a,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=r)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=f}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=s(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,r){return c(null,e,t,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,r){return function(e,t,r,n){return l(t),t<=0?a(e,t):void 0!==r?"string"==typeof n?a(e,t).fill(r,n):a(e,t).fill(r):a(e,t)}(null,e,t,r)},u.allocUnsafe=function(e){return f(null,e)},u.allocUnsafeSlow=function(e){return f(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=u.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var s=e[r];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,i),i+=s.length}return n},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?T(this,0,e):g.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,r,n,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0),a=Math.min(o,s),c=this.slice(n,i),l=e.slice(t,r),f=0;f<a;++f)if(c[f]!==l[f]){o=c[f],s=l[f];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return y(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return y(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return w(this,e,t,r);case"utf8":case"utf-8":return v(this,e,t,r);case"ascii":return _(this,e,t,r);case"latin1":case"binary":return S(this,e,t,r);case"base64":return k(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function x(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function A(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function O(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=B(e[o]);return i}function R(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function I(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,r,n,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function M(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function D(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function L(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function U(e,t,r,n,o){return o||L(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function F(e,t,r,n,o){return o||L(e,0,r,8),i.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;r=new u(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},u.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},u.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},u.prototype.readUInt8=function(e,t){return t||I(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||I(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||I(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||I(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){t||I(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||I(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||I(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||I(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||I(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||P(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},u.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||P(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},u.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||P(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||P(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||P(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||P(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||P(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);P(this,e,t,r,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<r&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);P(this,e,t,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||P(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||P(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||P(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||P(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,r){return U(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return U(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return F(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return F(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},u.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var s=u.isBuffer(e)?e:N(new u(e,n).toString()),a=s.length;for(o=0;o<r-t;++o)this[o+t]=s[o%a]}return this};var j=/[^+\\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function N(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function G(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\\s+|\\s+$/g,"")}(e).replace(j,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function q(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}}).call(this,r(1))},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},function(e,t,r){(function(n){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(i=n))}),t.splice(i,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&void 0!==n&&"env"in n&&(e=n.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method \`debug.destroy()\` is deprecated and no longer does anything. It will be removed in the next major version of \`debug\`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(66)(t);const{formatters:i}=e.exports;i.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,r(2))},function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return s}));const n={deserialize:e=>Object.assign(Error(e.message),{name:e.name,stack:e.stack}),serialize:e=>({__error_marker:"$$error",message:e.message,name:e.name,stack:e.stack})};let i={deserialize(e){return(t=e)&&"object"==typeof t&&"__error_marker"in t&&"$$error"===t.__error_marker?n.deserialize(e):e;var t},serialize:e=>e instanceof Error?n.serialize(e):e};function o(e){return i.deserialize(e)}function s(e){return i.serialize(e)}},function(e,t,r){"use strict";var n=r(15),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=f;var o=Object.create(r(10));o.inherits=r(4);var s=r(25),a=r(30);o.inherits(f,s);for(var u=i(a.prototype),c=0;c<u.length;c++){var l=u[c];f.prototype[l]||(f.prototype[l]=a.prototype[l])}function f(e){if(!(this instanceof f))return new f(e);s.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||n.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),f.prototype._destroy=function(e,t){this.push(null),this.end(),n.nextTick(t,e)}},function(e,t,r){"use strict";let n;function i(){return n||(n=function(){try{throw new Error}catch(e){const t=(""+e.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);if(t)return(""+t[0]).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)?\\/[^/]+(?:\\?.*)?$/,"$1")+"/"}return"/"}()),n}r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return c}));const o="undefined"!=typeof navigator&&navigator.hardwareConcurrency?navigator.hardwareConcurrency:4,s=e=>/^[a-zA-Z][a-zA-Z\\d+\\-.]*:/.test(e);function a(e){const t=new Blob([e],{type:"application/javascript"});return URL.createObjectURL(t)}let u;function c(){return u||(u=function(){if("undefined"==typeof Worker)return class{constructor(){throw Error("No web worker implementation available. You might have tried to spawn a worker within a worker in a browser that doesn't support workers in workers.")}};class e extends Worker{constructor(e,t){var r,n;"string"==typeof e&&t&&t._baseURL?e=new URL(e,t._baseURL):"string"==typeof e&&!s(e)&&i().match(/^file:\\/\\//i)&&(e=new URL(e,i().replace(/\\/[^\\/]+$/,"/")),(null===(r=null==t?void 0:t.CORSWorkaround)||void 0===r||r)&&(e=a(\`importScripts(\${JSON.stringify(e)});\`))),"string"==typeof e&&s(e)&&(null===(n=null==t?void 0:t.CORSWorkaround)||void 0===n||n)&&(e=a(\`importScripts(\${JSON.stringify(e)});\`)),super(e,t)}}class t extends e{constructor(e,t){super(window.URL.createObjectURL(e),t)}static fromText(e,r){const n=new window.Blob([e],{type:"text/javascript"});return new t(n,r)}}return{blob:t,default:e}}()),u}},function(e,t,r){"use strict";var n,i;r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i})),function(e){e.cancel="cancel",e.run="run"}(n||(n={})),function(e){e.error="error",e.init="init",e.result="result",e.running="running",e.uncaughtError="uncaughtError"}(i||(i={}))},function(e,t,r){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(3).Buffer.isBuffer},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(0);function i(e){throw Error(e)}const o={errors:e=>e[n.a]||i("Error observable not found. Make sure to pass a thread instance as returned by the spawn() promise."),events:e=>e[n.b]||i("Events observable not found. Make sure to pass a thread instance as returned by the spawn() promise."),terminate:e=>e[n.c]()}},function(e,t){},function(e,t,r){"use strict";const n=()=>"function"==typeof Symbol,i=e=>n()&&Boolean(Symbol[e]),o=e=>i(e)?Symbol[e]:"@@"+e;i("asyncIterator")||(Symbol.asyncIterator=Symbol.asyncIterator||Symbol.for("Symbol.asyncIterator"));const s=o("iterator"),a=o("observable"),u=o("species");function c(e,t){const r=e[t];if(null!=r){if("function"!=typeof r)throw new TypeError(r+" is not a function");return r}}function l(e){let t=e.constructor;return void 0!==t&&(t=t[u],null===t&&(t=void 0)),void 0!==t?t:w}function f(e){f.log?f.log(e):setTimeout(()=>{throw e},0)}function h(e){Promise.resolve().then(()=>{try{e()}catch(e){f(e)}})}function d(e){const t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"==typeof t)t();else{const e=c(t,"unsubscribe");e&&e.call(t)}}catch(e){f(e)}}function p(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function g(e,t,r){e._state="running";const n=e._observer;try{const i=n?c(n,t):void 0;switch(t){case"next":i&&i.call(n,r);break;case"error":if(p(e),!i)throw r;i.call(n,r);break;case"complete":p(e),i&&i.call(n)}}catch(e){f(e)}"closed"===e._state?d(e):"running"===e._state&&(e._state="ready")}function m(e,t,r){if("closed"!==e._state)return"buffering"===e._state?(e._queue=e._queue||[],void e._queue.push({type:t,value:r})):"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:r}],void h(()=>function(e){const t=e._queue;if(t){e._queue=void 0,e._state="ready";for(const r of t)if(g(e,r.type,r.value),"closed"===e._state)break}}(e))):void g(e,t,r)}class y{constructor(e,t){this._cleanup=void 0,this._observer=e,this._queue=void 0,this._state="initializing";const r=new b(this);try{this._cleanup=t.call(void 0,r)}catch(e){r.error(e)}"initializing"===this._state&&(this._state="ready")}get closed(){return"closed"===this._state}unsubscribe(){"closed"!==this._state&&(p(this),d(this))}}class b{constructor(e){this._subscription=e}get closed(){return"closed"===this._subscription._state}next(e){m(this._subscription,"next",e)}error(e){m(this._subscription,"error",e)}complete(){m(this._subscription,"complete")}}class w{constructor(e){if(!(this instanceof w))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof e)throw new TypeError("Observable initializer must be a function");this._subscriber=e}subscribe(e,t,r){return"object"==typeof e&&null!==e||(e={next:e,error:t,complete:r}),new y(e,this._subscriber)}pipe(e,...t){let r=this;for(const n of[e,...t])r=n(r);return r}tap(e,t,r){const n="object"!=typeof e||null===e?{next:e,error:t,complete:r}:e;return new w(e=>this.subscribe({next(t){n.next&&n.next(t),e.next(t)},error(t){n.error&&n.error(t),e.error(t)},complete(){n.complete&&n.complete(),e.complete()},start(e){n.start&&n.start(e)}}))}forEach(e){return new Promise((t,r)=>{if("function"!=typeof e)return void r(new TypeError(e+" is not a function"));function n(){i.unsubscribe(),t(void 0)}const i=this.subscribe({next(t){try{e(t,n)}catch(e){r(e),i.unsubscribe()}},error(e){r(e)},complete(){t(void 0)}})})}map(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(l(this))(t=>this.subscribe({next(r){let n=r;try{n=e(r)}catch(e){return t.error(e)}t.next(n)},error(e){t.error(e)},complete(){t.complete()}}))}filter(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(l(this))(t=>this.subscribe({next(r){try{if(!e(r))return}catch(e){return t.error(e)}t.next(r)},error(e){t.error(e)},complete(){t.complete()}}))}reduce(e,t){if("function"!=typeof e)throw new TypeError(e+" is not a function");const r=l(this),n=arguments.length>1;let i=!1,o=t;return new r(t=>this.subscribe({next(r){const s=!i;if(i=!0,!s||n)try{o=e(o,r)}catch(e){return t.error(e)}else o=r},error(e){t.error(e)},complete(){if(!i&&!n)return t.error(new TypeError("Cannot reduce an empty sequence"));t.next(o),t.complete()}}))}concat(...e){const t=l(this);return new t(r=>{let n,i=0;return function o(s){n=s.subscribe({next(e){r.next(e)},error(e){r.error(e)},complete(){i===e.length?(n=void 0,r.complete()):o(t.from(e[i++]))}})}(this),()=>{n&&(n.unsubscribe(),n=void 0)}})}flatMap(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");const t=l(this);return new t(r=>{const n=[],i=this.subscribe({next(i){let s;if(e)try{s=e(i)}catch(e){return r.error(e)}else s=i;const a=t.from(s).subscribe({next(e){r.next(e)},error(e){r.error(e)},complete(){const e=n.indexOf(a);e>=0&&n.splice(e,1),o()}});n.push(a)},error(e){r.error(e)},complete(){o()}});function o(){i.closed&&0===n.length&&r.complete()}return()=>{n.forEach(e=>e.unsubscribe()),i.unsubscribe()}})}[(Symbol.observable,a)](){return this}static from(e){const t="function"==typeof this?this:w;if(null==e)throw new TypeError(e+" is not an object");const r=c(e,a);if(r){const n=r.call(e);if(Object(n)!==n)throw new TypeError(n+" is not an object");return function(e){return e instanceof w}(n)&&n.constructor===t?n:new t(e=>n.subscribe(e))}if(i("iterator")){const r=c(e,s);if(r)return new t(t=>{h(()=>{if(!t.closed){for(const n of r.call(e))if(t.next(n),t.closed)return;t.complete()}})})}if(Array.isArray(e))return new t(t=>{h(()=>{if(!t.closed){for(const r of e)if(t.next(r),t.closed)return;t.complete()}})});throw new TypeError(e+" is not observable")}static of(...e){return new("function"==typeof this?this:w)(t=>{h(()=>{if(!t.closed){for(const r of e)if(t.next(r),t.closed)return;t.complete()}})})}static get[u](){return this}}n()&&Object.defineProperty(w,Symbol("extensions"),{value:{symbol:a,hostReportError:f},configurable:!0});t.a=w},function(e,t,r){"use strict";var n;r.d(t,"a",(function(){return n})),function(e){e.internalError="internalError",e.message="message",e.termination="termination"}(n||(n={}))},function(e,t,r){"use strict";(function(t){void 0===t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,r,n,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,r)}));case 3:return t.nextTick((function(){e.call(null,r,n)}));case 4:return t.nextTick((function(){e.call(null,r,n,i)}));default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return t.nextTick((function(){e.apply(null,o)}))}}}:e.exports=t}).call(this,r(2))},function(e,t,r){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var n in r)i(r,n)&&(e[n]=r[n])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,r,n,i){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+n),i);else for(var o=0;o<n;o++)e[i+o]=t[r+o]},flattenChunks:function(e){var t,r,n,i,o,s;for(n=0,t=0,r=e.length;t<r;t++)n+=e[t].length;for(s=new Uint8Array(n),i=0,t=0,r=e.length;t<r;t++)o=e[t],s.set(o,i),i+=o.length;return s}},s={arraySet:function(e,t,r,n,i){for(var o=0;o<n;o++)e[i+o]=t[r+o]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,o)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,s))},t.setTyped(n)},function(e,t,r){"use strict";var n=r(72),i=r(74);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=w,t.resolve=function(e,t){return w(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?w(e,!1,!0).resolveObject(t):t},t.format=function(e){i.isString(e)&&(e=w(e));return e instanceof o?e.format():o.prototype.format.call(e)},t.Url=o;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,u=/^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,c=["{","}","|","\\\\","^","\`"].concat(["<",">",'"',"\`"," ","\\r","\\n","\\t"]),l=["'"].concat(c),f=["%","/","?",";","#"].concat(l),h=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=r(75);function w(e,t,r){if(e&&i.isObject(e)&&e instanceof o)return e;var n=new o;return n.parse(e,t,r),n}o.prototype.parse=function(e,t,r){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),a=-1!==o&&o<e.indexOf("#")?"?":"#",c=e.split(a);c[0]=c[0].replace(/\\\\/g,"/");var w=e=c.join(a);if(w=w.trim(),!r&&1===e.split("#").length){var v=u.exec(w);if(v)return this.path=w,this.href=w,this.pathname=v[1],v[2]?(this.search=v[2],this.query=t?b.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var _=s.exec(w);if(_){var S=(_=_[0]).toLowerCase();this.protocol=S,w=w.substr(_.length)}if(r||_||w.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)){var k="//"===w.substr(0,2);!k||_&&m[_]||(w=w.substr(2),this.slashes=!0)}if(!m[_]&&(k||_&&!y[_])){for(var C,E,T=-1,x=0;x<h.length;x++){-1!==(A=w.indexOf(h[x]))&&(-1===T||A<T)&&(T=A)}-1!==(E=-1===T?w.lastIndexOf("@"):w.lastIndexOf("@",T))&&(C=w.slice(0,E),w=w.slice(E+1),this.auth=decodeURIComponent(C)),T=-1;for(x=0;x<f.length;x++){var A;-1!==(A=w.indexOf(f[x]))&&(-1===T||A<T)&&(T=A)}-1===T&&(T=w.length),this.host=w.slice(0,T),w=w.slice(T),this.parseHost(),this.hostname=this.hostname||"";var O="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!O)for(var R=this.hostname.split(/\\./),I=(x=0,R.length);x<I;x++){var P=R[x];if(P&&!P.match(d)){for(var M="",D=0,L=P.length;D<L;D++)P.charCodeAt(D)>127?M+="x":M+=P[D];if(!M.match(d)){var U=R.slice(0,x),F=R.slice(x+1),j=P.match(p);j&&(U.push(j[1]),F.unshift(j[2])),F.length&&(w="/"+F.join(".")+w),this.hostname=U.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),O||(this.hostname=n.toASCII(this.hostname));var B=this.port?":"+this.port:"",N=this.hostname||"";this.host=N+B,this.href+=this.host,O&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==w[0]&&(w="/"+w))}if(!g[S])for(x=0,I=l.length;x<I;x++){var G=l[x];if(-1!==w.indexOf(G)){var q=encodeURIComponent(G);q===G&&(q=escape(G)),w=w.split(G).join(q)}}var H=w.indexOf("#");-1!==H&&(this.hash=w.substr(H),w=w.slice(0,H));var z=w.indexOf("?");if(-1!==z?(this.search=w.substr(z),this.query=w.substr(z+1),t&&(this.query=b.parse(this.query)),w=w.slice(0,z)):t&&(this.search="",this.query={}),w&&(this.pathname=w),y[S]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){B=this.pathname||"";var K=this.search||"";this.path=B+K}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,s="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(s=b.stringify(this.query));var a=this.search||s&&"?"+s||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||y[t])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),t+o+(r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(a=a.replace("#","%23"))+n},o.prototype.resolve=function(e){return this.resolveObject(w(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var r=new o,n=Object.keys(this),s=0;s<n.length;s++){var a=n[s];r[a]=this[a]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),c=0;c<u.length;c++){var l=u[c];"protocol"!==l&&(r[l]=e[l])}return y[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!y[e.protocol]){for(var f=Object.keys(e),h=0;h<f.length;h++){var d=f[h];r[d]=e[d]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||m[e.protocol])r.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),r.pathname=p.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var g=r.pathname||"",b=r.search||"";r.path=g+b}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var w=r.pathname&&"/"===r.pathname.charAt(0),v=e.host||e.pathname&&"/"===e.pathname.charAt(0),_=v||w||r.host&&e.pathname,S=_,k=r.pathname&&r.pathname.split("/")||[],C=(p=e.pathname&&e.pathname.split("/")||[],r.protocol&&!y[r.protocol]);if(C&&(r.hostname="",r.port=null,r.host&&(""===k[0]?k[0]=r.host:k.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),_=_&&(""===p[0]||""===k[0])),v)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,k=p;else if(p.length)k||(k=[]),k.pop(),k=k.concat(p),r.search=e.search,r.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(C)r.hostname=r.host=k.shift(),(O=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=O.shift(),r.host=r.hostname=O.shift());return r.search=e.search,r.query=e.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!k.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var E=k.slice(-1)[0],T=(r.host||e.host||k.length>1)&&("."===E||".."===E)||""===E,x=0,A=k.length;A>=0;A--)"."===(E=k[A])?k.splice(A,1):".."===E?(k.splice(A,1),x++):x&&(k.splice(A,1),x--);if(!_&&!S)for(;x--;x)k.unshift("..");!_||""===k[0]||k[0]&&"/"===k[0].charAt(0)||k.unshift(""),T&&"/"!==k.join("/").substr(-1)&&k.push("");var O,R=""===k[0]||k[0]&&"/"===k[0].charAt(0);C&&(r.hostname=r.host=R?"":k.length?k.shift():"",(O=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=O.shift(),r.host=r.hostname=O.shift()));return(_=_||r.host&&k.length)&&!R&&k.unshift(""),k.length?r.pathname=k.join("/"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var e=this.host,t=a.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,r){(function(e){var n=r(68),i=r(35),o=r(70),s=r(71),a=r(17),u=t;u.request=function(t,r){t="string"==typeof t?a.parse(t):o(t);var i=-1===e.location.protocol.search(/^https?:$/)?"http:":"",s=t.protocol||i,u=t.hostname||t.host,c=t.port,l=t.path||"/";u&&-1!==u.indexOf(":")&&(u="["+u+"]"),t.url=(u?s+"//"+u:"")+(c?":"+c:"")+l,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var f=new n(t);return r&&f.on("response",r),f},u.get=function(e,t){var r=u.request(e,t);return r.end(),r},u.ClientRequest=n,u.IncomingMessage=i.IncomingMessage,u.Agent=function(){},u.Agent.defaultMaxSockets=4,u.globalAgent=new u.Agent,u.STATUS_CODES=s,u.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,r(1))},,function(e,t,r){(t=e.exports=r(25)).Stream=t,t.Readable=t,t.Writable=r(30),t.Duplex=r(7),t.Transform=r(32),t.PassThrough=r(54)},function(e,t,r){var n=r(3),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=s),o(i,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return y}));var n=r(5),i=r.n(n),o=r(13),s=r(6),a=r(40),u=r(0),c=r(14),l=r(24),f=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))};const h=i()("threads:master:messages"),d=i()("threads:master:spawn"),p=i()("threads:master:thread-utils"),g=void 0!==e&&e.env.THREADS_WORKER_INIT_TIMEOUT?Number.parseInt(e.env.THREADS_WORKER_INIT_TIMEOUT,10):1e4;function m(e,t,r,n){const i=r.filter(e=>e.type===c.a.internalError).map(e=>e.error);return Object.assign(e,{[u.a]:i,[u.b]:r,[u.c]:n,[u.e]:t})}function y(e,t){return f(this,void 0,void 0,(function*(){d("Initializing new thread");const r=t&&t.timeout?t.timeout:g,n=(yield function(e,t,r){return f(this,void 0,void 0,(function*(){let n;const i=new Promise((e,i)=>{n=setTimeout(()=>i(Error(r)),t)}),o=yield Promise.race([e,i]);return clearTimeout(n),o}))}(function(e){return new Promise((t,r)=>{const n=i=>{var o;h("Message from worker before finishing initialization:",i.data),(o=i.data)&&"init"===o.type?(e.removeEventListener("message",n),t(i.data)):(e=>e&&"uncaughtError"===e.type)(i.data)&&(e.removeEventListener("message",n),r(Object(s.a)(i.data.error)))};e.addEventListener("message",n)})}(e),r,\`Timeout: Did not receive an init message from worker after \${r}ms. Make sure the worker calls expose().\`)).exposed,{termination:i,terminate:u}=function(e){const[t,r]=Object(a.a)();return{terminate:()=>f(this,void 0,void 0,(function*(){p("Terminating worker"),yield e.terminate(),r()})),termination:t}}(e),y=function(e,t){return new o.a(r=>{const n=e=>{const t={type:c.a.message,data:e.data};r.next(t)},i=e=>{p("Unhandled promise rejection event in thread:",e);const t={type:c.a.internalError,error:Error(e.reason)};r.next(t)};e.addEventListener("message",n),e.addEventListener("unhandledrejection",i),t.then(()=>{const t={type:c.a.termination};e.removeEventListener("message",n),e.removeEventListener("unhandledrejection",i),r.next(t),r.complete()})})}(e,i);if("function"===n.type){return m(Object(l.a)(e),e,y,u)}if("module"===n.type){return m(Object(l.b)(e,n.methods),e,y,u)}{const e=n.type;throw Error("Worker init message states unexpected type of expose(): "+e)}}))}}).call(this,r(2))},function(e,t,r){"use strict";r.d(t,"a",(function(){return m}));var n=r(5),i=r.n(n),o=r(39),s=r(84),a=r(13);function u(e){return Promise.all(e.map(e=>{const t=e=>({status:"fulfilled",value:e}),r=e=>({status:"rejected",reason:e}),n=Promise.resolve(e);try{return n.then(t,r)}catch(e){return Promise.reject(e)}}))}var c,l=r(8);!function(e){e.initialized="initialized",e.taskCanceled="taskCanceled",e.taskCompleted="taskCompleted",e.taskFailed="taskFailed",e.taskQueued="taskQueued",e.taskQueueDrained="taskQueueDrained",e.taskStart="taskStart",e.terminated="terminated"}(c||(c={}));var f=r(11),h=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))};let d=1;class p{constructor(e,t){this.eventSubject=new o.a,this.initErrors=[],this.isClosing=!1,this.nextTaskID=1,this.taskQueue=[];const r="number"==typeof t?{size:t}:t||{},{size:n=l.a}=r;this.debug=i()("threads:pool:"+(r.name||String(d++)).replace(/\\W/g," ").trim().replace(/\\s+/g,"-")),this.options=r,this.workers=function(e,t){return function(e){const t=[];for(let r=0;r<e;r++)t.push(r);return t}(t).map(()=>({init:e(),runningTasks:[]}))}(e,n),this.eventObservable=Object(s.a)(a.a.from(this.eventSubject)),Promise.all(this.workers.map(e=>e.init)).then(()=>this.eventSubject.next({type:c.initialized,size:this.workers.length}),e=>{this.debug("Error while initializing pool worker:",e),this.eventSubject.error(e),this.initErrors.push(e)})}findIdlingWorker(){const{concurrency:e=1}=this.options;return this.workers.find(t=>t.runningTasks.length<e)}runPoolTask(e,t){return h(this,void 0,void 0,(function*(){const r=this.workers.indexOf(e)+1;this.debug(\`Running task #\${t.id} on worker #\${r}...\`),this.eventSubject.next({type:c.taskStart,taskID:t.id,workerID:r});try{const n=yield t.run(yield e.init);this.debug(\`Task #\${t.id} completed successfully\`),this.eventSubject.next({type:c.taskCompleted,returnValue:n,taskID:t.id,workerID:r})}catch(e){this.debug(\`Task #\${t.id} failed\`),this.eventSubject.next({type:c.taskFailed,taskID:t.id,error:e,workerID:r})}}))}run(e,t){return h(this,void 0,void 0,(function*(){const r=(()=>h(this,void 0,void 0,(function*(){var n;yield(n=0,new Promise(e=>setTimeout(e,n)));try{yield this.runPoolTask(e,t)}finally{e.runningTasks=e.runningTasks.filter(e=>e!==r),this.isClosing||this.scheduleWork()}})))();e.runningTasks.push(r)}))}scheduleWork(){this.debug("Attempt de-queueing a task in order to run it...");const e=this.findIdlingWorker();if(!e)return;const t=this.taskQueue.shift();if(!t)return this.debug("Task queue is empty"),void this.eventSubject.next({type:c.taskQueueDrained});this.run(e,t)}taskCompletion(e){return new Promise((t,r)=>{const n=this.events().subscribe(i=>{i.type===c.taskCompleted&&i.taskID===e?(n.unsubscribe(),t(i.returnValue)):i.type===c.taskFailed&&i.taskID===e?(n.unsubscribe(),r(i.error)):i.type===c.terminated&&(n.unsubscribe(),r(Error("Pool has been terminated before task was run.")))})})}settled(e=!1){return h(this,void 0,void 0,(function*(){const t=()=>{return e=this.workers,t=e=>e.runningTasks,e.reduce((e,r)=>[...e,...t(r)],[]);var e,t},r=[],n=this.eventObservable.subscribe(e=>{e.type===c.taskFailed&&r.push(e.error)});return this.initErrors.length>0?Promise.reject(this.initErrors[0]):e&&0===this.taskQueue.length?(yield u(t()),r):(yield new Promise((e,t)=>{const r=this.eventObservable.subscribe({next(t){t.type===c.taskQueueDrained&&(r.unsubscribe(),e(void 0))},error:t})}),yield u(t()),n.unsubscribe(),r)}))}completed(e=!1){return h(this,void 0,void 0,(function*(){const t=this.settled(e),r=new Promise((e,r)=>{const n=this.eventObservable.subscribe({next(i){i.type===c.taskQueueDrained?(n.unsubscribe(),e(t)):i.type===c.taskFailed&&(n.unsubscribe(),r(i.error))},error:r})}),n=yield Promise.race([t,r]);if(n.length>0)throw n[0]}))}events(){return this.eventObservable}queue(e){const{maxQueuedJobs:t=1/0}=this.options;if(this.isClosing)throw Error("Cannot schedule pool tasks after terminate() has been called.");if(this.initErrors.length>0)throw this.initErrors[0];const r=this.nextTaskID++,n=this.taskCompletion(r);n.catch(e=>{this.debug(\`Task #\${r} errored:\`,e)});const i={id:r,run:e,cancel:()=>{-1!==this.taskQueue.indexOf(i)&&(this.taskQueue=this.taskQueue.filter(e=>e!==i),this.eventSubject.next({type:c.taskCanceled,taskID:i.id}))},then:n.then.bind(n)};if(this.taskQueue.length>=t)throw Error("Maximum number of pool tasks queued. Refusing to queue another one.\\nThis usually happens for one of two reasons: We are either at peak workload right now or some tasks just won't finish, thus blocking the pool.");return this.debug(\`Queueing task #\${i.id}...\`),this.taskQueue.push(i),this.eventSubject.next({type:c.taskQueued,taskID:i.id}),this.scheduleWork(),i}terminate(e){return h(this,void 0,void 0,(function*(){this.isClosing=!0,e||(yield this.completed(!0)),this.eventSubject.next({type:c.terminated,remainingQueue:[...this.taskQueue]}),this.eventSubject.complete(),yield Promise.all(this.workers.map(e=>h(this,void 0,void 0,(function*(){return f.a.terminate(yield e.init)}))))}))}}function g(e,t){return new p(e,t)}p.EventType=c,g.EventType=c;const m=g},function(e,t,r){"use strict";r.d(t,"a",(function(){return b})),r.d(t,"b",(function(){return w}));var n=r(5),i=r.n(n),o=r(13),s=r(84),a=r(6);const u=()=>{},c=e=>e,l=e=>Promise.resolve().then(e);function f(e){throw e}class h extends o.a{constructor(e){super(t=>{const r=this,n=Object.assign(Object.assign({},t),{complete(){t.complete(),r.onCompletion()},error(e){t.error(e),r.onError(e)},next(e){t.next(e),r.onNext(e)}});try{return this.initHasRun=!0,e(n)}catch(e){n.error(e)}}),this.initHasRun=!1,this.fulfillmentCallbacks=[],this.rejectionCallbacks=[],this.firstValueSet=!1,this.state="pending"}onNext(e){this.firstValueSet||(this.firstValue=e,this.firstValueSet=!0)}onError(e){this.state="rejected",this.rejection=e;for(const t of this.rejectionCallbacks)l(()=>t(e))}onCompletion(){this.state="fulfilled";for(const e of this.fulfillmentCallbacks)l(()=>e(this.firstValue))}then(e,t){const r=e||c,n=t||f;let i=!1;return new Promise((e,t)=>{const o=r=>{if(!i){i=!0;try{e(n(r))}catch(e){t(e)}}};return this.initHasRun||this.subscribe({error:o}),"fulfilled"===this.state?e(r(this.firstValue)):"rejected"===this.state?(i=!0,e(n(this.rejection))):(this.fulfillmentCallbacks.push(t=>{try{e(r(t))}catch(e){o(e)}}),void this.rejectionCallbacks.push(o))})}catch(e){return this.then(void 0,e)}finally(e){const t=e||u;return this.then(e=>(t(),e),()=>t())}static from(e){return function(e){return e&&"function"==typeof e.then}(e)?new h(t=>{e.then(e=>{t.next(e),t.complete()},e=>{t.error(e)})}):super.from(e)}}var d=r(41),p=r(9);const g=i()("threads:master:messages");let m=1;function y(e,t){return new o.a(r=>{let n;const i=o=>{var s;if(g("Message from worker:",o.data),o.data&&o.data.uid===t)if((s=o.data)&&s.type===p.b.running)n=o.data.resultType;else if((e=>e&&e.type===p.b.result)(o.data))"promise"===n?(void 0!==o.data.payload&&r.next(Object(a.a)(o.data.payload)),r.complete(),e.removeEventListener("message",i)):(o.data.payload&&r.next(Object(a.a)(o.data.payload)),o.data.complete&&(r.complete(),e.removeEventListener("message",i)));else if((e=>e&&e.type===p.b.error)(o.data)){const t=Object(a.a)(o.data.error);r.error(t),e.removeEventListener("message",i)}};return e.addEventListener("message",i),()=>{if("observable"===n||!n){const r={type:p.a.cancel,uid:t};e.postMessage(r)}e.removeEventListener("message",i)}})}function b(e,t){return(...r)=>{const n=m++,{args:i,transferables:o}=function(e){if(0===e.length)return{args:[],transferables:[]};const t=[],r=[];for(const n of e)Object(d.a)(n)?(t.push(Object(a.b)(n.send)),r.push(...n.transferables)):t.push(Object(a.b)(n));return{args:t,transferables:0===r.length?r:(n=r,Array.from(new Set(n)))};var n}(r),u={type:p.a.run,uid:n,method:t,args:i};g("Sending command to run function to worker:",u);try{e.postMessage(u,o)}catch(e){return h.from(Promise.reject(e))}return h.from(Object(s.a)(y(e,n)))}}function w(e,t){const r={};for(const n of t)r[n]=b(e,n);return r}},function(e,t,r){"use strict";(function(t,n){var i=r(15);e.exports=w;var o,s=r(26);w.ReadableState=b;r(27).EventEmitter;var a=function(e,t){return e.listeners(t).length},u=r(28),c=r(21).Buffer,l=t.Uint8Array||function(){};var f=Object.create(r(10));f.inherits=r(4);var h=r(47),d=void 0;d=h&&h.debuglog?h.debuglog("stream"):function(){};var p,g=r(48),m=r(29);f.inherits(w,u);var y=["error","close","destroy","pause","resume"];function b(e,t){e=e||{};var n=t instanceof(o=o||r(7));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,s=e.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=r(31).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function w(e){if(o=o||r(7),!(this instanceof w))return new w(e);this._readableState=new b(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),u.call(this)}function v(e,t,r,n,i){var o,s=e._readableState;null===t?(s.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,k(e)}(e,s)):(i||(o=function(e,t){var r;n=t,c.isBuffer(n)||n instanceof l||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));var n;return r}(s,t)),o?e.emit("error",o):s.objectMode||t&&t.length>0?("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),n?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):_(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?_(e,s,t,!1):E(e,s)):_(e,s,t,!1))):n||(s.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(s)}function _(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&k(e)),E(e,t)}Object.defineProperty(w.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),w.prototype.destroy=m.destroy,w.prototype._undestroy=m.undestroy,w.prototype._destroy=function(e,t){this.push(null),t(e)},w.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=c.from(e,t),t=""),r=!0),v(this,e,t,!1,r)},w.prototype.unshift=function(e){return v(this,e,null,!0,!1)},w.prototype.isPaused=function(){return!1===this._readableState.flowing},w.prototype.setEncoding=function(e){return p||(p=r(31).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};function S(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=8388608?e=8388608:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function k(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(d("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(C,e):C(e))}function C(e){d("emit readable"),e.emit("readable"),O(e)}function E(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(T,e,t))}function T(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(d("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function x(e){d("readable nexttick read 0"),e.read(0)}function A(e,t){t.reading||(d("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),O(e),t.flowing&&!t.reading&&e.read(0)}function O(e){var t=e._readableState;for(d("flow",t.flowing);t.flowing&&null!==e.read(););}function R(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;e-=i.length;for(;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(s===o.length?i+=o:i+=o.slice(0,e),0===(e-=s)){s===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(s));break}++n}return t.length-=n,i}(e,t):function(e,t){var r=c.allocUnsafe(e),n=t.head,i=1;n.data.copy(r),e-=n.data.length;for(;n=n.next;){var o=n.data,s=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,s),0===(e-=s)){s===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(s));break}++i}return t.length-=i,r}(e,t);return n}(e,t.buffer,t.decoder),r);var r}function I(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(P,t,e))}function P(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function M(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}w.prototype.read=function(e){d("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return d("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?I(this):k(this),null;if(0===(e=S(e,t))&&t.ended)return 0===t.length&&I(this),null;var n,i=t.needReadable;return d("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&d("length less than watermark",i=!0),t.ended||t.reading?d("reading or ended",i=!1):i&&(d("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=S(r,t))),null===(n=e>0?R(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&I(this)),null!==n&&this.emit("data",n),n},w.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},w.prototype.pipe=function(e,t){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,d("pipe count=%d opts=%j",o.pipesCount,t);var u=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr?l:w;function c(t,n){d("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,d("cleanup"),e.removeListener("close",y),e.removeListener("finish",b),e.removeListener("drain",f),e.removeListener("error",m),e.removeListener("unpipe",c),r.removeListener("end",l),r.removeListener("end",w),r.removeListener("data",g),h=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||f())}function l(){d("onend"),e.end()}o.endEmitted?i.nextTick(u):r.once("end",u),e.on("unpipe",c);var f=function(e){return function(){var t=e._readableState;d("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,O(e))}}(r);e.on("drain",f);var h=!1;var p=!1;function g(t){d("ondata"),p=!1,!1!==e.write(t)||p||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==M(o.pipes,e))&&!h&&(d("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,p=!0),r.pause())}function m(t){d("onerror",t),w(),e.removeListener("error",m),0===a(e,"error")&&e.emit("error",t)}function y(){e.removeListener("finish",b),w()}function b(){d("onfinish"),e.removeListener("close",y),w()}function w(){d("unpipe"),r.unpipe(e)}return r.on("data",g),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?s(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",m),e.once("close",y),e.once("finish",b),e.emit("pipe",r),o.flowing||(d("pipe resume"),r.resume()),e},w.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var s=M(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},w.prototype.on=function(e,t){var r=u.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&k(this):i.nextTick(x,this))}return r},w.prototype.addListener=w.prototype.on,w.prototype.resume=function(){var e=this._readableState;return e.flowing||(d("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(A,e,t))}(this,e)),this},w.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},w.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(d("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(d("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<y.length;o++)e.on(y[o],this.emit.bind(this,y[o]));return this._read=function(t){d("wrapped _read",t),n&&(n=!1,e.resume())},this},Object.defineProperty(w.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),w._fromList=R}).call(this,r(1),r(2))},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){"use strict";var n,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,o),n(r)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}y(e,t,o,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&y(e,"error",t,r)}(e,i,{once:!0})}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var u=10;function c(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function f(e,t,r,n){var i,o,s,a;if(c(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]),void 0===s)s=o[t]=r,++e._eventsCount;else if("function"==typeof s?s=o[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(i=l(e))>0&&s.length>i&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,a=u,console&&console.warn&&console.warn(a)}return e}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=h.bind(n);return i.listener=r,n.wrapFn=i,i}function p(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):m(i,i.length)}function g(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function m(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function y(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){n.once&&e.removeEventListener(t,i),r(o)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=i[e];if(void 0===u)return!1;if("function"==typeof u)o(u,this,t);else{var c=u.length,l=m(u,c);for(r=0;r<c;++r)o(l[r],this,t)}return!0},a.prototype.addListener=function(e,t){return f(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return f(this,e,t,!0)},a.prototype.once=function(e,t){return c(t),this.on(e,d(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,d(this,e,t)),this},a.prototype.removeListener=function(e,t){var r,n,i,o,s;if(c(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){s=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},a.prototype.listeners=function(e){return p(this,e,!0)},a.prototype.rawListeners=function(e){return p(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},a.prototype.listenerCount=g,a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},function(e,t,r){e.exports=r(27).EventEmitter},function(e,t,r){"use strict";var n=r(15);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(n.nextTick(i,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,r){"use strict";(function(t,n,i){var o=r(15);function s(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=b;var a,u=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?n:o.nextTick;b.WritableState=y;var c=Object.create(r(10));c.inherits=r(4);var l={deprecate:r(52)},f=r(28),h=r(21).Buffer,d=i.Uint8Array||function(){};var p,g=r(29);function m(){}function y(e,t){a=a||r(7),e=e||{};var n=t instanceof a;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,c=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(c||0===c)?c:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===e.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?(o.nextTick(i,n),o.nextTick(C,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(i(n),e._writableState.errorEmitted=!0,e.emit("error",n),C(e,t))}(e,r,n,t,i);else{var s=S(r);s||r.corked||r.bufferProcessing||!r.bufferedRequest||_(e,r),n?u(v,e,r,s,i):v(e,r,s,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function b(e){if(a=a||r(7),!(p.call(b,this)||this instanceof a))return new b(e);this._writableState=new y(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),f.call(this)}function w(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function v(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),C(e,t)}function _(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var a=0,u=!0;r;)i[a]=r,r.isBuf||(u=!1),r=r.next,a+=1;i.allBuffers=u,w(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new s(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,l=r.encoding,f=r.callback;if(w(e,t,!1,t.objectMode?1:c.length,c,l,f),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function S(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function k(e,t){e._final((function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),C(e,t)}))}function C(e,t){var r=S(t);return r&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,o.nextTick(k,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}c.inherits(b,f),y.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(y.prototype,"buffer",{get:l.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(e){return!!p.call(this,e)||this===b&&(e&&e._writableState instanceof y)}})):p=function(e){return e instanceof this},b.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},b.prototype.write=function(e,t,r){var n,i=this._writableState,s=!1,a=!i.objectMode&&(n=e,h.isBuffer(n)||n instanceof d);return a&&!h.isBuffer(e)&&(e=function(e){return h.from(e)}(e)),"function"==typeof t&&(r=t,t=null),a?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=m),i.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),o.nextTick(t,r)}(this,r):(a||function(e,t,r,n){var i=!0,s=!1;return null===r?s=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),o.nextTick(n,s),i=!1),i}(this,i,e,r))&&(i.pendingcb++,s=function(e,t,r,n,i,o){if(!r){var s=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=h.from(t,r));return t}(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=t.objectMode?1:n.length;t.length+=a;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else w(e,t,!1,a,n,i,o);return u}(this,i,a,e,t,r)),s},b.prototype.cork=function(){this._writableState.corked++},b.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||_(this,e))},b.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(b.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),b.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},b.prototype._writev=null,b.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,C(e,t),r&&(t.finished?o.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r)},Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),b.prototype.destroy=g.destroy,b.prototype._undestroy=g.undestroy,b.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,r(2),r(50).setImmediate,r(1))},function(e,t,r){"use strict";var n=r(53).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=h,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:-1}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"\uFFFD".repeat(r);if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"\uFFFD".repeat(r+1);if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"\uFFFD".repeat(r+2)}}(this,e,t);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD".repeat(this.lastTotal-this.lastNeed):t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=s(t[n]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--n<r)return 0;if((i=s(t[n]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--n<r)return 0;if((i=s(t[n]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,r){"use strict";e.exports=s;var n=r(7),i=Object.create(r(10));function o(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function s(e){if(!(this instanceof s))return new s(e);n.call(this,e),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",a)}function a(){var e=this;"function"==typeof this._flush?this._flush((function(t,r){u(e,t,r)})):u(this,null,null)}function u(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=r(4),i.inherits(s,n),s.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},s.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},s.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},s.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},s.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,(function(e){t(e),r.emit("close")}))}},function(e,t,r){"use strict";(function(e){var n=r(81),i=r(23),o=r(22);const s="undefined"!=typeof navigator?navigator.hardwareConcurrency:null;t.a=class{constructor(t=s){const r=new n.a(e);this.pool=Object(i.a)(()=>Object(o.a)(r),t)}async decode(e,t){return new Promise((r,n)=>{this.pool.queue(async i=>{try{const n=await i(e,t);r(n)}catch(e){n(e)}})})}destroy(){this.pool.terminate(!0)}}}).call(this,r(65))},function(e,t,r){(function(e){t.fetch=a(e.fetch)&&a(e.ReadableStream),t.writableStream=a(e.WritableStream),t.abortController=a(e.AbortController),t.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),t.blobConstructor=!0}catch(e){}var r;function n(){if(void 0!==r)return r;if(e.XMLHttpRequest){r=new e.XMLHttpRequest;try{r.open("GET",e.XDomainRequest?"/":"https://example.com")}catch(e){r=null}}else r=null;return r}function i(e){var t=n();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(e){}return!1}var o=void 0!==e.ArrayBuffer,s=o&&a(e.ArrayBuffer.prototype.slice);function a(e){return"function"==typeof e}t.arraybuffer=t.fetch||o&&i("arraybuffer"),t.msstream=!t.fetch&&s&&i("ms-stream"),t.mozchunkedarraybuffer=!t.fetch&&o&&i("moz-chunked-arraybuffer"),t.overrideMimeType=t.fetch||!!n()&&a(n().overrideMimeType),t.vbArray=a(e.VBArray),r=null}).call(this,r(1))},function(e,t,r){(function(e,n,i){var o=r(34),s=r(4),a=r(20),u=t.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},c=t.IncomingMessage=function(t,r,s,u){var c=this;if(a.Readable.call(c),c._mode=s,c.headers={},c.rawHeaders=[],c.trailers={},c.rawTrailers=[],c.on("end",(function(){e.nextTick((function(){c.emit("close")}))})),"fetch"===s){if(c._fetchResponse=r,c.url=r.url,c.statusCode=r.status,c.statusMessage=r.statusText,r.headers.forEach((function(e,t){c.headers[t.toLowerCase()]=e,c.rawHeaders.push(t,e)})),o.writableStream){var l=new WritableStream({write:function(e){return new Promise((function(t,r){c._destroyed?r():c.push(new n(e))?t():c._resumeFetch=t}))},close:function(){i.clearTimeout(u),c._destroyed||c.push(null)},abort:function(e){c._destroyed||c.emit("error",e)}});try{return void r.body.pipeTo(l).catch((function(e){i.clearTimeout(u),c._destroyed||c.emit("error",e)}))}catch(e){}}var f=r.body.getReader();!function e(){f.read().then((function(t){if(!c._destroyed){if(t.done)return i.clearTimeout(u),void c.push(null);c.push(new n(t.value)),e()}})).catch((function(e){i.clearTimeout(u),c._destroyed||c.emit("error",e)}))}()}else{if(c._xhr=t,c._pos=0,c.url=t.responseURL,c.statusCode=t.status,c.statusMessage=t.statusText,t.getAllResponseHeaders().split(/\\r?\\n/).forEach((function(e){var t=e.match(/^([^:]+):\\s*(.*)/);if(t){var r=t[1].toLowerCase();"set-cookie"===r?(void 0===c.headers[r]&&(c.headers[r]=[]),c.headers[r].push(t[2])):void 0!==c.headers[r]?c.headers[r]+=", "+t[2]:c.headers[r]=t[2],c.rawHeaders.push(t[1],t[2])}})),c._charset="x-user-defined",!o.overrideMimeType){var h=c.rawHeaders["mime-type"];if(h){var d=h.match(/;\\s*charset=([^;])(;|$)/);d&&(c._charset=d[1].toLowerCase())}c._charset||(c._charset="utf-8")}}};s(c,a.Readable),c.prototype._read=function(){var e=this._resumeFetch;e&&(this._resumeFetch=null,e())},c.prototype._onXHRProgress=function(){var e=this,t=e._xhr,r=null;switch(e._mode){case"text:vbarray":if(t.readyState!==u.DONE)break;try{r=new i.VBArray(t.responseBody).toArray()}catch(e){}if(null!==r){e.push(new n(r));break}case"text":try{r=t.responseText}catch(t){e._mode="text:vbarray";break}if(r.length>e._pos){var o=r.substr(e._pos);if("x-user-defined"===e._charset){for(var s=new n(o.length),a=0;a<o.length;a++)s[a]=255&o.charCodeAt(a);e.push(s)}else e.push(o,e._charset);e._pos=r.length}break;case"arraybuffer":if(t.readyState!==u.DONE||!t.response)break;r=t.response,e.push(new n(new Uint8Array(r)));break;case"moz-chunked-arraybuffer":if(r=t.response,t.readyState!==u.LOADING||!r)break;e.push(new n(new Uint8Array(r)));break;case"ms-stream":if(r=t.response,t.readyState!==u.LOADING)break;var c=new i.MSStreamReader;c.onprogress=function(){c.result.byteLength>e._pos&&(e.push(new n(new Uint8Array(c.result.slice(e._pos)))),e._pos=c.result.byteLength)},c.onload=function(){e.push(null)},c.readAsArrayBuffer(r)}e._xhr.readyState===u.DONE&&"ms-stream"!==e._mode&&e.push(null)}}).call(this,r(2),r(3).Buffer,r(1))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e,t){return new Promise((function(r,c){try{t&&console.log("starting parseData with",e),t&&console.log("\\tGeoTIFF:","undefined"==typeof GeoTIFF?"undefined":i(GeoTIFF));var l={},f=void 0,h=void 0;if("object"===e.rasterType)l.values=e.data,l.height=f=e.metadata.height||l.values[0].length,l.width=h=e.metadata.width||l.values[0][0].length,l.pixelHeight=e.metadata.pixelHeight,l.pixelWidth=e.metadata.pixelWidth,l.projection=e.metadata.projection,l.xmin=e.metadata.xmin,l.ymax=e.metadata.ymax,l.noDataValue=e.metadata.noDataValue,l.numberOfRasters=l.values.length,l.xmax=l.xmin+l.width*l.pixelWidth,l.ymin=l.ymax-l.height*l.pixelHeight,l._data=null,r(u(l));else if("geotiff"===e.rasterType){l._data=e.data;var d=o.fromArrayBuffer;"url"===e.sourceType&&(d=o.fromUrl),t&&console.log("data.rasterType is geotiff"),r(d(e.data).then((function(r){return t&&console.log("geotiff:",r),r.getImage().then((function(r){try{t&&console.log("image:",r);var i=r.fileDirectory,o=r.getGeoKeys(),d=o.GeographicTypeGeoKey,p=o.ProjectedCSTypeGeoKey;l.projection=p||d,t&&console.log("projection:",l.projection),l.height=f=r.getHeight(),t&&console.log("result.height:",l.height),l.width=h=r.getWidth(),t&&console.log("result.width:",l.width);var g=r.getResolution(),m=n(g,2),y=m[0],b=m[1];l.pixelHeight=Math.abs(b),l.pixelWidth=Math.abs(y);var w=r.getOrigin(),v=n(w,2),_=v[0],S=v[1];return l.xmin=_,l.xmax=l.xmin+h*l.pixelWidth,l.ymax=S,l.ymin=l.ymax-f*l.pixelHeight,l.noDataValue=i.GDAL_NODATA?parseFloat(i.GDAL_NODATA):null,l.numberOfRasters=i.SamplesPerPixel,i.ColorMap&&(l.palette=(0,s.getPalette)(r)),"url"!==e.sourceType?r.readRasters().then((function(e){return l.values=e.map((function(e){return(0,a.unflatten)(e,{height:f,width:h})})),u(l)})):l}catch(e){c(e),console.error("[georaster] error parsing georaster:",e)}}))})))}}catch(e){c(e),console.error("[georaster] error parsing georaster:",e)}}))};var o=r(80),s=r(78),a=r(79);function u(e,t){var r=e.noDataValue,n=e.height,i=e.width;return new Promise((function(o,s){e.maxs=[],e.mins=[],e.ranges=[];for(var a=void 0,u=void 0,c=0;c<e.numberOfRasters;c++){var l=e.values[c];t&&console.log("[georaster] rows:",l);for(var f=0;f<n;f++)for(var h=l[f],d=0;d<i;d++){var p=h[d];p==r||isNaN(p)||(void 0===u||p<u?u=p:(void 0===a||p>a)&&(a=p))}e.maxs.push(a),e.mins.push(u),e.ranges.push(a-u)}o(e)}))}},function(e,t,r){function n(e,t){"use strict";var r=(t=t||{}).pos||0,i="<".charCodeAt(0),o=">".charCodeAt(0),s="-".charCodeAt(0),a="/".charCodeAt(0),u="!".charCodeAt(0),c="'".charCodeAt(0),l='"'.charCodeAt(0);function f(){for(var t=[];e[r];)if(e.charCodeAt(r)==i){if(e.charCodeAt(r+1)===a)return(r=e.indexOf(">",r))+1&&(r+=1),t;if(e.charCodeAt(r+1)===u){if(e.charCodeAt(r+2)==s){for(;-1!==r&&(e.charCodeAt(r)!==o||e.charCodeAt(r-1)!=s||e.charCodeAt(r-2)!=s||-1==r);)r=e.indexOf(">",r+1);-1===r&&(r=e.length)}else for(r+=2;e.charCodeAt(r)!==o&&e[r];)r++;r++;continue}var n=g();t.push(n)}else{var c=h();c.trim().length>0&&t.push(c),r++}return t}function h(){var t=r;return-2===(r=e.indexOf("<",r)-1)&&(r=e.length),e.slice(t,r+1)}function d(){for(var t=r;-1==="\\n\\t>/= ".indexOf(e[r])&&e[r];)r++;return e.slice(t,r)}var p=t.noChildNodes||["img","br","input","meta","link"];function g(){r++;const t=d(),n={};let i=[];for(;e.charCodeAt(r)!==o&&e[r];){var s=e.charCodeAt(r);if(s>64&&s<91||s>96&&s<123){for(var u=d(),h=e.charCodeAt(r);h&&h!==c&&h!==l&&!(h>64&&h<91||h>96&&h<123)&&h!==o;)r++,h=e.charCodeAt(r);if(h===c||h===l){var g=m();if(-1===r)return{tagName:t,attributes:n,children:i}}else g=null,r--;n[u]=g}r++}if(e.charCodeAt(r-1)!==a)if("script"==t){var y=r+1;r=e.indexOf("<\\/script>",r),i=[e.slice(y,r-1)],r+=9}else if("style"==t){y=r+1;r=e.indexOf("</style>",r),i=[e.slice(y,r-1)],r+=8}else-1==p.indexOf(t)&&(r++,i=f());else r++;return{tagName:t,attributes:n,children:i}}function m(){var t=e[r],n=++r;return r=e.indexOf(t,n),e.slice(n,r)}var y,b=null;if(void 0!==t.attrValue){t.attrName=t.attrName||"id";for(b=[];-1!==(y=void 0,y=new RegExp("\\\\s"+t.attrName+"\\\\s*=['\\"]"+t.attrValue+"['\\"]").exec(e),r=y?y.index:-1);)-1!==(r=e.lastIndexOf("<",r))&&b.push(g()),e=e.substr(r),r=0}else b=t.parseNode?g():f();return t.filter&&(b=n.filter(b,t.filter)),t.setPos&&(b.pos=r),b}n.simplify=function(e){var t={};if(!e.length)return"";if(1===e.length&&"string"==typeof e[0])return e[0];for(var r in e.forEach((function(e){if("object"==typeof e){t[e.tagName]||(t[e.tagName]=[]);var r=n.simplify(e.children||[]);t[e.tagName].push(r),e.attributes&&(r._attributes=e.attributes)}})),t)1==t[r].length&&(t[r]=t[r][0]);return t},n.filter=function(e,t){var r=[];return e.forEach((function(e){if("object"==typeof e&&t(e)&&r.push(e),e.children){var i=n.filter(e.children,t);r=r.concat(i)}})),r},n.stringify=function(e){var t="";function r(e){if(e)for(var r=0;r<e.length;r++)"string"==typeof e[r]?t+=e[r].trim():n(e[r])}function n(e){for(var n in t+="<"+e.tagName,e.attributes)null===e.attributes[n]?t+=" "+n:-1===e.attributes[n].indexOf('"')?t+=" "+n+'="'+e.attributes[n].trim()+'"':t+=" "+n+"='"+e.attributes[n].trim()+"'";t+=">",r(e.children),t+="</"+e.tagName+">"}return r(e),t},n.toContentString=function(e){if(Array.isArray(e)){var t="";return e.forEach((function(e){t=(t+=" "+n.toContentString(e)).trim()})),t}return"object"==typeof e?n.toContentString(e.children):" "+e},n.getElementById=function(e,t,r){var i=n(e,{attrValue:t});return r?n.simplify(i):i[0]},n.getElementsByClassName=function(e,t,r){const i=n(e,{attrName:"class",attrValue:"[a-zA-Z0-9-s ]*"+t+"[a-zA-Z0-9-s ]*"});return r?n.simplify(i):i},n.parseStream=function(e,t){if("string"==typeof t&&(t=t.length+2),"string"==typeof e){var i=r(12);e=i.createReadStream(e,{start:t}),t=0}var o=t,s="";return e.on("data",(function(t){s+=t;for(var r=0;;){if(!(o=s.indexOf("<",o)+1))return void(o=r);if("/"!==s[o+1]){var i=n(s,{pos:o-1,parseNode:!0,setPos:!0});if((o=i.pos)>s.length-1||o<r)return s=s.slice(r),o=0,void(r=0);e.emit("xml",i),r=o}else o+=1,r=pos}})),e.on("end",(function(){console.log("end")})),e},n.transformStream=function(e){const t=r(44);"string"==typeof e&&(e=e.length+2);var i=e||0,o="";return t({readableObjectMode:!0},(function(e,t,r){o+=e;for(var s=0;;){if(!(i=o.indexOf("<",i)+1))return i=s,r();if("/"!==o[i+1]){var a=n(o,{pos:i-1,parseNode:!0,setPos:!0});if((i=a.pos)>o.length-1||i<s)return o=o.slice(s),i=0,s=0,r();this.push(a),s=i}else i+=1,s=pos}r()}))},e.exports=n,n.xml=n},function(e,t,r){"use strict";var n=r(55),i=r(16),o=r(60),s=r(61),a=r(62),u=r(63),c=r(64),l=Object.prototype.toString;function f(e){if(!(this instanceof f))return new f(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var r=n.inflateInit2(this.strm,t.windowBits);if(r!==s.Z_OK)throw new Error(a[r]);if(this.header=new c,n.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=o.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=n.inflateSetDictionary(this.strm,t.dictionary))!==s.Z_OK))throw new Error(a[r])}function h(e,t){var r=new f(t);if(r.push(e,!0),r.err)throw r.msg||a[r.err];return r.result}f.prototype.push=function(e,t){var r,a,u,c,f,h=this.strm,d=this.options.chunkSize,p=this.options.dictionary,g=!1;if(this.ended)return!1;a=t===~~t?t:!0===t?s.Z_FINISH:s.Z_NO_FLUSH,"string"==typeof e?h.input=o.binstring2buf(e):"[object ArrayBuffer]"===l.call(e)?h.input=new Uint8Array(e):h.input=e,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new i.Buf8(d),h.next_out=0,h.avail_out=d),(r=n.inflate(h,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&p&&(r=n.inflateSetDictionary(this.strm,p)),r===s.Z_BUF_ERROR&&!0===g&&(r=s.Z_OK,g=!1),r!==s.Z_STREAM_END&&r!==s.Z_OK)return this.onEnd(r),this.ended=!0,!1;h.next_out&&(0!==h.avail_out&&r!==s.Z_STREAM_END&&(0!==h.avail_in||a!==s.Z_FINISH&&a!==s.Z_SYNC_FLUSH)||("string"===this.options.to?(u=o.utf8border(h.output,h.next_out),c=h.next_out-u,f=o.buf2string(h.output,u),h.next_out=c,h.avail_out=d-c,c&&i.arraySet(h.output,h.output,u,c,0),this.onData(f)):this.onData(i.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(g=!0)}while((h.avail_in>0||0===h.avail_out)&&r!==s.Z_STREAM_END);return r===s.Z_STREAM_END&&(a=s.Z_FINISH),a===s.Z_FINISH?(r=n.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===s.Z_OK):a!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),h.avail_out=0,!0)},f.prototype.onData=function(e){this.chunks.push(e)},f.prototype.onEnd=function(e){e===s.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=f,t.inflate=h,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,h(e,t)},t.ungzip=h},function(e,t,r){"use strict";var n=r(13);class i extends n.a{constructor(){super(e=>(this._observers.add(e),()=>this._observers.delete(e))),this._observers=new Set}next(e){for(const t of this._observers)t.next(e)}error(e){for(const t of this._observers)t.error(e)}complete(){for(const e of this._observers)e.complete()}}t.a=i},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));const n=()=>{};function i(){let e,t=!1,r=n;return[new Promise(n=>{t?n(e):r=n}),n=>{t=!0,e=n,r(e)}]}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(0);function i(e){return e&&"object"==typeof e&&e[n.d]}},function(e,t,r){var n=r(18),i=r(17),o=e.exports;for(var s in n)n.hasOwnProperty(s)&&(o[s]=n[s]);function a(e){if("string"==typeof e&&(e=i.parse(e)),e.protocol||(e.protocol="https:"),"https:"!==e.protocol)throw new Error('Protocol "'+e.protocol+'" not supported. Expected "https:"');return e}o.request=function(e,t){return e=a(e),n.request.call(this,e,t)},o.get=function(e,t){return e=a(e),n.get.call(this,e,t)}},function(e,t,r){"use strict";r.r(t);var n=r(36),i=r.n(n);self;onmessage=e=>{const t=e.data;i()(t).then(e=>{e._data instanceof ArrayBuffer?postMessage(e,[e._data]):postMessage(e),close()})}},function(e,t,r){(function(t){var n=r(20).Transform,i=r(4);function o(e){n.call(this,e),this._destroyed=!1}function s(e,t,r){r(null,e)}function a(e){return function(t,r,n){return"function"==typeof t&&(n=r,r=t,t={}),"function"!=typeof r&&(r=s),"function"!=typeof n&&(n=null),e(t,r,n)}}i(o,n),o.prototype.destroy=function(e){if(!this._destroyed){this._destroyed=!0;var r=this;t.nextTick((function(){e&&r.emit("error",e),r.emit("close")}))}},e.exports=a((function(e,t,r){var n=new o(e);return n._transform=t,r&&(n._flush=r),n})),e.exports.ctor=a((function(e,t,r){function n(t){if(!(this instanceof n))return new n(t);this.options=Object.assign({},e,t),o.call(this,this.options)}return i(n,o),n.prototype._transform=t,r&&(n.prototype._flush=r),n})),e.exports.obj=a((function(e,t,r){var n=new o(Object.assign({objectMode:!0,highWaterMark:16},e));return n._transform=t,r&&(n._flush=r),n}))}).call(this,r(2))},function(e,t,r){"use strict";t.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=c(e),s=n[0],a=n[1],u=new o(function(e,t,r){return 3*(t+r)/4-r}(0,s,a)),l=0,f=a>0?s-4:s;for(r=0;r<f;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;2===a&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,u[l++]=255&t);1===a&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t);return u},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],s=0,a=r-i;s<a;s+=16383)o.push(l(e,s,s+16383>a?a:s+16383));1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)n[a]=s[a],i[s.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function l(e,t,r){for(var i,o,s=[],a=t;a<r;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,c=u>>1,l=-7,f=r?i-1:0,h=r?-1:1,d=e[t+f];for(f+=h,o=d&(1<<-l)-1,d>>=-l,l+=a;l>0;o=256*o+e[t+f],f+=h,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=256*s+e[t+f],f+=h,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,n),o-=c}return(d?-1:1)*s*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,p=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(s++,u/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(t*u-1)*Math.pow(2,i),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[r+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[r+d]=255&s,d+=p,s/=256,c-=8);e[r+d-p]|=128*g}},function(e,t){},function(e,t,r){"use strict";var n=r(21).Buffer,i=r(49);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t,r,i,o=n.allocUnsafe(e>>>0),s=this.head,a=0;s;)t=s.data,r=o,i=a,t.copy(r,i),a+=s.data.length,s=s.next;return o},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,r){(function(e){var n=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},r(51),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,r(1))},function(e,t,r){(function(e,t){!function(e,r){"use strict";if(!e.setImmediate){var n,i,o,s,a,u=1,c={},l=!1,f=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick((function(){p(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){p(e.data)},n=function(e){o.port2.postMessage(e)}):f&&"onreadystatechange"in f.createElement("script")?(i=f.documentElement,n=function(e){var t=f.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):n=function(e){setTimeout(p,0,e)}:(s="setImmediate$"+Math.random()+"$",a=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(s)&&p(+t.data.slice(s.length))},e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),n=function(t){e.postMessage(s+t,"*")}),h.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var i={callback:e,args:t};return c[u]=i,n(u),u++},h.clearImmediate=d}function d(e){delete c[e]}function p(e){if(l)setTimeout(p,0,e);else{var t=c[e];if(t){l=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(void 0,r)}}(t)}finally{d(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,r(1),r(2))},function(e,t,r){(function(t){function r(e){try{if(!t.localStorage)return!1}catch(e){return!1}var r=t.localStorage[e];return null!=r&&"true"===String(r).toLowerCase()}e.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}}).call(this,r(1))},function(e,t,r){var n=r(3),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=s),o(i,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,r){"use strict";e.exports=o;var n=r(32),i=Object.create(r(10));function o(e){if(!(this instanceof o))return new o(e);n.call(this,e)}i.inherits=r(4),i.inherits(o,n),o.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,r){"use strict";var n=r(16),i=r(56),o=r(57),s=r(58),a=r(59);function u(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function c(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function l(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new n.Buf32(852),t.distcode=t.distdyn=new n.Buf32(592),t.sane=1,t.back=-1,0):-2}function f(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,l(e)):-2}function h(e,t){var r,n;return e&&e.state?(n=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?-2:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,f(e))):-2}function d(e,t){var r,n;return e?(n=new c,e.state=n,n.window=null,0!==(r=h(e,t))&&(e.state=null),r):-2}var p,g,m=!0;function y(e){if(m){var t;for(p=new n.Buf32(512),g=new n.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(a(1,e.lens,0,288,p,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;a(2,e.lens,0,32,g,0,e.work,{bits:5}),m=!1}e.lencode=p,e.lenbits=9,e.distcode=g,e.distbits=5}function b(e,t,r,i){var o,s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new n.Buf8(s.wsize)),i>=s.wsize?(n.arraySet(s.window,t,r-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):((o=s.wsize-s.wnext)>i&&(o=i),n.arraySet(s.window,t,r-i,o,s.wnext),(i-=o)?(n.arraySet(s.window,t,r-i,i,0),s.wnext=i,s.whave=s.wsize):(s.wnext+=o,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=o))),0}t.inflateReset=f,t.inflateReset2=h,t.inflateResetKeep=l,t.inflateInit=function(e){return d(e,15)},t.inflateInit2=d,t.inflate=function(e,t){var r,c,l,f,h,d,p,g,m,w,v,_,S,k,C,E,T,x,A,O,R,I,P,M,D=0,L=new n.Buf8(4),U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return-2;12===(r=e.state).mode&&(r.mode=13),h=e.next_out,l=e.output,p=e.avail_out,f=e.next_in,c=e.input,d=e.avail_in,g=r.hold,m=r.bits,w=d,v=p,I=0;e:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;m<16;){if(0===d)break e;d--,g+=c[f++]<<m,m+=8}if(2&r.wrap&&35615===g){r.check=0,L[0]=255&g,L[1]=g>>>8&255,r.check=o(r.check,L,2,0),g=0,m=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&g)<<8)+(g>>8))%31){e.msg="incorrect header check",r.mode=30;break}if(8!=(15&g)){e.msg="unknown compression method",r.mode=30;break}if(m-=4,R=8+(15&(g>>>=4)),0===r.wbits)r.wbits=R;else if(R>r.wbits){e.msg="invalid window size",r.mode=30;break}r.dmax=1<<R,e.adler=r.check=1,r.mode=512&g?10:12,g=0,m=0;break;case 2:for(;m<16;){if(0===d)break e;d--,g+=c[f++]<<m,m+=8}if(r.flags=g,8!=(255&r.flags)){e.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=g>>8&1),512&r.flags&&(L[0]=255&g,L[1]=g>>>8&255,r.check=o(r.check,L,2,0)),g=0,m=0,r.mode=3;case 3:for(;m<32;){if(0===d)break e;d--,g+=c[f++]<<m,m+=8}r.head&&(r.head.time=g),512&r.flags&&(L[0]=255&g,L[1]=g>>>8&255,L[2]=g>>>16&255,L[3]=g>>>24&255,r.check=o(r.check,L,4,0)),g=0,m=0,r.mode=4;case 4:for(;m<16;){if(0===d)break e;d--,g+=c[f++]<<m,m+=8}r.head&&(r.head.xflags=255&g,r.head.os=g>>8),512&r.flags&&(L[0]=255&g,L[1]=g>>>8&255,r.check=o(r.check,L,2,0)),g=0,m=0,r.mode=5;case 5:if(1024&r.flags){for(;m<16;){if(0===d)break e;d--,g+=c[f++]<<m,m+=8}r.length=g,r.head&&(r.head.extra_len=g),512&r.flags&&(L[0]=255&g,L[1]=g>>>8&255,r.check=o(r.check,L,2,0)),g=0,m=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&((_=r.length)>d&&(_=d),_&&(r.head&&(R=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),n.arraySet(r.head.extra,c,f,_,R)),512&r.flags&&(r.check=o(r.check,c,_,f)),d-=_,f+=_,r.length-=_),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===d)break e;_=0;do{R=c[f+_++],r.head&&R&&r.length<65536&&(r.head.name+=String.fromCharCode(R))}while(R&&_<d);if(512&r.flags&&(r.check=o(r.check,c,_,f)),d-=_,f+=_,R)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===d)break e;_=0;do{R=c[f+_++],r.head&&R&&r.length<65536&&(r.head.comment+=String.fromCharCode(R))}while(R&&_<d);if(512&r.flags&&(r.check=o(r.check,c,_,f)),d-=_,f+=_,R)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;m<16;){if(0===d)break e;d--,g+=c[f++]<<m,m+=8}if(g!==(65535&r.check)){e.msg="header crc mismatch",r.mode=30;break}g=0,m=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=12;break;case 10:for(;m<32;){if(0===d)break e;d--,g+=c[f++]<<m,m+=8}e.adler=r.check=u(g),g=0,m=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=h,e.avail_out=p,e.next_in=f,e.avail_in=d,r.hold=g,r.bits=m,2;e.adler=r.check=1,r.mode=12;case 12:if(5===t||6===t)break e;case 13:if(r.last){g>>>=7&m,m-=7&m,r.mode=27;break}for(;m<3;){if(0===d)break e;d--,g+=c[f++]<<m,m+=8}switch(r.last=1&g,m-=1,3&(g>>>=1)){case 0:r.mode=14;break;case 1:if(y(r),r.mode=20,6===t){g>>>=2,m-=2;break e}break;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=30}g>>>=2,m-=2;break;case 14:for(g>>>=7&m,m-=7&m;m<32;){if(0===d)break e;d--,g+=c[f++]<<m,m+=8}if((65535&g)!=(g>>>16^65535)){e.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&g,g=0,m=0,r.mode=15,6===t)break e;case 15:r.mode=16;case 16:if(_=r.length){if(_>d&&(_=d),_>p&&(_=p),0===_)break e;n.arraySet(l,c,f,_,h),d-=_,f+=_,p-=_,h+=_,r.length-=_;break}r.mode=12;break;case 17:for(;m<14;){if(0===d)break e;d--,g+=c[f++]<<m,m+=8}if(r.nlen=257+(31&g),g>>>=5,m-=5,r.ndist=1+(31&g),g>>>=5,m-=5,r.ncode=4+(15&g),g>>>=4,m-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;m<3;){if(0===d)break e;d--,g+=c[f++]<<m,m+=8}r.lens[U[r.have++]]=7&g,g>>>=3,m-=3}for(;r.have<19;)r.lens[U[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,P={bits:r.lenbits},I=a(0,r.lens,0,19,r.lencode,0,r.work,P),r.lenbits=P.bits,I){e.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;E=(D=r.lencode[g&(1<<r.lenbits)-1])>>>16&255,T=65535&D,!((C=D>>>24)<=m);){if(0===d)break e;d--,g+=c[f++]<<m,m+=8}if(T<16)g>>>=C,m-=C,r.lens[r.have++]=T;else{if(16===T){for(M=C+2;m<M;){if(0===d)break e;d--,g+=c[f++]<<m,m+=8}if(g>>>=C,m-=C,0===r.have){e.msg="invalid bit length repeat",r.mode=30;break}R=r.lens[r.have-1],_=3+(3&g),g>>>=2,m-=2}else if(17===T){for(M=C+3;m<M;){if(0===d)break e;d--,g+=c[f++]<<m,m+=8}m-=C,R=0,_=3+(7&(g>>>=C)),g>>>=3,m-=3}else{for(M=C+7;m<M;){if(0===d)break e;d--,g+=c[f++]<<m,m+=8}m-=C,R=0,_=11+(127&(g>>>=C)),g>>>=7,m-=7}if(r.have+_>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=30;break}for(;_--;)r.lens[r.have++]=R}}if(30===r.mode)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,P={bits:r.lenbits},I=a(1,r.lens,0,r.nlen,r.lencode,0,r.work,P),r.lenbits=P.bits,I){e.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,P={bits:r.distbits},I=a(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,P),r.distbits=P.bits,I){e.msg="invalid distances set",r.mode=30;break}if(r.mode=20,6===t)break e;case 20:r.mode=21;case 21:if(d>=6&&p>=258){e.next_out=h,e.avail_out=p,e.next_in=f,e.avail_in=d,r.hold=g,r.bits=m,s(e,v),h=e.next_out,l=e.output,p=e.avail_out,f=e.next_in,c=e.input,d=e.avail_in,g=r.hold,m=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;E=(D=r.lencode[g&(1<<r.lenbits)-1])>>>16&255,T=65535&D,!((C=D>>>24)<=m);){if(0===d)break e;d--,g+=c[f++]<<m,m+=8}if(E&&0==(240&E)){for(x=C,A=E,O=T;E=(D=r.lencode[O+((g&(1<<x+A)-1)>>x)])>>>16&255,T=65535&D,!(x+(C=D>>>24)<=m);){if(0===d)break e;d--,g+=c[f++]<<m,m+=8}g>>>=x,m-=x,r.back+=x}if(g>>>=C,m-=C,r.back+=C,r.length=T,0===E){r.mode=26;break}if(32&E){r.back=-1,r.mode=12;break}if(64&E){e.msg="invalid literal/length code",r.mode=30;break}r.extra=15&E,r.mode=22;case 22:if(r.extra){for(M=r.extra;m<M;){if(0===d)break e;d--,g+=c[f++]<<m,m+=8}r.length+=g&(1<<r.extra)-1,g>>>=r.extra,m-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;E=(D=r.distcode[g&(1<<r.distbits)-1])>>>16&255,T=65535&D,!((C=D>>>24)<=m);){if(0===d)break e;d--,g+=c[f++]<<m,m+=8}if(0==(240&E)){for(x=C,A=E,O=T;E=(D=r.distcode[O+((g&(1<<x+A)-1)>>x)])>>>16&255,T=65535&D,!(x+(C=D>>>24)<=m);){if(0===d)break e;d--,g+=c[f++]<<m,m+=8}g>>>=x,m-=x,r.back+=x}if(g>>>=C,m-=C,r.back+=C,64&E){e.msg="invalid distance code",r.mode=30;break}r.offset=T,r.extra=15&E,r.mode=24;case 24:if(r.extra){for(M=r.extra;m<M;){if(0===d)break e;d--,g+=c[f++]<<m,m+=8}r.offset+=g&(1<<r.extra)-1,g>>>=r.extra,m-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(0===p)break e;if(_=v-p,r.offset>_){if((_=r.offset-_)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=30;break}_>r.wnext?(_-=r.wnext,S=r.wsize-_):S=r.wnext-_,_>r.length&&(_=r.length),k=r.window}else k=l,S=h-r.offset,_=r.length;_>p&&(_=p),p-=_,r.length-=_;do{l[h++]=k[S++]}while(--_);0===r.length&&(r.mode=21);break;case 26:if(0===p)break e;l[h++]=r.length,p--,r.mode=21;break;case 27:if(r.wrap){for(;m<32;){if(0===d)break e;d--,g|=c[f++]<<m,m+=8}if(v-=p,e.total_out+=v,r.total+=v,v&&(e.adler=r.check=r.flags?o(r.check,l,v,h-v):i(r.check,l,v,h-v)),v=p,(r.flags?g:u(g))!==r.check){e.msg="incorrect data check",r.mode=30;break}g=0,m=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;m<32;){if(0===d)break e;d--,g+=c[f++]<<m,m+=8}if(g!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=30;break}g=0,m=0}r.mode=29;case 29:I=1;break e;case 30:I=-3;break e;case 31:return-4;case 32:default:return-2}return e.next_out=h,e.avail_out=p,e.next_in=f,e.avail_in=d,r.hold=g,r.bits=m,(r.wsize||v!==e.avail_out&&r.mode<30&&(r.mode<27||4!==t))&&b(e,e.output,e.next_out,v-e.avail_out)?(r.mode=31,-4):(w-=e.avail_in,v-=e.avail_out,e.total_in+=w,e.total_out+=v,r.total+=v,r.wrap&&v&&(e.adler=r.check=r.flags?o(r.check,l,v,e.next_out-v):i(r.check,l,v,e.next_out-v)),e.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0===w&&0===v||4===t)&&0===I&&(I=-5),I)},t.inflateEnd=function(e){if(!e||!e.state)return-2;var t=e.state;return t.window&&(t.window=null),e.state=null,0},t.inflateGetHeader=function(e,t){var r;return e&&e.state?0==(2&(r=e.state).wrap)?-2:(r.head=t,t.done=!1,0):-2},t.inflateSetDictionary=function(e,t){var r,n=t.length;return e&&e.state?0!==(r=e.state).wrap&&11!==r.mode?-2:11===r.mode&&i(1,t,n,0)!==r.check?-3:b(e,t,n,n)?(r.mode=31,-4):(r.havedict=1,0):-2},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,r){"use strict";e.exports=function(e,t,r,n){for(var i=65535&e|0,o=e>>>16&65535|0,s=0;0!==r;){r-=s=r>2e3?2e3:r;do{o=o+(i=i+t[n++]|0)|0}while(--s);i%=65521,o%=65521}return i|o<<16|0}},function(e,t,r){"use strict";var n=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();e.exports=function(e,t,r,i){var o=n,s=i+r;e^=-1;for(var a=i;a<s;a++)e=e>>>8^o[255&(e^t[a])];return-1^e}},function(e,t,r){"use strict";e.exports=function(e,t){var r,n,i,o,s,a,u,c,l,f,h,d,p,g,m,y,b,w,v,_,S,k,C,E,T;r=e.state,n=e.next_in,E=e.input,i=n+(e.avail_in-5),o=e.next_out,T=e.output,s=o-(t-e.avail_out),a=o+(e.avail_out-257),u=r.dmax,c=r.wsize,l=r.whave,f=r.wnext,h=r.window,d=r.hold,p=r.bits,g=r.lencode,m=r.distcode,y=(1<<r.lenbits)-1,b=(1<<r.distbits)-1;e:do{p<15&&(d+=E[n++]<<p,p+=8,d+=E[n++]<<p,p+=8),w=g[d&y];t:for(;;){if(d>>>=v=w>>>24,p-=v,0===(v=w>>>16&255))T[o++]=65535&w;else{if(!(16&v)){if(0==(64&v)){w=g[(65535&w)+(d&(1<<v)-1)];continue t}if(32&v){r.mode=12;break e}e.msg="invalid literal/length code",r.mode=30;break e}_=65535&w,(v&=15)&&(p<v&&(d+=E[n++]<<p,p+=8),_+=d&(1<<v)-1,d>>>=v,p-=v),p<15&&(d+=E[n++]<<p,p+=8,d+=E[n++]<<p,p+=8),w=m[d&b];r:for(;;){if(d>>>=v=w>>>24,p-=v,!(16&(v=w>>>16&255))){if(0==(64&v)){w=m[(65535&w)+(d&(1<<v)-1)];continue r}e.msg="invalid distance code",r.mode=30;break e}if(S=65535&w,p<(v&=15)&&(d+=E[n++]<<p,(p+=8)<v&&(d+=E[n++]<<p,p+=8)),(S+=d&(1<<v)-1)>u){e.msg="invalid distance too far back",r.mode=30;break e}if(d>>>=v,p-=v,S>(v=o-s)){if((v=S-v)>l&&r.sane){e.msg="invalid distance too far back",r.mode=30;break e}if(k=0,C=h,0===f){if(k+=c-v,v<_){_-=v;do{T[o++]=h[k++]}while(--v);k=o-S,C=T}}else if(f<v){if(k+=c+f-v,(v-=f)<_){_-=v;do{T[o++]=h[k++]}while(--v);if(k=0,f<_){_-=v=f;do{T[o++]=h[k++]}while(--v);k=o-S,C=T}}}else if(k+=f-v,v<_){_-=v;do{T[o++]=h[k++]}while(--v);k=o-S,C=T}for(;_>2;)T[o++]=C[k++],T[o++]=C[k++],T[o++]=C[k++],_-=3;_&&(T[o++]=C[k++],_>1&&(T[o++]=C[k++]))}else{k=o-S;do{T[o++]=T[k++],T[o++]=T[k++],T[o++]=T[k++],_-=3}while(_>2);_&&(T[o++]=T[k++],_>1&&(T[o++]=T[k++]))}break}}break}}while(n<i&&o<a);n-=_=p>>3,d&=(1<<(p-=_<<3))-1,e.next_in=n,e.next_out=o,e.avail_in=n<i?i-n+5:5-(n-i),e.avail_out=o<a?a-o+257:257-(o-a),r.hold=d,r.bits=p}},function(e,t,r){"use strict";var n=r(16),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,r,u,c,l,f,h){var d,p,g,m,y,b,w,v,_,S=h.bits,k=0,C=0,E=0,T=0,x=0,A=0,O=0,R=0,I=0,P=0,M=null,D=0,L=new n.Buf16(16),U=new n.Buf16(16),F=null,j=0;for(k=0;k<=15;k++)L[k]=0;for(C=0;C<u;C++)L[t[r+C]]++;for(x=S,T=15;T>=1&&0===L[T];T--);if(x>T&&(x=T),0===T)return c[l++]=20971520,c[l++]=20971520,h.bits=1,0;for(E=1;E<T&&0===L[E];E++);for(x<E&&(x=E),R=1,k=1;k<=15;k++)if(R<<=1,(R-=L[k])<0)return-1;if(R>0&&(0===e||1!==T))return-1;for(U[1]=0,k=1;k<15;k++)U[k+1]=U[k]+L[k];for(C=0;C<u;C++)0!==t[r+C]&&(f[U[t[r+C]]++]=C);if(0===e?(M=F=f,b=19):1===e?(M=i,D-=257,F=o,j-=257,b=256):(M=s,F=a,b=-1),P=0,C=0,k=E,y=l,A=x,O=0,g=-1,m=(I=1<<x)-1,1===e&&I>852||2===e&&I>592)return 1;for(;;){w=k-O,f[C]<b?(v=0,_=f[C]):f[C]>b?(v=F[j+f[C]],_=M[D+f[C]]):(v=96,_=0),d=1<<k-O,E=p=1<<A;do{c[y+(P>>O)+(p-=d)]=w<<24|v<<16|_|0}while(0!==p);for(d=1<<k-1;P&d;)d>>=1;if(0!==d?(P&=d-1,P+=d):P=0,C++,0==--L[k]){if(k===T)break;k=t[r+f[C]]}if(k>x&&(P&m)!==g){for(0===O&&(O=x),y+=E,R=1<<(A=k-O);A+O<T&&!((R-=L[A+O])<=0);)A++,R<<=1;if(I+=1<<A,1===e&&I>852||2===e&&I>592)return 1;c[g=P&m]=x<<24|A<<16|y-l|0}}return 0!==P&&(c[y+P]=k-O<<24|64<<16|0),h.bits=x,0}},function(e,t,r){"use strict";var n=r(16),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var s=new n.Buf8(256),a=0;a<256;a++)s[a]=a>=252?6:a>=248?5:a>=240?4:a>=224?3:a>=192?2:1;function u(e,t){if(t<65534&&(e.subarray&&o||!e.subarray&&i))return String.fromCharCode.apply(null,n.shrinkBuf(e,t));for(var r="",s=0;s<t;s++)r+=String.fromCharCode(e[s]);return r}s[254]=s[254]=1,t.string2buf=function(e){var t,r,i,o,s,a=e.length,u=0;for(o=0;o<a;o++)55296==(64512&(r=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(i=e.charCodeAt(o+1)))&&(r=65536+(r-55296<<10)+(i-56320),o++),u+=r<128?1:r<2048?2:r<65536?3:4;for(t=new n.Buf8(u),s=0,o=0;s<u;o++)55296==(64512&(r=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(i=e.charCodeAt(o+1)))&&(r=65536+(r-55296<<10)+(i-56320),o++),r<128?t[s++]=r:r<2048?(t[s++]=192|r>>>6,t[s++]=128|63&r):r<65536?(t[s++]=224|r>>>12,t[s++]=128|r>>>6&63,t[s++]=128|63&r):(t[s++]=240|r>>>18,t[s++]=128|r>>>12&63,t[s++]=128|r>>>6&63,t[s++]=128|63&r);return t},t.buf2binstring=function(e){return u(e,e.length)},t.binstring2buf=function(e){for(var t=new n.Buf8(e.length),r=0,i=t.length;r<i;r++)t[r]=e.charCodeAt(r);return t},t.buf2string=function(e,t){var r,n,i,o,a=t||e.length,c=new Array(2*a);for(n=0,r=0;r<a;)if((i=e[r++])<128)c[n++]=i;else if((o=s[i])>4)c[n++]=65533,r+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&r<a;)i=i<<6|63&e[r++],o--;o>1?c[n++]=65533:i<65536?c[n++]=i:(i-=65536,c[n++]=55296|i>>10&1023,c[n++]=56320|1023&i)}return u(c,n)},t.utf8border=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;r>=0&&128==(192&e[r]);)r--;return r<0||0===r?t:r+s[e[r]]>t?r:t}},function(e,t,r){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t,r){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,r){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t,r){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(e,t,r){e.exports=r.p+"0.6000412d60ee3bcdd884.worker.worker.js"},function(e,t,r){e.exports=function(e){function t(e){let r,i,o,s=null;function a(...e){if(!a.enabled)return;const n=a,i=Number(new Date),o=i-(r||i);n.diff=o,n.prev=r,n.curr=i,r=i,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(r,i)=>{if("%%"===r)return"%";s++;const o=t.formatters[i];if("function"==typeof o){const t=e[s];r=o.call(n,t),e.splice(s,1),s--}return r}),t.formatArgs.call(n,e);(n.log||t.log).apply(n,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=n,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(i!==t.namespaces&&(i=t.namespaces,o=t.enabled(e)),o),set:e=>{s=e}}),"function"==typeof t.init&&t.init(a),a}function n(e,r){const n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\\.\\*\\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names.map(i),...t.skips.map(i).map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){let r;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const n=("string"==typeof e?e:"").split(/[\\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(e=n[r].replace(/\\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(67),t.destroy=function(){console.warn("Instance method \`debug.destroy()\` is deprecated and no longer does anything. It will be removed in the next major version of \`debug\`.")},Object.keys(e).forEach(r=>{t[r]=e[r]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},function(e,t){var r=1e3,n=6e4,i=60*n,o=24*i;function s(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}e.exports=function(e,t){t=t||{};var a=typeof e;if("string"===a&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===a&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=o)return s(e,t,o,"day");if(t>=i)return s(e,t,i,"hour");if(t>=n)return s(e,t,n,"minute");if(t>=r)return s(e,t,r,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=o)return Math.round(e/o)+"d";if(t>=i)return Math.round(e/i)+"h";if(t>=n)return Math.round(e/n)+"m";if(t>=r)return Math.round(e/r)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,r){(function(t,n,i){var o=r(34),s=r(4),a=r(35),u=r(20),c=r(69),l=a.IncomingMessage,f=a.readyStates;var h=e.exports=function(e){var r,n=this;u.Writable.call(n),n._opts=e,n._body=[],n._headers={},e.auth&&n.setHeader("Authorization","Basic "+new t(e.auth).toString("base64")),Object.keys(e.headers).forEach((function(t){n.setHeader(t,e.headers[t])}));var i=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!o.abortController)i=!1,r=!0;else if("prefer-streaming"===e.mode)r=!1;else if("allow-wrong-content-type"===e.mode)r=!o.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");r=!0}n._mode=function(e,t){return o.fetch&&t?"fetch":o.mozchunkedarraybuffer?"moz-chunked-arraybuffer":o.msstream?"ms-stream":o.arraybuffer&&e?"arraybuffer":o.vbArray&&e?"text:vbarray":"text"}(r,i),n._fetchTimer=null,n.on("finish",(function(){n._onFinish()}))};s(h,u.Writable),h.prototype.setHeader=function(e,t){var r=e.toLowerCase();-1===d.indexOf(r)&&(this._headers[r]={name:e,value:t})},h.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},h.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},h.prototype._onFinish=function(){var e=this;if(!e._destroyed){var r=e._opts,s=e._headers,a=null;"GET"!==r.method&&"HEAD"!==r.method&&(a=o.arraybuffer?c(t.concat(e._body)):o.blobConstructor?new n.Blob(e._body.map((function(e){return c(e)})),{type:(s["content-type"]||{}).value||""}):t.concat(e._body).toString());var u=[];if(Object.keys(s).forEach((function(e){var t=s[e].name,r=s[e].value;Array.isArray(r)?r.forEach((function(e){u.push([t,e])})):u.push([t,r])})),"fetch"===e._mode){var l=null;if(o.abortController){var h=new AbortController;l=h.signal,e._fetchAbortController=h,"requestTimeout"in r&&0!==r.requestTimeout&&(e._fetchTimer=n.setTimeout((function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()}),r.requestTimeout))}n.fetch(e._opts.url,{method:e._opts.method,headers:u,body:a||void 0,mode:"cors",credentials:r.withCredentials?"include":"same-origin",signal:l}).then((function(t){e._fetchResponse=t,e._connect()}),(function(t){n.clearTimeout(e._fetchTimer),e._destroyed||e.emit("error",t)}))}else{var d=e._xhr=new n.XMLHttpRequest;try{d.open(e._opts.method,e._opts.url,!0)}catch(t){return void i.nextTick((function(){e.emit("error",t)}))}"responseType"in d&&(d.responseType=e._mode.split(":")[0]),"withCredentials"in d&&(d.withCredentials=!!r.withCredentials),"text"===e._mode&&"overrideMimeType"in d&&d.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in r&&(d.timeout=r.requestTimeout,d.ontimeout=function(){e.emit("requestTimeout")}),u.forEach((function(e){d.setRequestHeader(e[0],e[1])})),e._response=null,d.onreadystatechange=function(){switch(d.readyState){case f.LOADING:case f.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(d.onprogress=function(){e._onXHRProgress()}),d.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{d.send(a)}catch(t){return void i.nextTick((function(){e.emit("error",t)}))}}}},h.prototype._onXHRProgress=function(){(function(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},h.prototype._connect=function(){var e=this;e._destroyed||(e._response=new l(e._xhr,e._fetchResponse,e._mode,e._fetchTimer),e._response.on("error",(function(t){e.emit("error",t)})),e.emit("response",e._response))},h.prototype._write=function(e,t,r){this._body.push(e),r()},h.prototype.abort=h.prototype.destroy=function(){this._destroyed=!0,n.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},h.prototype.end=function(e,t,r){"function"==typeof e&&(r=e,e=void 0),u.Writable.prototype.end.call(this,e,t,r)},h.prototype.flushHeaders=function(){},h.prototype.setTimeout=function(){},h.prototype.setNoDelay=function(){},h.prototype.setSocketKeepAlive=function(){};var d=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,r(3).Buffer,r(1),r(2))},function(e,t,r){var n=r(3).Buffer;e.exports=function(e){if(e instanceof Uint8Array){if(0===e.byteOffset&&e.byteLength===e.buffer.byteLength)return e.buffer;if("function"==typeof e.buffer.slice)return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(n.isBuffer(e)){for(var t=new Uint8Array(e.length),r=e.length,i=0;i<r;i++)t[i]=e[i];return t.buffer}throw new Error("Argument must be a Buffer")}},function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var i in n)r.call(n,i)&&(e[i]=n[i])}return e};var r=Object.prototype.hasOwnProperty},function(e,t){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(e,t,r){(function(e,n){var i;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(o){t&&t.nodeType,e&&e.nodeType;var s="object"==typeof n&&n;s.global!==s&&s.window!==s&&s.self;var a,u=2147483647,c=/^xn--/,l=/[^\\x20-\\x7E]/,f=/[\\x2E\\u3002\\uFF0E\\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=Math.floor,p=String.fromCharCode;function g(e){throw new RangeError(h[e])}function m(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function y(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+m((e=e.replace(f,".")).split("."),t).join(".")}function b(e){for(var t,r,n=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(r=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function w(e){return m(e,(function(e){var t="";return e>65535&&(t+=p((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=p(e)})).join("")}function v(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function _(e,t,r){var n=0;for(e=r?d(e/700):e>>1,e+=d(e/t);e>455;n+=36)e=d(e/35);return d(n+36*e/(e+38))}function S(e){var t,r,n,i,o,s,a,c,l,f,h,p=[],m=e.length,y=0,b=128,v=72;for((r=e.lastIndexOf("-"))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&g("not-basic"),p.push(e.charCodeAt(n));for(i=r>0?r+1:0;i<m;){for(o=y,s=1,a=36;i>=m&&g("invalid-input"),((c=(h=e.charCodeAt(i++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:36)>=36||c>d((u-y)/s))&&g("overflow"),y+=c*s,!(c<(l=a<=v?1:a>=v+26?26:a-v));a+=36)s>d(u/(f=36-l))&&g("overflow"),s*=f;v=_(y-o,t=p.length+1,0==o),d(y/t)>u-b&&g("overflow"),b+=d(y/t),y%=t,p.splice(y++,0,b)}return w(p)}function k(e){var t,r,n,i,o,s,a,c,l,f,h,m,y,w,S,k=[];for(m=(e=b(e)).length,t=128,r=0,o=72,s=0;s<m;++s)(h=e[s])<128&&k.push(p(h));for(n=i=k.length,i&&k.push("-");n<m;){for(a=u,s=0;s<m;++s)(h=e[s])>=t&&h<a&&(a=h);for(a-t>d((u-r)/(y=n+1))&&g("overflow"),r+=(a-t)*y,t=a,s=0;s<m;++s)if((h=e[s])<t&&++r>u&&g("overflow"),h==t){for(c=r,l=36;!(c<(f=l<=o?1:l>=o+26?26:l-o));l+=36)S=c-f,w=36-f,k.push(p(v(f+S%w,0))),c=d(S/w);k.push(p(v(c,0))),o=_(r,y,n==i),r=0,++n}++r,++t}return k.join("")}a={version:"1.4.1",ucs2:{decode:b,encode:w},decode:S,encode:k,toASCII:function(e){return y(e,(function(e){return l.test(e)?"xn--"+k(e):e}))},toUnicode:function(e){return y(e,(function(e){return c.test(e)?S(e.slice(4).toLowerCase()):e}))}},void 0===(i=function(){return a}.call(t,r,t,e))||(e.exports=i)}()}).call(this,r(73)(e),r(1))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,r){"use strict";t.decode=t.parse=r(76),t.encode=t.stringify=r(77)},function(e,t,r){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,o){t=t||"&",r=r||"=";var s={};if("string"!=typeof e||0===e.length)return s;var a=/\\+/g;e=e.split(t);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var c=e.length;u>0&&c>u&&(c=u);for(var l=0;l<c;++l){var f,h,d,p,g=e[l].replace(a,"%20"),m=g.indexOf(r);m>=0?(f=g.substr(0,m),h=g.substr(m+1)):(f=g,h=""),d=decodeURIComponent(f),p=decodeURIComponent(h),n(s,d)?i(s[d])?s[d].push(p):s[d]=[s[d],p]:s[d]=p}return s};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,r){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,a){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?o(s(e),(function(s){var a=encodeURIComponent(n(s))+r;return i(e[s])?o(e[s],(function(e){return a+encodeURIComponent(n(e))})).join(t):a+encodeURIComponent(n(e[s]))})).join(t):a?encodeURIComponent(n(a))+r+encodeURIComponent(n(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var s=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},function(e,t){e.exports={getPalette:(e,{debug:t=!1}={debug:!1})=>{t&&console.log("starting getPalette with image",e);const{fileDirectory:r}=e,{BitsPerSample:n,ColorMap:i,ImageLength:o,ImageWidth:s,PhotometricInterpretation:a,SampleFormat:u,SamplesPerPixel:c}=r;if(!i)throw new Error("[geotiff-palette]: the image does not contain a color map, so we can't make a palette.");const l=Math.pow(2,n);t&&console.log("[geotiff-palette]: count:",l);const f=i.length/3;if(t&&console.log("[geotiff-palette]: bandSize:",f),f!==l)throw new Error("[geotiff-palette]: can't handle situations where the color map has more or less values than the number of possible values in a raster");const h=f,d=h+f,p=[];for(let e=0;e<l;e++)p.push([Math.floor(i[e]/256),Math.floor(i[h+e]/256),Math.floor(i[d+e]/256),255]);return t&&console.log("[geotiff-palette]: result is ",p),p}}},function(e,t,r){"use strict";e.exports={countIn1D:function(e){return e.reduce((function(e,t){return void 0===e[t]?e[t]=1:e[t]++,e}),{})},countIn2D:function(e){return e.reduce((function(e,t){return t.forEach((function(t){void 0===e[t]?e[t]=1:e[t]++})),e}),{})},unflatten:function(e,t){for(var r=t.height,n=t.width,i=[],o=0;o<r;o++){var s=o*n,a=s+n;i.push(e.slice(s,a))}return i}}},function(e,t,r){"use strict";r.r(t),r.d(t,"globals",(function(){return n})),r.d(t,"rgb",(function(){return i})),r.d(t,"getDecoder",(function(){return B})),r.d(t,"setLogger",(function(){return _e})),r.d(t,"GeoTIFF",(function(){return xe})),r.d(t,"MultiGeoTIFF",(function(){return Ae})),r.d(t,"fromUrl",(function(){return Oe})),r.d(t,"fromArrayBuffer",(function(){return Re})),r.d(t,"fromFile",(function(){return Ie})),r.d(t,"fromBlob",(function(){return Pe})),r.d(t,"fromUrls",(function(){return Me})),r.d(t,"writeArrayBuffer",(function(){return De})),r.d(t,"Pool",(function(){return Z.a}));var n={};r.r(n),r.d(n,"fieldTagNames",(function(){return a})),r.d(n,"fieldTags",(function(){return u})),r.d(n,"fieldTagTypes",(function(){return c})),r.d(n,"arrayFields",(function(){return l})),r.d(n,"fieldTypeNames",(function(){return f})),r.d(n,"fieldTypes",(function(){return h})),r.d(n,"photometricInterpretations",(function(){return d})),r.d(n,"ExtraSamplesValues",(function(){return p})),r.d(n,"geoKeyNames",(function(){return g})),r.d(n,"geoKeys",(function(){return m}));var i={};r.r(i),r.d(i,"fromWhiteIsZero",(function(){return y})),r.d(i,"fromBlackIsZero",(function(){return b})),r.d(i,"fromPalette",(function(){return w})),r.d(i,"fromCMYK",(function(){return v})),r.d(i,"fromYCbCr",(function(){return _})),r.d(i,"fromCIELab",(function(){return S}));var o=r(37),s=r.n(o);const a={315:"Artist",258:"BitsPerSample",265:"CellLength",264:"CellWidth",320:"ColorMap",259:"Compression",33432:"Copyright",306:"DateTime",338:"ExtraSamples",266:"FillOrder",289:"FreeByteCounts",288:"FreeOffsets",291:"GrayResponseCurve",290:"GrayResponseUnit",316:"HostComputer",270:"ImageDescription",257:"ImageLength",256:"ImageWidth",271:"Make",281:"MaxSampleValue",280:"MinSampleValue",272:"Model",254:"NewSubfileType",274:"Orientation",262:"PhotometricInterpretation",284:"PlanarConfiguration",296:"ResolutionUnit",278:"RowsPerStrip",277:"SamplesPerPixel",305:"Software",279:"StripByteCounts",273:"StripOffsets",255:"SubfileType",263:"Threshholding",282:"XResolution",283:"YResolution",326:"BadFaxLines",327:"CleanFaxData",343:"ClipPath",328:"ConsecutiveBadFaxLines",433:"Decode",434:"DefaultImageColor",269:"DocumentName",336:"DotRange",321:"HalftoneHints",346:"Indexed",347:"JPEGTables",285:"PageName",297:"PageNumber",317:"Predictor",319:"PrimaryChromaticities",532:"ReferenceBlackWhite",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",559:"StripRowCounts",330:"SubIFDs",292:"T4Options",293:"T6Options",325:"TileByteCounts",323:"TileLength",324:"TileOffsets",322:"TileWidth",301:"TransferFunction",318:"WhitePoint",344:"XClipPathUnits",286:"XPosition",529:"YCbCrCoefficients",531:"YCbCrPositioning",530:"YCbCrSubSampling",345:"YClipPathUnits",287:"YPosition",37378:"ApertureValue",40961:"ColorSpace",36868:"DateTimeDigitized",36867:"DateTimeOriginal",34665:"Exif IFD",36864:"ExifVersion",33434:"ExposureTime",41728:"FileSource",37385:"Flash",40960:"FlashpixVersion",33437:"FNumber",42016:"ImageUniqueID",37384:"LightSource",37500:"MakerNote",37377:"ShutterSpeedValue",37510:"UserComment",33723:"IPTC",34675:"ICC Profile",700:"XMP",42112:"GDAL_METADATA",42113:"GDAL_NODATA",34377:"Photoshop",33550:"ModelPixelScale",33922:"ModelTiepoint",34264:"ModelTransformation",34735:"GeoKeyDirectory",34736:"GeoDoubleParams",34737:"GeoAsciiParams"},u={};for(const e in a)a.hasOwnProperty(e)&&(u[a[e]]=parseInt(e,10));const c={256:"SHORT",257:"SHORT",258:"SHORT",259:"SHORT",262:"SHORT",273:"LONG",274:"SHORT",277:"SHORT",278:"LONG",279:"LONG",282:"RATIONAL",283:"RATIONAL",284:"SHORT",286:"SHORT",287:"RATIONAL",296:"SHORT",305:"ASCII",306:"ASCII",338:"SHORT",339:"SHORT",513:"LONG",514:"LONG",1024:"SHORT",1025:"SHORT",2048:"SHORT",2049:"ASCII",33550:"DOUBLE",33922:"DOUBLE",34665:"LONG",34735:"SHORT",34737:"ASCII",42113:"ASCII"},l=[u.BitsPerSample,u.ExtraSamples,u.SampleFormat,u.StripByteCounts,u.StripOffsets,u.StripRowCounts,u.TileByteCounts,u.TileOffsets],f={1:"BYTE",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",6:"SBYTE",7:"UNDEFINED",8:"SSHORT",9:"SLONG",10:"SRATIONAL",11:"FLOAT",12:"DOUBLE",13:"IFD",16:"LONG8",17:"SLONG8",18:"IFD8"},h={};for(const e in f)f.hasOwnProperty(e)&&(h[f[e]]=parseInt(e,10));const d={WhiteIsZero:0,BlackIsZero:1,RGB:2,Palette:3,TransparencyMask:4,CMYK:5,YCbCr:6,CIELab:8,ICCLab:9},p={Unspecified:0,Assocalpha:1,Unassalpha:2},g={1024:"GTModelTypeGeoKey",1025:"GTRasterTypeGeoKey",1026:"GTCitationGeoKey",2048:"GeographicTypeGeoKey",2049:"GeogCitationGeoKey",2050:"GeogGeodeticDatumGeoKey",2051:"GeogPrimeMeridianGeoKey",2052:"GeogLinearUnitsGeoKey",2053:"GeogLinearUnitSizeGeoKey",2054:"GeogAngularUnitsGeoKey",2055:"GeogAngularUnitSizeGeoKey",2056:"GeogEllipsoidGeoKey",2057:"GeogSemiMajorAxisGeoKey",2058:"GeogSemiMinorAxisGeoKey",2059:"GeogInvFlatteningGeoKey",2060:"GeogAzimuthUnitsGeoKey",2061:"GeogPrimeMeridianLongGeoKey",2062:"GeogTOWGS84GeoKey",3072:"ProjectedCSTypeGeoKey",3073:"PCSCitationGeoKey",3074:"ProjectionGeoKey",3075:"ProjCoordTransGeoKey",3076:"ProjLinearUnitsGeoKey",3077:"ProjLinearUnitSizeGeoKey",3078:"ProjStdParallel1GeoKey",3079:"ProjStdParallel2GeoKey",3080:"ProjNatOriginLongGeoKey",3081:"ProjNatOriginLatGeoKey",3082:"ProjFalseEastingGeoKey",3083:"ProjFalseNorthingGeoKey",3084:"ProjFalseOriginLongGeoKey",3085:"ProjFalseOriginLatGeoKey",3086:"ProjFalseOriginEastingGeoKey",3087:"ProjFalseOriginNorthingGeoKey",3088:"ProjCenterLongGeoKey",3089:"ProjCenterLatGeoKey",3090:"ProjCenterEastingGeoKey",3091:"ProjCenterNorthingGeoKey",3092:"ProjScaleAtNatOriginGeoKey",3093:"ProjScaleAtCenterGeoKey",3094:"ProjAzimuthAngleGeoKey",3095:"ProjStraightVertPoleLongGeoKey",3096:"ProjRectifiedGridAngleGeoKey",4096:"VerticalCSTypeGeoKey",4097:"VerticalCitationGeoKey",4098:"VerticalDatumGeoKey",4099:"VerticalUnitsGeoKey"},m={};for(const e in g)g.hasOwnProperty(e)&&(m[g[e]]=parseInt(e,10));function y(e,t){const{width:r,height:n}=e,i=new Uint8Array(r*n*3);let o;for(let r=0,n=0;r<e.length;++r,n+=3)o=256-e[r]/t*256,i[n]=o,i[n+1]=o,i[n+2]=o;return i}function b(e,t){const{width:r,height:n}=e,i=new Uint8Array(r*n*3);let o;for(let r=0,n=0;r<e.length;++r,n+=3)o=e[r]/t*256,i[n]=o,i[n+1]=o,i[n+2]=o;return i}function w(e,t){const{width:r,height:n}=e,i=new Uint8Array(r*n*3),o=t.length/3,s=t.length/3*2;for(let r=0,n=0;r<e.length;++r,n+=3){const a=e[r];i[n]=t[a]/65536*256,i[n+1]=t[a+o]/65536*256,i[n+2]=t[a+s]/65536*256}return i}function v(e){const{width:t,height:r}=e,n=new Uint8Array(t*r*3);for(let t=0,r=0;t<e.length;t+=4,r+=3){const i=e[t],o=e[t+1],s=e[t+2],a=e[t+3];n[r]=(255-i)/256*255*((255-a)/256),n[r+1]=(255-o)/256*255*((255-a)/256),n[r+2]=(255-s)/256*255*((255-a)/256)}return n}function _(e){const{width:t,height:r}=e,n=new Uint8ClampedArray(t*r*3);for(let t=0,r=0;t<e.length;t+=3,r+=3){const i=e[t],o=e[t+1],s=e[t+2];n[r]=i+1.402*(s-128),n[r+1]=i-.34414*(o-128)-.71414*(s-128),n[r+2]=i+1.772*(o-128)}return n}function S(e){const{width:t,height:r}=e,n=new Uint8Array(t*r*3);for(let t=0,r=0;t<e.length;t+=3,r+=3){let i,o,s,a=(e[t+0]+16)/116,u=(e[t+1]<<24>>24)/500+a,c=a-(e[t+2]<<24>>24)/200;u=.95047*(u*u*u>.008856?u*u*u:(u-16/116)/7.787),a=1*(a*a*a>.008856?a*a*a:(a-16/116)/7.787),c=1.08883*(c*c*c>.008856?c*c*c:(c-16/116)/7.787),i=3.2406*u+-1.5372*a+-.4986*c,o=-.9689*u+1.8758*a+.0415*c,s=.0557*u+-.204*a+1.057*c,i=i>.0031308?1.055*i**(1/2.4)-.055:12.92*i,o=o>.0031308?1.055*o**(1/2.4)-.055:12.92*o,s=s>.0031308?1.055*s**(1/2.4)-.055:12.92*s,n[r]=255*Math.max(0,Math.min(1,i)),n[r+1]=255*Math.max(0,Math.min(1,o)),n[r+2]=255*Math.max(0,Math.min(1,s))}return n}function k(e,t){let r=e.length-t,n=0;do{for(let r=t;r>0;r--)e[n+t]+=e[n],n++;r-=t}while(r>0)}function C(e,t,r){let n=0,i=e.length;const o=i/r;for(;i>t;){for(let r=t;r>0;--r)e[n+t]+=e[n],++n;i-=t}const s=e.slice();for(let t=0;t<o;++t)for(let n=0;n<r;++n)e[r*t+n]=s[(r-n-1)*o+t]}class E{decode(e,t){const r=this.decodeBlock(t),n=e.Predictor||1;if(1!==n){const t=!e.StripOffsets;return function(e,t,r,n,i,o){if(!t||1===t)return e;for(let e=0;e<i.length;++e){if(i[e]%8!=0)throw new Error("When decoding with predictor, only multiple of 8 bits are supported.");if(i[e]!==i[0])throw new Error("When decoding with predictor, all samples must have the same size.")}const s=i[0]/8,a=2===o?1:i.length;for(let o=0;o<n&&!(o*a*r*s>=e.byteLength);++o){let n;if(2===t){switch(i[0]){case 8:n=new Uint8Array(e,o*a*r*s,a*r*s);break;case 16:n=new Uint16Array(e,o*a*r*s,a*r*s/2);break;case 32:n=new Uint32Array(e,o*a*r*s,a*r*s/4);break;default:throw new Error(\`Predictor 2 not allowed with \${i[0]} bits per sample.\`)}k(n,a)}else 3===t&&(n=new Uint8Array(e,o*a*r*s,a*r*s),C(n,a,s))}return e}(r,n,t?e.TileWidth:e.ImageWidth,t?e.TileLength:e.RowsPerStrip||e.ImageLength,e.BitsPerSample,e.PlanarConfiguration)}return r}}class T extends E{decodeBlock(e){return e}}function x(e,t){for(let r=t.length-1;r>=0;r--)e.push(t[r]);return e}function A(e){const t=new Uint16Array(4093),r=new Uint8Array(4093);for(let e=0;e<=257;e++)t[e]=4096,r[e]=e;let n=258,i=9,o=0;function s(){n=258,i=9}function a(e){const t=function(e,t,r){const n=t%8,i=Math.floor(t/8),o=8-n,s=t+r-8*(i+1);let a=8*(i+2)-(t+r);const u=8*(i+2)-t;if(a=Math.max(0,a),i>=e.length)return console.warn("ran off the end of the buffer before finding EOI_CODE (end on input code)"),257;let c=e[i]&2**(8-n)-1;c<<=r-o;let l=c;if(i+1<e.length){let t=e[i+1]>>>a;t<<=Math.max(0,r-u),l+=t}if(s>8&&i+2<e.length){const n=8*(i+3)-(t+r);l+=e[i+2]>>>n}return l}(e,o,i);return o+=i,t}function u(e,i){return r[n]=i,t[n]=e,n++,n-1}function c(e){const n=[];for(let i=e;4096!==i;i=t[i])n.push(r[i]);return n}const l=[];s();const f=new Uint8Array(e);let h,d=a(f);for(;257!==d;){if(256===d){for(s(),d=a(f);256===d;)d=a(f);if(257===d)break;if(d>256)throw new Error("corrupted code at scanline "+d);x(l,c(d)),h=d}else if(d<n){const e=c(d);x(l,e),u(h,e[e.length-1]),h=d}else{const e=c(h);if(!e)throw new Error(\`Bogus entry. Not in dictionary, \${h} / \${n}, position: \${o}\`);x(l,e),l.push(e[e.length-1]),u(h,e[e.length-1]),h=d}n+1>=2**i&&(12===i?h=void 0:i++),d=a(f)}return new Uint8Array(l)}class O extends E{decodeBlock(e){return A(e).buffer}}const R=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);function I(e,t){let r=0;const n=[];let i=16;for(;i>0&&!e[i-1];)--i;n.push({children:[],index:0});let o,s=n[0];for(let a=0;a<i;a++){for(let i=0;i<e[a];i++){for(s=n.pop(),s.children[s.index]=t[r];s.index>0;)s=n.pop();for(s.index++,n.push(s);n.length<=a;)n.push(o={children:[],index:0}),s.children[s.index]=o.children,s=o;r++}a+1<i&&(n.push(o={children:[],index:0}),s.children[s.index]=o.children,s=o)}return n[0].children}function P(e,t,r,n,i,o,s,a,u){const{mcusPerLine:c,progressive:l}=r,f=t;let h=t,d=0,p=0;function g(){if(p>0)return p--,d>>p&1;if(d=e[h++],255===d){const t=e[h++];if(t)throw new Error("unexpected marker: "+(d<<8|t).toString(16))}return p=7,d>>>7}function m(e){let t,r=e;for(;null!==(t=g());){if(r=r[t],"number"==typeof r)return r;if("object"!=typeof r)throw new Error("invalid huffman sequence")}return null}function y(e){let t=e,r=0;for(;t>0;){const e=g();if(null===e)return;r=r<<1|e,--t}return r}function b(e){const t=y(e);return t>=1<<e-1?t:t+(-1<<e)+1}let w=0;let v,_=0;function S(e,t,r,n,i){const o=r%c,s=(r/c|0)*e.v+n,a=o*e.h+i;t(e,e.blocks[s][a])}function k(e,t,r){const n=r/e.blocksPerLine|0,i=r%e.blocksPerLine;t(e,e.blocks[n][i])}const C=n.length;let E,T,x,A,O,I;I=l?0===o?0===a?function(e,t){const r=m(e.huffmanTableDC),n=0===r?0:b(r)<<u;e.pred+=n,t[0]=e.pred}:function(e,t){t[0]|=g()<<u}:0===a?function(e,t){if(w>0)return void w--;let r=o;const n=s;for(;r<=n;){const n=m(e.huffmanTableAC),i=15&n,o=n>>4;if(0===i){if(o<15){w=y(o)+(1<<o)-1;break}r+=16}else{r+=o;t[R[r]]=b(i)*(1<<u),r++}}}:function(e,t){let r=o;const n=s;let i=0;for(;r<=n;){const n=R[r],o=t[n]<0?-1:1;switch(_){case 0:{const t=m(e.huffmanTableAC),r=15&t;if(i=t>>4,0===r)i<15?(w=y(i)+(1<<i),_=4):(i=16,_=1);else{if(1!==r)throw new Error("invalid ACn encoding");v=b(r),_=i?2:3}continue}case 1:case 2:t[n]?t[n]+=(g()<<u)*o:(i--,0===i&&(_=2===_?3:0));break;case 3:t[n]?t[n]+=(g()<<u)*o:(t[n]=v<<u,_=0);break;case 4:t[n]&&(t[n]+=(g()<<u)*o)}r++}4===_&&(w--,0===w&&(_=0))}:function(e,t){const r=m(e.huffmanTableDC),n=0===r?0:b(r);e.pred+=n,t[0]=e.pred;let i=1;for(;i<64;){const r=m(e.huffmanTableAC),n=15&r,o=r>>4;if(0===n){if(o<15)break;i+=16}else{i+=o;t[R[i]]=b(n),i++}}};let P,M,D=0;M=1===C?n[0].blocksPerLine*n[0].blocksPerColumn:c*r.mcusPerColumn;const L=i||M;for(;D<M;){for(T=0;T<C;T++)n[T].pred=0;if(w=0,1===C)for(E=n[0],O=0;O<L;O++)k(E,I,D),D++;else for(O=0;O<L;O++){for(T=0;T<C;T++){E=n[T];const{h:e,v:t}=E;for(x=0;x<t;x++)for(A=0;A<e;A++)S(E,I,D,x,A)}if(D++,D===M)break}if(p=0,P=e[h]<<8|e[h+1],P<65280)throw new Error("marker was not found");if(!(P>=65488&&P<=65495))break;h+=2}return h-f}function M(e,t){const r=[],{blocksPerLine:n,blocksPerColumn:i}=t,o=n<<3,s=new Int32Array(64),a=new Uint8Array(64);function u(e,r,n){const i=t.quantizationTable;let o,s,a,u,c,l,f,h,d;const p=n;let g;for(g=0;g<64;g++)p[g]=e[g]*i[g];for(g=0;g<8;++g){const e=8*g;0!==p[1+e]||0!==p[2+e]||0!==p[3+e]||0!==p[4+e]||0!==p[5+e]||0!==p[6+e]||0!==p[7+e]?(o=5793*p[0+e]+128>>8,s=5793*p[4+e]+128>>8,a=p[2+e],u=p[6+e],c=2896*(p[1+e]-p[7+e])+128>>8,h=2896*(p[1+e]+p[7+e])+128>>8,l=p[3+e]<<4,f=p[5+e]<<4,d=o-s+1>>1,o=o+s+1>>1,s=d,d=3784*a+1567*u+128>>8,a=1567*a-3784*u+128>>8,u=d,d=c-f+1>>1,c=c+f+1>>1,f=d,d=h+l+1>>1,l=h-l+1>>1,h=d,d=o-u+1>>1,o=o+u+1>>1,u=d,d=s-a+1>>1,s=s+a+1>>1,a=d,d=2276*c+3406*h+2048>>12,c=3406*c-2276*h+2048>>12,h=d,d=799*l+4017*f+2048>>12,l=4017*l-799*f+2048>>12,f=d,p[0+e]=o+h,p[7+e]=o-h,p[1+e]=s+f,p[6+e]=s-f,p[2+e]=a+l,p[5+e]=a-l,p[3+e]=u+c,p[4+e]=u-c):(d=5793*p[0+e]+512>>10,p[0+e]=d,p[1+e]=d,p[2+e]=d,p[3+e]=d,p[4+e]=d,p[5+e]=d,p[6+e]=d,p[7+e]=d)}for(g=0;g<8;++g){const e=g;0!==p[8+e]||0!==p[16+e]||0!==p[24+e]||0!==p[32+e]||0!==p[40+e]||0!==p[48+e]||0!==p[56+e]?(o=5793*p[0+e]+2048>>12,s=5793*p[32+e]+2048>>12,a=p[16+e],u=p[48+e],c=2896*(p[8+e]-p[56+e])+2048>>12,h=2896*(p[8+e]+p[56+e])+2048>>12,l=p[24+e],f=p[40+e],d=o-s+1>>1,o=o+s+1>>1,s=d,d=3784*a+1567*u+2048>>12,a=1567*a-3784*u+2048>>12,u=d,d=c-f+1>>1,c=c+f+1>>1,f=d,d=h+l+1>>1,l=h-l+1>>1,h=d,d=o-u+1>>1,o=o+u+1>>1,u=d,d=s-a+1>>1,s=s+a+1>>1,a=d,d=2276*c+3406*h+2048>>12,c=3406*c-2276*h+2048>>12,h=d,d=799*l+4017*f+2048>>12,l=4017*l-799*f+2048>>12,f=d,p[0+e]=o+h,p[56+e]=o-h,p[8+e]=s+f,p[48+e]=s-f,p[16+e]=a+l,p[40+e]=a-l,p[24+e]=u+c,p[32+e]=u-c):(d=5793*n[g+0]+8192>>14,p[0+e]=d,p[8+e]=d,p[16+e]=d,p[24+e]=d,p[32+e]=d,p[40+e]=d,p[48+e]=d,p[56+e]=d)}for(g=0;g<64;++g){const e=128+(p[g]+8>>4);r[g]=e<0?0:e>255?255:e}}for(let e=0;e<i;e++){const i=e<<3;for(let e=0;e<8;e++)r.push(new Uint8Array(o));for(let o=0;o<n;o++){u(t.blocks[e][o],a,s);let n=0;const c=o<<3;for(let e=0;e<8;e++){const t=r[i+e];for(let e=0;e<8;e++)t[c+e]=a[n++]}}}return r}class D{constructor(){this.jfif=null,this.adobe=null,this.quantizationTables=[],this.huffmanTablesAC=[],this.huffmanTablesDC=[],this.resetFrames()}resetFrames(){this.frames=[]}parse(e){let t=0;function r(){const r=e[t]<<8|e[t+1];return t+=2,r}function n(){const n=r(),i=e.subarray(t,t+n-2);return t+=i.length,i}function i(e){let t,r,n=0,i=0;for(r in e.components)e.components.hasOwnProperty(r)&&(t=e.components[r],n<t.h&&(n=t.h),i<t.v&&(i=t.v));const o=Math.ceil(e.samplesPerLine/8/n),s=Math.ceil(e.scanLines/8/i);for(r in e.components)if(e.components.hasOwnProperty(r)){t=e.components[r];const a=Math.ceil(Math.ceil(e.samplesPerLine/8)*t.h/n),u=Math.ceil(Math.ceil(e.scanLines/8)*t.v/i),c=o*t.h,l=s*t.v,f=[];for(let e=0;e<l;e++){const e=[];for(let t=0;t<c;t++)e.push(new Int32Array(64));f.push(e)}t.blocksPerLine=a,t.blocksPerColumn=u,t.blocks=f}e.maxH=n,e.maxV=i,e.mcusPerLine=o,e.mcusPerColumn=s}let o=r();if(65496!==o)throw new Error("SOI not found");for(o=r();65497!==o;){switch(o){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:{const e=n();65504===o&&74===e[0]&&70===e[1]&&73===e[2]&&70===e[3]&&0===e[4]&&(this.jfif={version:{major:e[5],minor:e[6]},densityUnits:e[7],xDensity:e[8]<<8|e[9],yDensity:e[10]<<8|e[11],thumbWidth:e[12],thumbHeight:e[13],thumbData:e.subarray(14,14+3*e[12]*e[13])}),65518===o&&65===e[0]&&100===e[1]&&111===e[2]&&98===e[3]&&101===e[4]&&0===e[5]&&(this.adobe={version:e[6],flags0:e[7]<<8|e[8],flags1:e[9]<<8|e[10],transformCode:e[11]});break}case 65499:{const n=r()+t-2;for(;t<n;){const n=e[t++],i=new Int32Array(64);if(n>>4==0)for(let r=0;r<64;r++){i[R[r]]=e[t++]}else{if(n>>4!=1)throw new Error("DQT: invalid table spec");for(let e=0;e<64;e++){i[R[e]]=r()}}this.quantizationTables[15&n]=i}break}case 65472:case 65473:case 65474:{r();const n={extended:65473===o,progressive:65474===o,precision:e[t++],scanLines:r(),samplesPerLine:r(),components:{},componentsOrder:[]},s=e[t++];let a;for(let r=0;r<s;r++){a=e[t];const r=e[t+1]>>4,i=15&e[t+1],o=e[t+2];n.componentsOrder.push(a),n.components[a]={h:r,v:i,quantizationIdx:o},t+=3}i(n),this.frames.push(n);break}case 65476:{const n=r();for(let r=2;r<n;){const n=e[t++],i=new Uint8Array(16);let o=0;for(let r=0;r<16;r++,t++)i[r]=e[t],o+=i[r];const s=new Uint8Array(o);for(let r=0;r<o;r++,t++)s[r]=e[t];r+=17+o,n>>4==0?this.huffmanTablesDC[15&n]=I(i,s):this.huffmanTablesAC[15&n]=I(i,s)}break}case 65501:r(),this.resetInterval=r();break;case 65498:{r();const n=e[t++],i=[],o=this.frames[0];for(let r=0;r<n;r++){const r=o.components[e[t++]],n=e[t++];r.huffmanTableDC=this.huffmanTablesDC[n>>4],r.huffmanTableAC=this.huffmanTablesAC[15&n],i.push(r)}const s=e[t++],a=e[t++],u=e[t++],c=P(e,t,o,i,this.resetInterval,s,a,u>>4,15&u);t+=c;break}case 65535:255!==e[t]&&t--;break;default:if(255===e[t-3]&&e[t-2]>=192&&e[t-2]<=254){t-=3;break}throw new Error("unknown JPEG marker "+o.toString(16))}o=r()}}getResult(){const{frames:e}=this;if(0===this.frames.length)throw new Error("no frames were decoded");this.frames.length>1&&console.warn("more than one frame is not supported");for(let e=0;e<this.frames.length;e++){const t=this.frames[e].components;for(const e of Object.keys(t))t[e].quantizationTable=this.quantizationTables[t[e].quantizationIdx],delete t[e].quantizationIdx}const t=e[0],{components:r,componentsOrder:n}=t,i=[],o=t.samplesPerLine,s=t.scanLines;for(let e=0;e<n.length;e++){const o=r[n[e]];i.push({lines:M(0,o),scaleX:o.h/t.maxH,scaleY:o.v/t.maxV})}const a=new Uint8Array(o*s*i.length);let u=0;for(let e=0;e<s;++e)for(let t=0;t<o;++t)for(let r=0;r<i.length;++r){const n=i[r];a[u]=n.lines[0|e*n.scaleY][0|t*n.scaleX],++u}return a}}class L extends E{constructor(e){super(),this.reader=new D,e.JPEGTables&&this.reader.parse(e.JPEGTables)}decodeBlock(e){return this.reader.resetFrames(),this.reader.parse(new Uint8Array(e)),this.reader.getResult().buffer}}var U=r(38);class F extends E{decodeBlock(e){return Object(U.inflate)(new Uint8Array(e)).buffer}}class j extends E{decodeBlock(e){const t=new DataView(e),r=[];for(let n=0;n<e.byteLength;++n){let e=t.getInt8(n);if(e<0){const i=t.getUint8(n+1);e=-e;for(let t=0;t<=e;++t)r.push(i);n+=1}else{for(let i=0;i<=e;++i)r.push(t.getUint8(n+i+1));n+=e+1}}return new Uint8Array(r).buffer}}function B(e){switch(e.Compression){case void 0:case 1:return new T;case 5:return new O;case 6:throw new Error("old style JPEG compression is not supported.");case 7:return new L(e);case 8:case 32946:return new F;case 32773:return new j;default:throw new Error("Unknown compression method identifier: "+e.Compression)}}function N(e,t,r,n=1){return new(Object.getPrototypeOf(e).constructor)(t*r*n)}function G(e,t,r){return(1-r)*e+r*t}function q(e,t,r,n,i,o="nearest"){switch(o.toLowerCase()){case"nearest":return function(e,t,r,n,i){const o=t/n,s=r/i;return e.map(e=>{const a=N(e,n,i);for(let u=0;u<i;++u){const i=Math.min(Math.round(s*u),r-1);for(let r=0;r<n;++r){const s=Math.min(Math.round(o*r),t-1),c=e[i*t+s];a[u*n+r]=c}}return a})}(e,t,r,n,i);case"bilinear":case"linear":return function(e,t,r,n,i){const o=t/n,s=r/i;return e.map(e=>{const a=N(e,n,i);for(let u=0;u<i;++u){const i=s*u,c=Math.floor(i),l=Math.min(Math.ceil(i),r-1);for(let r=0;r<n;++r){const s=o*r,f=s%1,h=Math.floor(s),d=Math.min(Math.ceil(s),t-1),p=e[c*t+h],g=e[c*t+d],m=e[l*t+h],y=e[l*t+d],b=G(G(p,g,f),G(m,y,f),i%1);a[u*n+r]=b}}return a})}(e,t,r,n,i);default:throw new Error(\`Unsupported resampling method: '\${o}'\`)}}function H(e,t,r,n,i,o,s="nearest"){switch(s.toLowerCase()){case"nearest":return function(e,t,r,n,i,o){const s=t/n,a=r/i,u=N(e,n,i,o);for(let c=0;c<i;++c){const i=Math.min(Math.round(a*c),r-1);for(let r=0;r<n;++r){const a=Math.min(Math.round(s*r),t-1);for(let s=0;s<o;++s){const l=e[i*t*o+a*o+s];u[c*n*o+r*o+s]=l}}}return u}(e,t,r,n,i,o);case"bilinear":case"linear":return function(e,t,r,n,i,o){const s=t/n,a=r/i,u=N(e,n,i,o);for(let c=0;c<i;++c){const i=a*c,l=Math.floor(i),f=Math.min(Math.ceil(i),r-1);for(let r=0;r<n;++r){const a=s*r,h=a%1,d=Math.floor(a),p=Math.min(Math.ceil(a),t-1);for(let s=0;s<o;++s){const a=e[l*t*o+d*o+s],g=e[l*t*o+p*o+s],m=e[f*t*o+d*o+s],y=e[f*t*o+p*o+s],b=G(G(a,g,h),G(m,y,h),i%1);u[c*n*o+r*o+s]=b}}}return u}(e,t,r,n,i,o);default:throw new Error(\`Unsupported resampling method: '\${s}'\`)}}function z(e,t,r){let n=0;for(let i=t;i<r;++i)n+=e[i];return n}function K(e,t,r){switch(e){case 1:switch(t){case 8:return new Uint8Array(r);case 16:return new Uint16Array(r);case 32:return new Uint32Array(r)}break;case 2:switch(t){case 8:return new Int8Array(r);case 16:return new Int16Array(r);case 32:return new Int32Array(r)}break;case 3:switch(t){case 32:return new Float32Array(r);case 64:return new Float64Array(r)}}throw Error("Unsupported data format/bitsPerSample")}var W=class{constructor(e,t,r,n,i,o){this.fileDirectory=e,this.geoKeys=t,this.dataView=r,this.littleEndian=n,this.tiles=i?{}:null,this.isTiled=!e.StripOffsets;const s=e.PlanarConfiguration;if(this.planarConfiguration=void 0===s?1:s,1!==this.planarConfiguration&&2!==this.planarConfiguration)throw new Error("Invalid planar configuration.");this.source=o}getFileDirectory(){return this.fileDirectory}getGeoKeys(){return this.geoKeys}getWidth(){return this.fileDirectory.ImageWidth}getHeight(){return this.fileDirectory.ImageLength}getSamplesPerPixel(){return this.fileDirectory.SamplesPerPixel}getTileWidth(){return this.isTiled?this.fileDirectory.TileWidth:this.getWidth()}getTileHeight(){return this.isTiled?this.fileDirectory.TileLength:void 0!==this.fileDirectory.RowsPerStrip?Math.min(this.fileDirectory.RowsPerStrip,this.getHeight()):this.getHeight()}getBytesPerPixel(){let e=0;for(let t=0;t<this.fileDirectory.BitsPerSample.length;++t){const r=this.fileDirectory.BitsPerSample[t];if(r%8!=0)throw new Error(\`Sample bit-width of \${r} is not supported.\`);if(r!==this.fileDirectory.BitsPerSample[0])throw new Error("Differing size of samples in a pixel are not supported.");e+=r}return e/8}getSampleByteSize(e){if(e>=this.fileDirectory.BitsPerSample.length)throw new RangeError(\`Sample index \${e} is out of range.\`);const t=this.fileDirectory.BitsPerSample[e];if(t%8!=0)throw new Error(\`Sample bit-width of \${t} is not supported.\`);return t/8}getReaderForSample(e){const t=this.fileDirectory.SampleFormat?this.fileDirectory.SampleFormat[e]:1,r=this.fileDirectory.BitsPerSample[e];switch(t){case 1:switch(r){case 8:return DataView.prototype.getUint8;case 16:return DataView.prototype.getUint16;case 32:return DataView.prototype.getUint32}break;case 2:switch(r){case 8:return DataView.prototype.getInt8;case 16:return DataView.prototype.getInt16;case 32:return DataView.prototype.getInt32}break;case 3:switch(r){case 32:return DataView.prototype.getFloat32;case 64:return DataView.prototype.getFloat64}}throw Error("Unsupported data format/bitsPerSample")}getArrayForSample(e,t){return K(this.fileDirectory.SampleFormat?this.fileDirectory.SampleFormat[e]:1,this.fileDirectory.BitsPerSample[e],t)}async getTileOrStrip(e,t,r,n){const i=Math.ceil(this.getWidth()/this.getTileWidth()),o=Math.ceil(this.getHeight()/this.getTileHeight());let s;const{tiles:a}=this;let u,c;1===this.planarConfiguration?s=t*i+e:2===this.planarConfiguration&&(s=r*i*o+t*i+e),this.isTiled?(u=this.fileDirectory.TileOffsets[s],c=this.fileDirectory.TileByteCounts[s]):(u=this.fileDirectory.StripOffsets[s],c=this.fileDirectory.StripByteCounts[s]);const l=await this.source.fetch(u,c);let f;return null===a?f=n.decode(this.fileDirectory,l):a[s]||(f=n.decode(this.fileDirectory,l),a[s]=f),{x:e,y:t,sample:r,data:await f}}async _readRaster(e,t,r,n,i,o,s,a){const u=this.getTileWidth(),c=this.getTileHeight(),l=Math.max(Math.floor(e[0]/u),0),f=Math.min(Math.ceil(e[2]/u),Math.ceil(this.getWidth()/this.getTileWidth())),h=Math.max(Math.floor(e[1]/c),0),d=Math.min(Math.ceil(e[3]/c),Math.ceil(this.getHeight()/this.getTileHeight())),p=e[2]-e[0];let g=this.getBytesPerPixel();const m=[],y=[];for(let e=0;e<t.length;++e)1===this.planarConfiguration?m.push(z(this.fileDirectory.BitsPerSample,0,t[e])/8):m.push(0),y.push(this.getReaderForSample(t[e]));const b=[],{littleEndian:w}=this;for(let o=h;o<d;++o)for(let s=l;s<f;++s)for(let a=0;a<t.length;++a){const l=a,f=t[a];2===this.planarConfiguration&&(g=this.getSampleByteSize(f));const h=this.getTileOrStrip(s,o,f,i);b.push(h),h.then(i=>{const o=i.data,s=new DataView(o),a=i.y*c,f=i.x*u,h=(i.y+1)*c,d=(i.x+1)*u,b=y[l],v=Math.min(c,c-(h-e[3])),_=Math.min(u,u-(d-e[2]));for(let i=Math.max(0,e[1]-a);i<v;++i)for(let o=Math.max(0,e[0]-f);o<_;++o){const c=(i*u+o)*g,h=b.call(s,c+m[l],w);let d;n?(d=(i+a-e[1])*p*t.length+(o+f-e[0])*t.length+l,r[d]=h):(d=(i+a-e[1])*p+o+f-e[0],r[l][d]=h)}})}if(await Promise.all(b),o&&e[2]-e[0]!==o||s&&e[3]-e[1]!==s){let i;return i=n?H(r,e[2]-e[0],e[3]-e[1],o,s,t.length,a):q(r,e[2]-e[0],e[3]-e[1],o,s,a),i.width=o,i.height=s,i}return r.width=o||e[2]-e[0],r.height=s||e[3]-e[1],r}async readRasters({window:e,samples:t=[],interleave:r,pool:n=null,width:i,height:o,resampleMethod:s,fillValue:a}={}){const u=e||[0,0,this.getWidth(),this.getHeight()];if(u[0]>u[2]||u[1]>u[3])throw new Error("Invalid subsets");const c=(u[2]-u[0])*(u[3]-u[1]);if(t&&t.length){for(let e=0;e<t.length;++e)if(t[e]>=this.fileDirectory.SamplesPerPixel)return Promise.reject(new RangeError(\`Invalid sample index '\${t[e]}'.\`))}else for(let e=0;e<this.fileDirectory.SamplesPerPixel;++e)t.push(e);let l;if(r){l=K(this.fileDirectory.SampleFormat?Math.max.apply(null,this.fileDirectory.SampleFormat):1,Math.max.apply(null,this.fileDirectory.BitsPerSample),c*t.length),a&&l.fill(a)}else{l=[];for(let e=0;e<t.length;++e){const r=this.getArrayForSample(t[e],c);Array.isArray(a)&&e<a.length?r.fill(a[e]):a&&!Array.isArray(a)&&r.fill(a),l.push(r)}}const f=n||B(this.fileDirectory);return await this._readRaster(u,t,l,r,f,i,o,s)}async readRGB({window:e,pool:t=null,width:r,height:n,resampleMethod:i,enableAlpha:o=!1}={}){const s=e||[0,0,this.getWidth(),this.getHeight()];if(s[0]>s[2]||s[1]>s[3])throw new Error("Invalid subsets");const a=this.fileDirectory.PhotometricInterpretation;if(a===d.RGB){let i=[0,1,2];if(this.fileDirectory.ExtraSamples!==p.Unspecified&&o){i=[];for(let e=0;e<this.fileDirectory.BitsPerSample.length;e+=1)i.push(e)}return this.readRasters({window:e,interleave:!0,samples:i,pool:t,width:r,height:n})}let u;switch(a){case d.WhiteIsZero:case d.BlackIsZero:case d.Palette:u=[0];break;case d.CMYK:u=[0,1,2,3];break;case d.YCbCr:case d.CIELab:u=[0,1,2];break;default:throw new Error("Invalid or unsupported photometric interpretation.")}const c={window:s,interleave:!0,samples:u,pool:t,width:r,height:n,resampleMethod:i},{fileDirectory:l}=this,f=await this.readRasters(c),h=2**this.fileDirectory.BitsPerSample[0];let g;switch(a){case d.WhiteIsZero:g=y(f,h);break;case d.BlackIsZero:g=b(f,h);break;case d.Palette:g=w(f,l.ColorMap);break;case d.CMYK:g=v(f);break;case d.YCbCr:g=_(f);break;case d.CIELab:g=S(f);break;default:throw new Error("Unsupported photometric interpretation.")}return g.width=f.width,g.height=f.height,g}getTiePoints(){if(!this.fileDirectory.ModelTiepoint)return[];const e=[];for(let t=0;t<this.fileDirectory.ModelTiepoint.length;t+=6)e.push({i:this.fileDirectory.ModelTiepoint[t],j:this.fileDirectory.ModelTiepoint[t+1],k:this.fileDirectory.ModelTiepoint[t+2],x:this.fileDirectory.ModelTiepoint[t+3],y:this.fileDirectory.ModelTiepoint[t+4],z:this.fileDirectory.ModelTiepoint[t+5]});return e}getGDALMetadata(e=null){const t={};if(!this.fileDirectory.GDAL_METADATA)return null;const r=this.fileDirectory.GDAL_METADATA,n=s()(r.substring(0,r.length-1));if(!n[0].tagName)throw new Error("Failed to parse GDAL metadata XML.");const i=n[0];if("GDALMetadata"!==i.tagName)throw new Error("Unexpected GDAL metadata XML tag.");let o=i.children.filter(e=>"Item"===e.tagName);e&&(o=o.filter(t=>Number(t.attributes.sample)===e));for(let e=0;e<o.length;++e){const r=o[e];t[r.attributes.name]=r.children[0]}return t}getGDALNoData(){if(!this.fileDirectory.GDAL_NODATA)return null;const e=this.fileDirectory.GDAL_NODATA;return Number(e.substring(0,e.length-1))}getOrigin(){const e=this.fileDirectory.ModelTiepoint,t=this.fileDirectory.ModelTransformation;if(e&&6===e.length)return[e[3],e[4],e[5]];if(t)return[t[3],t[7],t[11]];throw new Error("The image does not have an affine transformation.")}getResolution(e=null){const t=this.fileDirectory.ModelPixelScale,r=this.fileDirectory.ModelTransformation;if(t)return[t[0],-t[1],t[2]];if(r)return[r[0],r[5],r[10]];if(e){const[t,r,n]=e.getResolution();return[t*e.getWidth()/this.getWidth(),r*e.getHeight()/this.getHeight(),n*e.getWidth()/this.getWidth()]}throw new Error("The image does not have an affine transformation.")}pixelIsArea(){return 1===this.geoKeys.GTRasterTypeGeoKey}getBoundingBox(){const e=this.getOrigin(),t=this.getResolution(),r=e[0],n=e[1],i=r+t[0]*this.getWidth(),o=n+t[1]*this.getHeight();return[Math.min(r,i),Math.min(n,o),Math.max(r,i),Math.max(n,o)]}};class V{constructor(e){this._dataView=new DataView(e)}get buffer(){return this._dataView.buffer}getUint64(e,t){const r=this.getUint32(e,t),n=this.getUint32(e+4,t);let i;if(t){if(i=r+2**32*n,!Number.isSafeInteger(i))throw new Error(i+" exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues");return i}if(i=2**32*r+n,!Number.isSafeInteger(i))throw new Error(i+" exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues");return i}getInt64(e,t){let r=0;const n=(128&this._dataView.getUint8(e+(t?7:0)))>0;let i=!0;for(let o=0;o<8;o++){let s=this._dataView.getUint8(e+(t?o:7-o));n&&(i?0!==s&&(s=255&~(s-1),i=!1):s=255&~s),r+=s*256**o}return n&&(r=-r),r}getUint8(e,t){return this._dataView.getUint8(e,t)}getInt8(e,t){return this._dataView.getInt8(e,t)}getUint16(e,t){return this._dataView.getUint16(e,t)}getInt16(e,t){return this._dataView.getInt16(e,t)}getUint32(e,t){return this._dataView.getUint32(e,t)}getInt32(e,t){return this._dataView.getInt32(e,t)}getFloat32(e,t){return this._dataView.getFloat32(e,t)}getFloat64(e,t){return this._dataView.getFloat64(e,t)}}class Y{constructor(e,t,r,n){this._dataView=new DataView(e),this._sliceOffset=t,this._littleEndian=r,this._bigTiff=n}get sliceOffset(){return this._sliceOffset}get sliceTop(){return this._sliceOffset+this.buffer.byteLength}get littleEndian(){return this._littleEndian}get bigTiff(){return this._bigTiff}get buffer(){return this._dataView.buffer}covers(e,t){return this.sliceOffset<=e&&this.sliceTop>=e+t}readUint8(e){return this._dataView.getUint8(e-this._sliceOffset,this._littleEndian)}readInt8(e){return this._dataView.getInt8(e-this._sliceOffset,this._littleEndian)}readUint16(e){return this._dataView.getUint16(e-this._sliceOffset,this._littleEndian)}readInt16(e){return this._dataView.getInt16(e-this._sliceOffset,this._littleEndian)}readUint32(e){return this._dataView.getUint32(e-this._sliceOffset,this._littleEndian)}readInt32(e){return this._dataView.getInt32(e-this._sliceOffset,this._littleEndian)}readFloat32(e){return this._dataView.getFloat32(e-this._sliceOffset,this._littleEndian)}readFloat64(e){return this._dataView.getFloat64(e-this._sliceOffset,this._littleEndian)}readUint64(e){const t=this.readUint32(e),r=this.readUint32(e+4);let n;if(this._littleEndian){if(n=t+2**32*r,!Number.isSafeInteger(n))throw new Error(n+" exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues");return n}if(n=2**32*t+r,!Number.isSafeInteger(n))throw new Error(n+" exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues");return n}readInt64(e){let t=0;const r=(128&this._dataView.getUint8(e+(this._littleEndian?7:0)))>0;let n=!0;for(let i=0;i<8;i++){let o=this._dataView.getUint8(e+(this._littleEndian?i:7-i));r&&(n?0!==o&&(o=255&~(o-1),n=!1):o=255&~o),t+=o*256**i}return r&&(t=-t),t}readOffset(e){return this._bigTiff?this.readUint64(e):this.readUint32(e)}}var Z=r(33),$=r(3),X=r(12),Q=r(18),J=r.n(Q),ee=r(42),te=r.n(ee),re=r(17),ne=r.n(re);class ie{constructor(e,{blockSize:t=65536}={}){this.retrievalFunction=e,this.blockSize=t,this.blockRequests=new Map,this.blocks=new Map,this.blockIdsAwaitingRequest=null}async fetch(e,t,r=!1){const n=e+t,i=[],o=[],s=[];for(let t=Math.floor(e/this.blockSize)*this.blockSize;t<n;t+=this.blockSize){const e=Math.floor(t/this.blockSize);this.blocks.has(e)||this.blockRequests.has(e)||o.push(e),this.blockRequests.has(e)&&s.push(this.blockRequests.get(e)),i.push(e)}if(this.blockIdsAwaitingRequest)for(let e=0;e<o.length;++e){const t=o[e];this.blockIdsAwaitingRequest.add(t)}else this.blockIdsAwaitingRequest=new Set(o);if(r||await async function(e){return new Promise(t=>setTimeout(t,e))}(),this.blockIdsAwaitingRequest){const e=function(e){if(0===e.length)return[];const t=[];let r=[];t.push(r);for(let n=0;n<e.length;++n)0===n||e[n]===e[n-1]+1?r.push(e[n]):(r=[e[n]],t.push(r));return t}(Array.from(this.blockIdsAwaitingRequest).sort());for(const t of e){const e=this.requestData(t[0]*this.blockSize,t.length*this.blockSize);for(let r=0;r<t.length;++r){const n=t[r];this.blockRequests.set(n,(async()=>{const t=await e,i=r*this.blockSize,o=Math.min(i+this.blockSize,t.data.byteLength),s=t.data.slice(i,o);this.blockRequests.delete(n),this.blocks.set(n,{data:s,offset:t.offset+i,length:s.byteLength,top:t.offset+o})})())}}this.blockIdsAwaitingRequest=null}const a=[];for(const e of o)this.blockRequests.has(e)&&a.push(this.blockRequests.get(e));await Promise.all(a),await Promise.all(s);return function(e,t,r){const n=t+r,i=new ArrayBuffer(r),o=new Uint8Array(i);for(const r of e){const e=r.offset-t,i=r.top-n;let s,a=0,u=0;e<0?a=-e:e>0&&(u=e),s=i<0?r.length-a:n-r.offset-a;const c=new Uint8Array(r.data,a,s);o.set(c,u)}return i}(i.map(e=>this.blocks.get(e)),e,t)}async requestData(e,t){const r=await this.retrievalFunction(e,t);return r.length?r.length!==r.data.byteLength&&(r.data=r.data.slice(0,r.length)):r.length=r.data.byteLength,r.top=r.offset+r.length,r}}function oe(e,t){const{forceXHR:r}=t;if("function"==typeof fetch&&!r)return function(e,{headers:t={},blockSize:r}={}){return new ie(async(r,n)=>{const i=await fetch(e,{headers:{...t,Range:\`bytes=\${r}-\${r+n-1}\`}});if(i.ok){if(206===i.status){return{data:i.arrayBuffer?await i.arrayBuffer():(await i.buffer()).buffer,offset:r,length:n}}{const e=i.arrayBuffer?await i.arrayBuffer():(await i.buffer()).buffer;return{data:e,offset:0,length:e.byteLength}}}throw new Error("Error fetching data.")},{blockSize:r})}(e,t);if("undefined"!=typeof XMLHttpRequest)return function(e,{headers:t={},blockSize:r}={}){return new ie(async(r,n)=>new Promise((i,o)=>{const s=new XMLHttpRequest;s.open("GET",e),s.responseType="arraybuffer";const a={...t,Range:\`bytes=\${r}-\${r+n-1}\`};for(const[e,t]of Object.entries(a))s.setRequestHeader(e,t);s.onload=()=>{const e=s.response;206===s.status?i({data:e,offset:r,length:n}):i({data:e,offset:0,length:e.byteLength})},s.onerror=o,s.send()}),{blockSize:r})}(e,t);if(J.a.get)return function(e,{headers:t={},blockSize:r}={}){return new ie(async(r,n)=>new Promise((i,o)=>{const s=ne.a.parse(e);("http:"===s.protocol?J.a:te.a).get({...s,headers:{...t,Range:\`bytes=\${r}-\${r+n-1}\`}},e=>{const t=[];e.on("data",e=>{t.push(e)}),e.on("end",()=>{const e=$.Buffer.concat(t).buffer;i({data:e,offset:r,length:e.byteLength})})}).on("error",o)}),{blockSize:r})}(e,t);throw new Error("No remote source available")}function se(e){const t=function(e,t,r){return new Promise((n,i)=>{Object(X.open)(e,t,r,(e,t)=>{e?i(e):n(t)})})}(e,"r");return{async fetch(e,r){const n=await t,{buffer:i}=await function(...e){return new Promise((t,r)=>{Object(X.read)(...e,(e,n,i)=>{e?r(e):t({bytesRead:n,buffer:i})})})}(n,$.Buffer.alloc(r),0,r,e);return i.buffer},async close(){const e=await t;return await function(e){return new Promise((t,r)=>{Object(X.close)(e,e=>{e?r(e):t()})})}(e)}}}function ae(e,t){for(const r in t)t.hasOwnProperty(r)&&(e[r]=t[r])}function ue(e,t){if(e.length<t.length)return!1;return e.substr(e.length-t.length)===t}function ce(e){const t={};for(const r in e)if(e.hasOwnProperty(r)){t[e[r]]=r}return t}function le(e,t){const r=[];for(let n=0;n<e;n++)r.push(t(n));return r}const fe=ce(a),he=ce(g),de={};ae(de,fe),ae(de,he);const pe=ce(f),ge={nextZero:(e,t)=>{let r=t;for(;0!==e[r];)r++;return r},readUshort:(e,t)=>e[t]<<8|e[t+1],readShort:(e,t)=>{const r=ge.ui8;return r[0]=e[t+1],r[1]=e[t+0],ge.i16[0]},readInt:(e,t)=>{const r=ge.ui8;return r[0]=e[t+3],r[1]=e[t+2],r[2]=e[t+1],r[3]=e[t+0],ge.i32[0]},readUint:(e,t)=>{const r=ge.ui8;return r[0]=e[t+3],r[1]=e[t+2],r[2]=e[t+1],r[3]=e[t+0],ge.ui32[0]},readASCII:(e,t,r)=>r.map(r=>String.fromCharCode(e[t+r])).join(""),readFloat:(e,t)=>{const r=ge.ui8;return le(4,n=>{r[n]=e[t+3-n]}),ge.fl32[0]},readDouble:(e,t)=>{const r=ge.ui8;return le(8,n=>{r[n]=e[t+7-n]}),ge.fl64[0]},writeUshort:(e,t,r)=>{e[t]=r>>8&255,e[t+1]=255&r},writeUint:(e,t,r)=>{e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=r>>0&255},writeASCII:(e,t,r)=>{le(r.length,n=>{e[t+n]=r.charCodeAt(n)})},ui8:new Uint8Array(8)};ge.fl64=new Float64Array(ge.ui8.buffer),ge.writeDouble=(e,t,r)=>{ge.fl64[0]=r,le(8,r=>{e[t+r]=ge.ui8[7-r]})};const me=e=>{const t=new Uint8Array(1e3);let r=4;const n=ge;t[0]=77,t[1]=77,t[3]=42;let i=8;if(n.writeUint(t,r,i),r+=4,e.forEach((r,o)=>{const s=((e,t,r,n)=>{let i=r;const o=Object.keys(n).filter(e=>null!=e&&"undefined"!==e);e.writeUshort(t,i,o.length),i+=2;let s=i+12*o.length+4;for(const r of o){let o=null;"number"==typeof r?o=r:"string"==typeof r&&(o=parseInt(r,10));const a=c[o],u=pe[a];if(null==a||void 0===a||void 0===a)throw new Error("unknown type of tag: "+o);let l=n[r];if(void 0===l)throw new Error("failed to get value for key "+r);"ASCII"===a&&"string"==typeof l&&!1===ue(l,"\\0")&&(l+="\\0");const f=l.length;e.writeUshort(t,i,o),i+=2,e.writeUshort(t,i,u),i+=2,e.writeUint(t,i,f),i+=4;let h=[-1,1,1,2,4,8,0,0,0,0,0,0,8][u]*f,d=i;h>4&&(e.writeUint(t,i,s),d=s),"ASCII"===a?e.writeASCII(t,d,l):"SHORT"===a?le(f,r=>{e.writeUshort(t,d+2*r,l[r])}):"LONG"===a?le(f,r=>{e.writeUint(t,d+4*r,l[r])}):"RATIONAL"===a?le(f,r=>{e.writeUint(t,d+8*r,Math.round(1e4*l[r])),e.writeUint(t,d+8*r+4,1e4)}):"DOUBLE"===a&&le(f,r=>{e.writeDouble(t,d+8*r,l[r])}),h>4&&(h+=1&h,s+=h),i+=4}return[i,s]})(n,t,i,r);i=s[1],o<e.length-1&&n.writeUint(t,s[0],i)}),t.slice)return t.slice(0,i).buffer;const o=new Uint8Array(i);for(let e=0;e<i;e++)o[e]=t[e];return o.buffer},ye=[["Compression",1],["PlanarConfiguration",1],["XPosition",0],["YPosition",0],["ResolutionUnit",1],["ExtraSamples",0],["GeoAsciiParams","WGS 84\\0"],["ModelTiepoint",[0,0,0,-180,90,0]],["GTModelTypeGeoKey",2],["GTRasterTypeGeoKey",1],["GeographicTypeGeoKey",4326],["GeogCitationGeoKey","WGS 84"]];function be(e,t){let r,n,i,o;"number"==typeof e[0]?(r=t.height||t.ImageLength,i=t.width||t.ImageWidth,n=e.length/(r*i),o=e):(n=e.length,r=e[0].length,i=e[0][0].length,o=[],le(r,t=>{le(i,r=>{le(n,n=>{o.push(e[n][t][r])})})})),t.ImageLength=r,delete t.height,t.ImageWidth=i,delete t.width,t.BitsPerSample||(t.BitsPerSample=le(n,()=>8)),ye.forEach(e=>{const r=e[0];if(!t[r]){const n=e[1];t[r]=n}}),t.PhotometricInterpretation||(t.PhotometricInterpretation=3===t.BitsPerSample.length?2:1),t.SamplesPerPixel||(t.SamplesPerPixel=[n]),t.StripByteCounts||(t.StripByteCounts=[n*r*i]),t.ModelPixelScale||(t.ModelPixelScale=[360/i,180/r,0]),t.SampleFormat||(t.SampleFormat=le(n,()=>1));const s=Object.keys(t).filter(e=>ue(e,"GeoKey")).sort((e,t)=>de[e]-de[t]);if(!t.GeoKeyDirectory){const e=[1,1,0,s.length];s.forEach(r=>{const n=Number(de[r]);let i,o,s;e.push(n),"SHORT"===c[n]?(i=1,o=0,s=t[r]):"GeogCitationGeoKey"===r?(i=t.GeoAsciiParams.length,o=Number(de.GeoAsciiParams),s=0):console.log("[geotiff.js] couldn't get TIFFTagLocation for "+r),e.push(o),e.push(i),e.push(s)}),t.GeoKeyDirectory=e}for(const e in s)s.hasOwnProperty(e)&&delete t[e];["Compression","ExtraSamples","GeographicTypeGeoKey","GTModelTypeGeoKey","GTRasterTypeGeoKey","ImageLength","ImageWidth","PhotometricInterpretation","PlanarConfiguration","ResolutionUnit","SamplesPerPixel","XPosition","YPosition"].forEach(e=>{var r;t[e]&&(t[e]=(r=t[e],Array.isArray(r)?r:[r]))});const a=(e=>{const t={};for(const r in e)"StripOffsets"!==r&&(de[r]||console.error(r,"not in name2code:",Object.keys(de)),t[de[r]]=e[r]);return t})(t);return((e,t,r,n)=>{if(null==r)throw new Error("you passed into encodeImage a width of type "+r);if(null==t)throw new Error("you passed into encodeImage a width of type "+t);const i={256:[t],257:[r],273:[1e3],278:[r],305:"geotiff.js"};if(n)for(const e in n)n.hasOwnProperty(e)&&(i[e]=n[e]);const o=new Uint8Array(me([i])),s=new Uint8Array(e),a=i[277],u=new Uint8Array(1e3+t*r*a);return le(o.length,e=>{u[e]=o[e]}),function(e,t){const{length:r}=e;for(let n=0;n<r;n++)t(e[n],n)}(s,(e,t)=>{u[1e3+t]=e}),u.buffer})(o,i,r,a)}class we{log(){}info(){}warn(){}error(){}time(){}timeEnd(){}}let ve=new we;function _e(e=new we){ve=e}function Se(e){switch(e){case h.BYTE:case h.ASCII:case h.SBYTE:case h.UNDEFINED:return 1;case h.SHORT:case h.SSHORT:return 2;case h.LONG:case h.SLONG:case h.FLOAT:case h.IFD:return 4;case h.RATIONAL:case h.SRATIONAL:case h.DOUBLE:case h.LONG8:case h.SLONG8:case h.IFD8:return 8;default:throw new RangeError("Invalid field type: "+e)}}function ke(e,t,r,n){let i=null,o=null;const s=Se(t);switch(t){case h.BYTE:case h.ASCII:case h.UNDEFINED:i=new Uint8Array(r),o=e.readUint8;break;case h.SBYTE:i=new Int8Array(r),o=e.readInt8;break;case h.SHORT:i=new Uint16Array(r),o=e.readUint16;break;case h.SSHORT:i=new Int16Array(r),o=e.readInt16;break;case h.LONG:case h.IFD:i=new Uint32Array(r),o=e.readUint32;break;case h.SLONG:i=new Int32Array(r),o=e.readInt32;break;case h.LONG8:case h.IFD8:i=new Array(r),o=e.readUint64;break;case h.SLONG8:i=new Array(r),o=e.readInt64;break;case h.RATIONAL:i=new Uint32Array(2*r),o=e.readUint32;break;case h.SRATIONAL:i=new Int32Array(2*r),o=e.readInt32;break;case h.FLOAT:i=new Float32Array(r),o=e.readFloat32;break;case h.DOUBLE:i=new Float64Array(r),o=e.readFloat64;break;default:throw new RangeError("Invalid field type: "+t)}if(t!==h.RATIONAL&&t!==h.SRATIONAL)for(let t=0;t<r;++t)i[t]=o.call(e,n+t*s);else for(let t=0;t<r;t+=2)i[t]=o.call(e,n+t*s),i[t+1]=o.call(e,n+(t*s+4));return t===h.ASCII?String.fromCharCode.apply(null,i):i}class Ce{constructor(e,t,r){this.fileDirectory=e,this.geoKeyDirectory=t,this.nextIFDByteOffset=r}}class Ee extends Error{constructor(e){super("No image at index "+e),this.index=e}}class Te{async readRasters(e={}){const{window:t,width:r,height:n}=e;let{resX:i,resY:o,bbox:s}=e;const a=await this.getImage();let u=a;const c=await this.getImageCount(),l=a.getBoundingBox();if(t&&s)throw new Error('Both "bbox" and "window" passed.');if(r||n){if(t){const[e,r]=a.getOrigin(),[n,i]=a.getResolution();s=[e+t[0]*n,r+t[1]*i,e+t[2]*n,r+t[3]*i]}const e=s||l;if(r){if(i)throw new Error("Both width and resX passed");i=(e[2]-e[0])/r}if(n){if(o)throw new Error("Both width and resY passed");o=(e[3]-e[1])/n}}if(i||o){const e=[];for(let t=0;t<c;++t){const r=await this.getImage(t),{SubfileType:n,NewSubfileType:i}=r.fileDirectory;(0===t||2===n||1&i)&&e.push(r)}e.sort((e,t)=>e.getWidth()-t.getWidth());for(let t=0;t<e.length;++t){const r=e[t],n=(l[2]-l[0])/r.getWidth(),s=(l[3]-l[1])/r.getHeight();if(u=r,i&&i>n||o&&o>s)break}}let f=t;if(s){const[e,t]=a.getOrigin(),[r,n]=u.getResolution(a);f=[Math.round((s[0]-e)/r),Math.round((s[1]-t)/n),Math.round((s[2]-e)/r),Math.round((s[3]-t)/n)],f=[Math.min(f[0],f[2]),Math.min(f[1],f[3]),Math.max(f[0],f[2]),Math.max(f[1],f[3])]}return u.readRasters({...e,window:f})}}class xe extends Te{constructor(e,t,r,n,i={}){super(),this.source=e,this.littleEndian=t,this.bigTiff=r,this.firstIFDOffset=n,this.cache=i.cache||!1,this.ifdRequests=[],this.ghostValues=null}async getSlice(e,t){const r=this.bigTiff?4048:1024;return new Y(await this.source.fetch(e,void 0!==t?t:r),e,this.littleEndian,this.bigTiff)}async parseFileDirectoryAt(e){const t=this.bigTiff?20:12,r=this.bigTiff?8:2;let n=await this.getSlice(e);const i=this.bigTiff?n.readUint64(e):n.readUint16(e),o=i*t+(this.bigTiff?16:6);n.covers(e,o)||(n=await this.getSlice(e,o));const s={};let u=e+(this.bigTiff?8:2);for(let e=0;e<i;u+=t,++e){const e=n.readUint16(u),t=n.readUint16(u+2),r=this.bigTiff?n.readUint64(u+4):n.readUint32(u+4);let i,o;const c=Se(t),f=u+(this.bigTiff?12:8);if(c*r<=(this.bigTiff?8:4))i=ke(n,t,r,f);else{const e=n.readOffset(f),o=Se(t)*r;if(n.covers(e,o))i=ke(n,t,r,e);else{i=ke(await this.getSlice(e,o),t,r,e)}}o=1===r&&-1===l.indexOf(e)&&t!==h.RATIONAL&&t!==h.SRATIONAL?i[0]:i,s[a[e]]=o}const c=function(e){const t=e.GeoKeyDirectory;if(!t)return null;const r={};for(let n=4;n<=4*t[3];n+=4){const i=g[t[n]],o=t[n+1]?a[t[n+1]]:null,s=t[n+2],u=t[n+3];let c=null;if(o){if(c=e[o],null==c)throw new Error(\`Could not get value of geoKey '\${i}'.\`);"string"==typeof c?c=c.substring(u,u+s-1):c.subarray&&(c=c.subarray(u,u+s),1===s&&(c=c[0]))}else c=u;r[i]=c}return r}(s),f=n.readOffset(e+r+t*i);return new Ce(s,c,f)}async requestIFD(e){if(this.ifdRequests[e])return this.ifdRequests[e];if(0===e)return this.ifdRequests[e]=this.parseFileDirectoryAt(this.firstIFDOffset),this.ifdRequests[e];if(!this.ifdRequests[e-1])try{this.ifdRequests[e-1]=this.requestIFD(e-1)}catch(t){if(t instanceof Ee)throw new Ee(e);throw t}return this.ifdRequests[e]=(async()=>{const t=await this.ifdRequests[e-1];if(0===t.nextIFDByteOffset)throw new Ee(e);return this.parseFileDirectoryAt(t.nextIFDByteOffset)})(),this.ifdRequests[e]}async getImage(e=0){const t=await this.requestIFD(e);return new W(t.fileDirectory,t.geoKeyDirectory,this.dataView,this.littleEndian,this.cache,this.source)}async getImageCount(){let e=0,t=!0;for(;t;)try{await this.requestIFD(e),++e}catch(e){if(!(e instanceof Ee))throw e;t=!1}return e}async getGhostValues(){const e=this.bigTiff?16:8;if(this.ghostValues)return this.ghostValues;const t="GDAL_STRUCTURAL_METADATA_SIZE=",r=t.length+100;let n=await this.getSlice(e,r);if(t===ke(n,h.ASCII,t.length,e)){const t=ke(n,h.ASCII,r,e).split("\\n")[0],i=Number(t.split("=")[1].split(" ")[0])+t.length;i>r&&(n=await this.getSlice(e,i));const o=ke(n,h.ASCII,i,e);this.ghostValues={},o.split("\\n").filter(e=>e.length>0).map(e=>e.split("=")).forEach(([e,t])=>{this.ghostValues[e]=t})}return this.ghostValues}static async fromSource(e,t){const r=await e.fetch(0,1024),n=new V(r),i=n.getUint16(0,0);let o;if(18761===i)o=!0;else{if(19789!==i)throw new TypeError("Invalid byte order value.");o=!1}const s=n.getUint16(2,o);let a;if(42===s)a=!1;else{if(43!==s)throw new TypeError("Invalid magic number.");a=!0;if(8!==n.getUint16(4,o))throw new Error("Unsupported offset byte-size.")}const u=a?n.getUint64(8,o):n.getUint32(4,o);return new xe(e,o,a,u,t)}close(){return"function"==typeof this.source.close&&this.source.close()}}t.default=xe;class Ae extends Te{constructor(e,t){super(),this.mainFile=e,this.overviewFiles=t,this.imageFiles=[e].concat(t),this.fileDirectoriesPerFile=null,this.fileDirectoriesPerFileParsing=null,this.imageCount=null}async parseFileDirectoriesPerFile(){const e=[this.mainFile.parseFileDirectoryAt(this.mainFile.firstIFDOffset)].concat(this.overviewFiles.map(e=>e.parseFileDirectoryAt(e.firstIFDOffset)));return this.fileDirectoriesPerFile=await Promise.all(e),this.fileDirectoriesPerFile}async getImage(e=0){await this.getImageCount(),await this.parseFileDirectoriesPerFile();let t=0,r=0;for(let n=0;n<this.imageFiles.length;n++){const i=this.imageFiles[n];for(let o=0;o<this.imageCounts[n];o++){if(e===t){const e=await i.requestIFD(r);return new W(e.fileDirectory,i.geoKeyDirectory,i.dataView,i.littleEndian,i.cache,i.source)}t++,r++}r=0}throw new RangeError("Invalid image index")}async getImageCount(){if(null!==this.imageCount)return this.imageCount;const e=[this.mainFile.getImageCount()].concat(this.overviewFiles.map(e=>e.getImageCount()));return this.imageCounts=await Promise.all(e),this.imageCount=this.imageCounts.reduce((e,t)=>e+t,0),this.imageCount}}async function Oe(e,t={}){return xe.fromSource(oe(e,t))}async function Re(e){return xe.fromSource(function(e){return{fetch:async(t,r)=>e.slice(t,t+r)}}(e))}async function Ie(e){return xe.fromSource(se(e))}async function Pe(e){return xe.fromSource((t=e,{fetch:async(e,r)=>new Promise((n,i)=>{const o=t.slice(e,e+r),s=new FileReader;s.onload=e=>n(e.target.result),s.onerror=i,s.readAsArrayBuffer(o)})}));var t}async function Me(e,t=[],r={}){const n=await xe.fromSource(oe(e,r)),i=await Promise.all(t.map(e=>xe.fromSource(oe(e,r))));return new Ae(n,i)}async function De(e,t){return be(e,t)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(8);Object(n.b)().blob;const i=Object(n.b)().default},,,function(e,t,r){"use strict";var n=r(13),i=r(39);var o=function(e){"function"==typeof e?e():e&&"function"==typeof e.unsubscribe&&e.unsubscribe()};t.a=function(e){const t=new i.a;let r,s=0;return new n.a(n=>{r||(r=e.subscribe(t));const i=t.subscribe(n);return s++,()=>{s--,i.unsubscribe(),0===s&&(o(r),r=void 0)}})}}]);`,null)}},function($,I,p){var d=window.URL||window.webkitURL;$.exports=function(i,h){try{try{var u;try{(u=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(i),u=u.getBlob()}catch{u=new Blob([i])}return new Worker(d.createObjectURL(u))}catch{return new Worker("data:application/javascript,"+encodeURIComponent(i))}}catch{if(!h)throw Error("Inline worker is not supported");return new Worker(h)}}},function($,I,p){Object.defineProperty(I,"__esModule",{value:!0});var d=function(r,S){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return function(_,x){var k=[],b=!0,w=!1,P=void 0;try{for(var O,T=_[Symbol.iterator]();!(b=(O=T.next()).done)&&(k.push(O.value),!x||k.length!==x);b=!0);}catch(f){w=!0,P=f}finally{try{!b&&T.return&&T.return()}finally{if(w)throw P}}return k}(r,S);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r};I.default=function(r,S){return new Promise(function(_,x){try{S&&console.log("starting parseData with",r),S&&console.log("	GeoTIFF:",typeof GeoTIFF=="undefined"?"undefined":i(GeoTIFF));var k={},b=void 0,w=void 0;if(r.rasterType==="object")k.values=r.data,k.height=b=r.metadata.height||k.values[0].length,k.width=w=r.metadata.width||k.values[0][0].length,k.pixelHeight=r.metadata.pixelHeight,k.pixelWidth=r.metadata.pixelWidth,k.projection=r.metadata.projection,k.xmin=r.metadata.xmin,k.ymax=r.metadata.ymax,k.noDataValue=r.metadata.noDataValue,k.numberOfRasters=k.values.length,k.xmax=k.xmin+k.width*k.pixelWidth,k.ymin=k.ymax-k.height*k.pixelHeight,k._data=null,_(m(k));else if(r.rasterType==="geotiff"){k._data=r.data;var P=h.fromArrayBuffer;r.sourceType==="url"&&(P=h.fromUrl),S&&console.log("data.rasterType is geotiff"),_(P(r.data).then(function(O){return S&&console.log("geotiff:",O),O.getImage().then(function(T){try{S&&console.log("image:",T);var f=T.fileDirectory,n=T.getGeoKeys(),e=n.GeographicTypeGeoKey,o=n.ProjectedCSTypeGeoKey;k.projection=o||e,S&&console.log("projection:",k.projection),k.height=b=T.getHeight(),S&&console.log("result.height:",k.height),k.width=w=T.getWidth(),S&&console.log("result.width:",k.width);var C=T.getResolution(),E=d(C,2),F=E[0],c=E[1];k.pixelHeight=Math.abs(c),k.pixelWidth=Math.abs(F);var M=T.getOrigin(),A=d(M,2),g=A[0],z=A[1];return k.xmin=g,k.xmax=k.xmin+w*k.pixelWidth,k.ymax=z,k.ymin=k.ymax-b*k.pixelHeight,k.noDataValue=f.GDAL_NODATA?parseFloat(f.GDAL_NODATA):null,k.numberOfRasters=f.SamplesPerPixel,f.ColorMap&&(k.palette=(0,u.getPalette)(T)),r.sourceType!=="url"?T.readRasters().then(function(Q){return k.values=Q.map(function(Z){return(0,s.unflatten)(Z,{height:b,width:w})}),m(k)}):k}catch(Q){x(Q),console.error("[georaster] error parsing georaster:",Q)}})}))}}catch(O){x(O),console.error("[georaster] error parsing georaster:",O)}})};var h=p(37),u=p(83),s=p(36);function m(r,S){var _=r.noDataValue,x=r.height,k=r.width;return new Promise(function(b,w){r.maxs=[],r.mins=[],r.ranges=[];for(var P=void 0,O=void 0,T=0;T<r.numberOfRasters;T++){var f=r.values[T];S&&console.log("[georaster] rows:",f);for(var n=0;n<x;n++)for(var e=f[n],o=0;o<k;o++){var C=e[o];C==_||isNaN(C)||(O===void 0||C<O?O=C:(P===void 0||C>P)&&(P=C))}r.maxs.push(P),r.mins.push(O),r.ranges.push(P-O)}b(r)})}},function($,I,p){(function(d){var i=p(20).Transform,h=p(4);function u(r){i.call(this,r),this._destroyed=!1}function s(r,S,_){_(null,r)}function m(r){return function(S,_,x){return typeof S=="function"&&(x=_,_=S,S={}),typeof _!="function"&&(_=s),typeof x!="function"&&(x=null),r(S,_,x)}}h(u,i),u.prototype.destroy=function(r){if(!this._destroyed){this._destroyed=!0;var S=this;d.nextTick(function(){r&&S.emit("error",r),S.emit("close")})}},$.exports=m(function(r,S,_){var x=new u(r);return x._transform=S,_&&(x._flush=_),x}),$.exports.ctor=m(function(r,S,_){function x(k){if(!(this instanceof x))return new x(k);this.options=Object.assign({},r,k),u.call(this,this.options)}return h(x,u),x.prototype._transform=S,_&&(x.prototype._flush=_),x}),$.exports.obj=m(function(r,S,_){var x=new u(Object.assign({objectMode:!0,highWaterMark:16},r));return x._transform=S,_&&(x._flush=_),x})}).call(this,p(3))},function($,I){},function($,I,p){var d=p(21).Buffer,i=p(54);$.exports=function(){function h(){(function(u,s){if(!(u instanceof s))throw new TypeError("Cannot call a class as a function")})(this,h),this.head=null,this.tail=null,this.length=0}return h.prototype.push=function(u){var s={data:u,next:null};this.length>0?this.tail.next=s:this.head=s,this.tail=s,++this.length},h.prototype.unshift=function(u){var s={data:u,next:this.head};this.length===0&&(this.tail=s),this.head=s,++this.length},h.prototype.shift=function(){if(this.length!==0){var u=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,u}},h.prototype.clear=function(){this.head=this.tail=null,this.length=0},h.prototype.join=function(u){if(this.length===0)return"";for(var s=this.head,m=""+s.data;s=s.next;)m+=u+s.data;return m},h.prototype.concat=function(u){if(this.length===0)return d.alloc(0);if(this.length===1)return this.head.data;for(var s,m,r,S=d.allocUnsafe(u>>>0),_=this.head,x=0;_;)s=_.data,m=S,r=x,s.copy(m,r),x+=_.data.length,_=_.next;return S},h}(),i&&i.inspect&&i.inspect.custom&&($.exports.prototype[i.inspect.custom]=function(){var h=i.inspect({length:this.length});return this.constructor.name+" "+h})},function($,I){},function($,I,p){(function(d){var i=d!==void 0&&d||typeof self!="undefined"&&self||window,h=Function.prototype.apply;function u(s,m){this._id=s,this._clearFn=m}I.setTimeout=function(){return new u(h.call(setTimeout,i,arguments),clearTimeout)},I.setInterval=function(){return new u(h.call(setInterval,i,arguments),clearInterval)},I.clearTimeout=I.clearInterval=function(s){s&&s.close()},u.prototype.unref=u.prototype.ref=function(){},u.prototype.close=function(){this._clearFn.call(i,this._id)},I.enroll=function(s,m){clearTimeout(s._idleTimeoutId),s._idleTimeout=m},I.unenroll=function(s){clearTimeout(s._idleTimeoutId),s._idleTimeout=-1},I._unrefActive=I.active=function(s){clearTimeout(s._idleTimeoutId);var m=s._idleTimeout;m>=0&&(s._idleTimeoutId=setTimeout(function(){s._onTimeout&&s._onTimeout()},m))},p(56),I.setImmediate=typeof self!="undefined"&&self.setImmediate||d!==void 0&&d.setImmediate||this&&this.setImmediate,I.clearImmediate=typeof self!="undefined"&&self.clearImmediate||d!==void 0&&d.clearImmediate||this&&this.clearImmediate}).call(this,p(1))},function($,I,p){(function(d,i){(function(h,u){if(!h.setImmediate){var s,m,r,S,_,x=1,k={},b=!1,w=h.document,P=Object.getPrototypeOf&&Object.getPrototypeOf(h);P=P&&P.setTimeout?P:h,{}.toString.call(h.process)==="[object process]"?s=function(f){i.nextTick(function(){T(f)})}:function(){if(h.postMessage&&!h.importScripts){var f=!0,n=h.onmessage;return h.onmessage=function(){f=!1},h.postMessage("","*"),h.onmessage=n,f}}()?(S="setImmediate$"+Math.random()+"$",_=function(f){f.source===h&&typeof f.data=="string"&&f.data.indexOf(S)===0&&T(+f.data.slice(S.length))},h.addEventListener?h.addEventListener("message",_,!1):h.attachEvent("onmessage",_),s=function(f){h.postMessage(S+f,"*")}):h.MessageChannel?((r=new MessageChannel).port1.onmessage=function(f){T(f.data)},s=function(f){r.port2.postMessage(f)}):w&&"onreadystatechange"in w.createElement("script")?(m=w.documentElement,s=function(f){var n=w.createElement("script");n.onreadystatechange=function(){T(f),n.onreadystatechange=null,m.removeChild(n),n=null},m.appendChild(n)}):s=function(f){setTimeout(T,0,f)},P.setImmediate=function(f){typeof f!="function"&&(f=new Function(""+f));for(var n=new Array(arguments.length-1),e=0;e<n.length;e++)n[e]=arguments[e+1];var o={callback:f,args:n};return k[x]=o,s(x),x++},P.clearImmediate=O}function O(f){delete k[f]}function T(f){if(b)setTimeout(T,0,f);else{var n=k[f];if(n){b=!0;try{(function(e){var o=e.callback,C=e.args;switch(C.length){case 0:o();break;case 1:o(C[0]);break;case 2:o(C[0],C[1]);break;case 3:o(C[0],C[1],C[2]);break;default:o.apply(void 0,C)}})(n)}finally{O(f),b=!1}}}}})(typeof self=="undefined"?d===void 0?this:d:self)}).call(this,p(1),p(3))},function($,I,p){(function(d){function i(h){try{if(!d.localStorage)return!1}catch{return!1}var u=d.localStorage[h];return u!=null&&String(u).toLowerCase()==="true"}$.exports=function(h,u){if(i("noDeprecation"))return h;var s=!1;return function(){if(!s){if(i("throwDeprecation"))throw new Error(u);i("traceDeprecation")?console.trace(u):console.warn(u),s=!0}return h.apply(this,arguments)}}}).call(this,p(1))},function($,I,p){var d=p(2),i=d.Buffer;function h(s,m){for(var r in s)m[r]=s[r]}function u(s,m,r){return i(s,m,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?$.exports=d:(h(d,I),I.Buffer=u),h(i,u),u.from=function(s,m,r){if(typeof s=="number")throw new TypeError("Argument must not be a number");return i(s,m,r)},u.alloc=function(s,m,r){if(typeof s!="number")throw new TypeError("Argument must be a number");var S=i(s);return m!==void 0?typeof r=="string"?S.fill(m,r):S.fill(m):S.fill(0),S},u.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return i(s)},u.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return d.SlowBuffer(s)}},function($,I,p){$.exports=h;var d=p(32),i=Object.create(p(10));function h(u){if(!(this instanceof h))return new h(u);d.call(this,u)}i.inherits=p(4),i.inherits(h,d),h.prototype._transform=function(u,s,m){m(null,u)}},function($,I,p){var d=p(16),i=p(61),h=p(62),u=p(63),s=p(64);function m(f){return(f>>>24&255)+(f>>>8&65280)+((65280&f)<<8)+((255&f)<<24)}function r(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new d.Buf16(320),this.work=new d.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function S(f){var n;return f&&f.state?(n=f.state,f.total_in=f.total_out=n.total=0,f.msg="",n.wrap&&(f.adler=1&n.wrap),n.mode=1,n.last=0,n.havedict=0,n.dmax=32768,n.head=null,n.hold=0,n.bits=0,n.lencode=n.lendyn=new d.Buf32(852),n.distcode=n.distdyn=new d.Buf32(592),n.sane=1,n.back=-1,0):-2}function _(f){var n;return f&&f.state?((n=f.state).wsize=0,n.whave=0,n.wnext=0,S(f)):-2}function x(f,n){var e,o;return f&&f.state?(o=f.state,n<0?(e=0,n=-n):(e=1+(n>>4),n<48&&(n&=15)),n&&(n<8||n>15)?-2:(o.window!==null&&o.wbits!==n&&(o.window=null),o.wrap=e,o.wbits=n,_(f))):-2}function k(f,n){var e,o;return f?(o=new r,f.state=o,o.window=null,(e=x(f,n))!==0&&(f.state=null),e):-2}var b,w,P=!0;function O(f){if(P){var n;for(b=new d.Buf32(512),w=new d.Buf32(32),n=0;n<144;)f.lens[n++]=8;for(;n<256;)f.lens[n++]=9;for(;n<280;)f.lens[n++]=7;for(;n<288;)f.lens[n++]=8;for(s(1,f.lens,0,288,b,0,f.work,{bits:9}),n=0;n<32;)f.lens[n++]=5;s(2,f.lens,0,32,w,0,f.work,{bits:5}),P=!1}f.lencode=b,f.lenbits=9,f.distcode=w,f.distbits=5}function T(f,n,e,o){var C,E=f.state;return E.window===null&&(E.wsize=1<<E.wbits,E.wnext=0,E.whave=0,E.window=new d.Buf8(E.wsize)),o>=E.wsize?(d.arraySet(E.window,n,e-E.wsize,E.wsize,0),E.wnext=0,E.whave=E.wsize):((C=E.wsize-E.wnext)>o&&(C=o),d.arraySet(E.window,n,e-o,C,E.wnext),(o-=C)?(d.arraySet(E.window,n,e-o,o,0),E.wnext=o,E.whave=E.wsize):(E.wnext+=C,E.wnext===E.wsize&&(E.wnext=0),E.whave<E.wsize&&(E.whave+=C))),0}I.inflateReset=_,I.inflateReset2=x,I.inflateResetKeep=S,I.inflateInit=function(f){return k(f,15)},I.inflateInit2=k,I.inflate=function(f,n){var e,o,C,E,F,c,M,A,g,z,Q,Z,le,ae,L,D,ee,ne,se,be,ie,_e,we,t,a=0,y=new d.Buf8(4),q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!f||!f.state||!f.output||!f.input&&f.avail_in!==0)return-2;(e=f.state).mode===12&&(e.mode=13),F=f.next_out,C=f.output,M=f.avail_out,E=f.next_in,o=f.input,c=f.avail_in,A=e.hold,g=e.bits,z=c,Q=M,_e=0;e:for(;;)switch(e.mode){case 1:if(e.wrap===0){e.mode=13;break}for(;g<16;){if(c===0)break e;c--,A+=o[E++]<<g,g+=8}if(2&e.wrap&&A===35615){e.check=0,y[0]=255&A,y[1]=A>>>8&255,e.check=h(e.check,y,2,0),A=0,g=0,e.mode=2;break}if(e.flags=0,e.head&&(e.head.done=!1),!(1&e.wrap)||(((255&A)<<8)+(A>>8))%31){f.msg="incorrect header check",e.mode=30;break}if((15&A)!=8){f.msg="unknown compression method",e.mode=30;break}if(g-=4,ie=8+(15&(A>>>=4)),e.wbits===0)e.wbits=ie;else if(ie>e.wbits){f.msg="invalid window size",e.mode=30;break}e.dmax=1<<ie,f.adler=e.check=1,e.mode=512&A?10:12,A=0,g=0;break;case 2:for(;g<16;){if(c===0)break e;c--,A+=o[E++]<<g,g+=8}if(e.flags=A,(255&e.flags)!=8){f.msg="unknown compression method",e.mode=30;break}if(57344&e.flags){f.msg="unknown header flags set",e.mode=30;break}e.head&&(e.head.text=A>>8&1),512&e.flags&&(y[0]=255&A,y[1]=A>>>8&255,e.check=h(e.check,y,2,0)),A=0,g=0,e.mode=3;case 3:for(;g<32;){if(c===0)break e;c--,A+=o[E++]<<g,g+=8}e.head&&(e.head.time=A),512&e.flags&&(y[0]=255&A,y[1]=A>>>8&255,y[2]=A>>>16&255,y[3]=A>>>24&255,e.check=h(e.check,y,4,0)),A=0,g=0,e.mode=4;case 4:for(;g<16;){if(c===0)break e;c--,A+=o[E++]<<g,g+=8}e.head&&(e.head.xflags=255&A,e.head.os=A>>8),512&e.flags&&(y[0]=255&A,y[1]=A>>>8&255,e.check=h(e.check,y,2,0)),A=0,g=0,e.mode=5;case 5:if(1024&e.flags){for(;g<16;){if(c===0)break e;c--,A+=o[E++]<<g,g+=8}e.length=A,e.head&&(e.head.extra_len=A),512&e.flags&&(y[0]=255&A,y[1]=A>>>8&255,e.check=h(e.check,y,2,0)),A=0,g=0}else e.head&&(e.head.extra=null);e.mode=6;case 6:if(1024&e.flags&&((Z=e.length)>c&&(Z=c),Z&&(e.head&&(ie=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Array(e.head.extra_len)),d.arraySet(e.head.extra,o,E,Z,ie)),512&e.flags&&(e.check=h(e.check,o,Z,E)),c-=Z,E+=Z,e.length-=Z),e.length))break e;e.length=0,e.mode=7;case 7:if(2048&e.flags){if(c===0)break e;Z=0;do ie=o[E+Z++],e.head&&ie&&e.length<65536&&(e.head.name+=String.fromCharCode(ie));while(ie&&Z<c);if(512&e.flags&&(e.check=h(e.check,o,Z,E)),c-=Z,E+=Z,ie)break e}else e.head&&(e.head.name=null);e.length=0,e.mode=8;case 8:if(4096&e.flags){if(c===0)break e;Z=0;do ie=o[E+Z++],e.head&&ie&&e.length<65536&&(e.head.comment+=String.fromCharCode(ie));while(ie&&Z<c);if(512&e.flags&&(e.check=h(e.check,o,Z,E)),c-=Z,E+=Z,ie)break e}else e.head&&(e.head.comment=null);e.mode=9;case 9:if(512&e.flags){for(;g<16;){if(c===0)break e;c--,A+=o[E++]<<g,g+=8}if(A!==(65535&e.check)){f.msg="header crc mismatch",e.mode=30;break}A=0,g=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),f.adler=e.check=0,e.mode=12;break;case 10:for(;g<32;){if(c===0)break e;c--,A+=o[E++]<<g,g+=8}f.adler=e.check=m(A),A=0,g=0,e.mode=11;case 11:if(e.havedict===0)return f.next_out=F,f.avail_out=M,f.next_in=E,f.avail_in=c,e.hold=A,e.bits=g,2;f.adler=e.check=1,e.mode=12;case 12:if(n===5||n===6)break e;case 13:if(e.last){A>>>=7&g,g-=7&g,e.mode=27;break}for(;g<3;){if(c===0)break e;c--,A+=o[E++]<<g,g+=8}switch(e.last=1&A,g-=1,3&(A>>>=1)){case 0:e.mode=14;break;case 1:if(O(e),e.mode=20,n===6){A>>>=2,g-=2;break e}break;case 2:e.mode=17;break;case 3:f.msg="invalid block type",e.mode=30}A>>>=2,g-=2;break;case 14:for(A>>>=7&g,g-=7&g;g<32;){if(c===0)break e;c--,A+=o[E++]<<g,g+=8}if((65535&A)!=(A>>>16^65535)){f.msg="invalid stored block lengths",e.mode=30;break}if(e.length=65535&A,A=0,g=0,e.mode=15,n===6)break e;case 15:e.mode=16;case 16:if(Z=e.length){if(Z>c&&(Z=c),Z>M&&(Z=M),Z===0)break e;d.arraySet(C,o,E,Z,F),c-=Z,E+=Z,M-=Z,F+=Z,e.length-=Z;break}e.mode=12;break;case 17:for(;g<14;){if(c===0)break e;c--,A+=o[E++]<<g,g+=8}if(e.nlen=257+(31&A),A>>>=5,g-=5,e.ndist=1+(31&A),A>>>=5,g-=5,e.ncode=4+(15&A),A>>>=4,g-=4,e.nlen>286||e.ndist>30){f.msg="too many length or distance symbols",e.mode=30;break}e.have=0,e.mode=18;case 18:for(;e.have<e.ncode;){for(;g<3;){if(c===0)break e;c--,A+=o[E++]<<g,g+=8}e.lens[q[e.have++]]=7&A,A>>>=3,g-=3}for(;e.have<19;)e.lens[q[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,we={bits:e.lenbits},_e=s(0,e.lens,0,19,e.lencode,0,e.work,we),e.lenbits=we.bits,_e){f.msg="invalid code lengths set",e.mode=30;break}e.have=0,e.mode=19;case 19:for(;e.have<e.nlen+e.ndist;){for(;D=(a=e.lencode[A&(1<<e.lenbits)-1])>>>16&255,ee=65535&a,!((L=a>>>24)<=g);){if(c===0)break e;c--,A+=o[E++]<<g,g+=8}if(ee<16)A>>>=L,g-=L,e.lens[e.have++]=ee;else{if(ee===16){for(t=L+2;g<t;){if(c===0)break e;c--,A+=o[E++]<<g,g+=8}if(A>>>=L,g-=L,e.have===0){f.msg="invalid bit length repeat",e.mode=30;break}ie=e.lens[e.have-1],Z=3+(3&A),A>>>=2,g-=2}else if(ee===17){for(t=L+3;g<t;){if(c===0)break e;c--,A+=o[E++]<<g,g+=8}g-=L,ie=0,Z=3+(7&(A>>>=L)),A>>>=3,g-=3}else{for(t=L+7;g<t;){if(c===0)break e;c--,A+=o[E++]<<g,g+=8}g-=L,ie=0,Z=11+(127&(A>>>=L)),A>>>=7,g-=7}if(e.have+Z>e.nlen+e.ndist){f.msg="invalid bit length repeat",e.mode=30;break}for(;Z--;)e.lens[e.have++]=ie}}if(e.mode===30)break;if(e.lens[256]===0){f.msg="invalid code -- missing end-of-block",e.mode=30;break}if(e.lenbits=9,we={bits:e.lenbits},_e=s(1,e.lens,0,e.nlen,e.lencode,0,e.work,we),e.lenbits=we.bits,_e){f.msg="invalid literal/lengths set",e.mode=30;break}if(e.distbits=6,e.distcode=e.distdyn,we={bits:e.distbits},_e=s(2,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,we),e.distbits=we.bits,_e){f.msg="invalid distances set",e.mode=30;break}if(e.mode=20,n===6)break e;case 20:e.mode=21;case 21:if(c>=6&&M>=258){f.next_out=F,f.avail_out=M,f.next_in=E,f.avail_in=c,e.hold=A,e.bits=g,u(f,Q),F=f.next_out,C=f.output,M=f.avail_out,E=f.next_in,o=f.input,c=f.avail_in,A=e.hold,g=e.bits,e.mode===12&&(e.back=-1);break}for(e.back=0;D=(a=e.lencode[A&(1<<e.lenbits)-1])>>>16&255,ee=65535&a,!((L=a>>>24)<=g);){if(c===0)break e;c--,A+=o[E++]<<g,g+=8}if(D&&(240&D)==0){for(ne=L,se=D,be=ee;D=(a=e.lencode[be+((A&(1<<ne+se)-1)>>ne)])>>>16&255,ee=65535&a,!(ne+(L=a>>>24)<=g);){if(c===0)break e;c--,A+=o[E++]<<g,g+=8}A>>>=ne,g-=ne,e.back+=ne}if(A>>>=L,g-=L,e.back+=L,e.length=ee,D===0){e.mode=26;break}if(32&D){e.back=-1,e.mode=12;break}if(64&D){f.msg="invalid literal/length code",e.mode=30;break}e.extra=15&D,e.mode=22;case 22:if(e.extra){for(t=e.extra;g<t;){if(c===0)break e;c--,A+=o[E++]<<g,g+=8}e.length+=A&(1<<e.extra)-1,A>>>=e.extra,g-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=23;case 23:for(;D=(a=e.distcode[A&(1<<e.distbits)-1])>>>16&255,ee=65535&a,!((L=a>>>24)<=g);){if(c===0)break e;c--,A+=o[E++]<<g,g+=8}if((240&D)==0){for(ne=L,se=D,be=ee;D=(a=e.distcode[be+((A&(1<<ne+se)-1)>>ne)])>>>16&255,ee=65535&a,!(ne+(L=a>>>24)<=g);){if(c===0)break e;c--,A+=o[E++]<<g,g+=8}A>>>=ne,g-=ne,e.back+=ne}if(A>>>=L,g-=L,e.back+=L,64&D){f.msg="invalid distance code",e.mode=30;break}e.offset=ee,e.extra=15&D,e.mode=24;case 24:if(e.extra){for(t=e.extra;g<t;){if(c===0)break e;c--,A+=o[E++]<<g,g+=8}e.offset+=A&(1<<e.extra)-1,A>>>=e.extra,g-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){f.msg="invalid distance too far back",e.mode=30;break}e.mode=25;case 25:if(M===0)break e;if(Z=Q-M,e.offset>Z){if((Z=e.offset-Z)>e.whave&&e.sane){f.msg="invalid distance too far back",e.mode=30;break}Z>e.wnext?(Z-=e.wnext,le=e.wsize-Z):le=e.wnext-Z,Z>e.length&&(Z=e.length),ae=e.window}else ae=C,le=F-e.offset,Z=e.length;Z>M&&(Z=M),M-=Z,e.length-=Z;do C[F++]=ae[le++];while(--Z);e.length===0&&(e.mode=21);break;case 26:if(M===0)break e;C[F++]=e.length,M--,e.mode=21;break;case 27:if(e.wrap){for(;g<32;){if(c===0)break e;c--,A|=o[E++]<<g,g+=8}if(Q-=M,f.total_out+=Q,e.total+=Q,Q&&(f.adler=e.check=e.flags?h(e.check,C,Q,F-Q):i(e.check,C,Q,F-Q)),Q=M,(e.flags?A:m(A))!==e.check){f.msg="incorrect data check",e.mode=30;break}A=0,g=0}e.mode=28;case 28:if(e.wrap&&e.flags){for(;g<32;){if(c===0)break e;c--,A+=o[E++]<<g,g+=8}if(A!==(4294967295&e.total)){f.msg="incorrect length check",e.mode=30;break}A=0,g=0}e.mode=29;case 29:_e=1;break e;case 30:_e=-3;break e;case 31:return-4;case 32:default:return-2}return f.next_out=F,f.avail_out=M,f.next_in=E,f.avail_in=c,e.hold=A,e.bits=g,(e.wsize||Q!==f.avail_out&&e.mode<30&&(e.mode<27||n!==4))&&T(f,f.output,f.next_out,Q-f.avail_out)?(e.mode=31,-4):(z-=f.avail_in,Q-=f.avail_out,f.total_in+=z,f.total_out+=Q,e.total+=Q,e.wrap&&Q&&(f.adler=e.check=e.flags?h(e.check,C,Q,f.next_out-Q):i(e.check,C,Q,f.next_out-Q)),f.data_type=e.bits+(e.last?64:0)+(e.mode===12?128:0)+(e.mode===20||e.mode===15?256:0),(z===0&&Q===0||n===4)&&_e===0&&(_e=-5),_e)},I.inflateEnd=function(f){if(!f||!f.state)return-2;var n=f.state;return n.window&&(n.window=null),f.state=null,0},I.inflateGetHeader=function(f,n){var e;return f&&f.state?(2&(e=f.state).wrap)==0?-2:(e.head=n,n.done=!1,0):-2},I.inflateSetDictionary=function(f,n){var e,o=n.length;return f&&f.state?(e=f.state).wrap!==0&&e.mode!==11?-2:e.mode===11&&i(1,n,o,0)!==e.check?-3:T(f,n,o,o)?(e.mode=31,-4):(e.havedict=1,0):-2},I.inflateInfo="pako inflate (from Nodeca project)"},function($,I,p){$.exports=function(d,i,h,u){for(var s=65535&d|0,m=d>>>16&65535|0,r=0;h!==0;){h-=r=h>2e3?2e3:h;do m=m+(s=s+i[u++]|0)|0;while(--r);s%=65521,m%=65521}return s|m<<16|0}},function($,I,p){var d=function(){for(var i,h=[],u=0;u<256;u++){i=u;for(var s=0;s<8;s++)i=1&i?3988292384^i>>>1:i>>>1;h[u]=i}return h}();$.exports=function(i,h,u,s){var m=d,r=s+u;i^=-1;for(var S=s;S<r;S++)i=i>>>8^m[255&(i^h[S])];return-1^i}},function($,I,p){$.exports=function(d,i){var h,u,s,m,r,S,_,x,k,b,w,P,O,T,f,n,e,o,C,E,F,c,M,A,g;h=d.state,u=d.next_in,A=d.input,s=u+(d.avail_in-5),m=d.next_out,g=d.output,r=m-(i-d.avail_out),S=m+(d.avail_out-257),_=h.dmax,x=h.wsize,k=h.whave,b=h.wnext,w=h.window,P=h.hold,O=h.bits,T=h.lencode,f=h.distcode,n=(1<<h.lenbits)-1,e=(1<<h.distbits)-1;e:do{O<15&&(P+=A[u++]<<O,O+=8,P+=A[u++]<<O,O+=8),o=T[P&n];t:for(;;){if(P>>>=C=o>>>24,O-=C,(C=o>>>16&255)==0)g[m++]=65535&o;else{if(!(16&C)){if((64&C)==0){o=T[(65535&o)+(P&(1<<C)-1)];continue t}if(32&C){h.mode=12;break e}d.msg="invalid literal/length code",h.mode=30;break e}E=65535&o,(C&=15)&&(O<C&&(P+=A[u++]<<O,O+=8),E+=P&(1<<C)-1,P>>>=C,O-=C),O<15&&(P+=A[u++]<<O,O+=8,P+=A[u++]<<O,O+=8),o=f[P&e];r:for(;;){if(P>>>=C=o>>>24,O-=C,!(16&(C=o>>>16&255))){if((64&C)==0){o=f[(65535&o)+(P&(1<<C)-1)];continue r}d.msg="invalid distance code",h.mode=30;break e}if(F=65535&o,O<(C&=15)&&(P+=A[u++]<<O,(O+=8)<C&&(P+=A[u++]<<O,O+=8)),(F+=P&(1<<C)-1)>_){d.msg="invalid distance too far back",h.mode=30;break e}if(P>>>=C,O-=C,F>(C=m-r)){if((C=F-C)>k&&h.sane){d.msg="invalid distance too far back",h.mode=30;break e}if(c=0,M=w,b===0){if(c+=x-C,C<E){E-=C;do g[m++]=w[c++];while(--C);c=m-F,M=g}}else if(b<C){if(c+=x+b-C,(C-=b)<E){E-=C;do g[m++]=w[c++];while(--C);if(c=0,b<E){E-=C=b;do g[m++]=w[c++];while(--C);c=m-F,M=g}}}else if(c+=b-C,C<E){E-=C;do g[m++]=w[c++];while(--C);c=m-F,M=g}for(;E>2;)g[m++]=M[c++],g[m++]=M[c++],g[m++]=M[c++],E-=3;E&&(g[m++]=M[c++],E>1&&(g[m++]=M[c++]))}else{c=m-F;do g[m++]=g[c++],g[m++]=g[c++],g[m++]=g[c++],E-=3;while(E>2);E&&(g[m++]=g[c++],E>1&&(g[m++]=g[c++]))}break}}break}}while(u<s&&m<S);u-=E=O>>3,P&=(1<<(O-=E<<3))-1,d.next_in=u,d.next_out=m,d.avail_in=u<s?s-u+5:5-(u-s),d.avail_out=m<S?S-m+257:257-(m-S),h.hold=P,h.bits=O}},function($,I,p){var d=p(16),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];$.exports=function(m,r,S,_,x,k,b,w){var P,O,T,f,n,e,o,C,E,F=w.bits,c=0,M=0,A=0,g=0,z=0,Q=0,Z=0,le=0,ae=0,L=0,D=null,ee=0,ne=new d.Buf16(16),se=new d.Buf16(16),be=null,ie=0;for(c=0;c<=15;c++)ne[c]=0;for(M=0;M<_;M++)ne[r[S+M]]++;for(z=F,g=15;g>=1&&ne[g]===0;g--);if(z>g&&(z=g),g===0)return x[k++]=20971520,x[k++]=20971520,w.bits=1,0;for(A=1;A<g&&ne[A]===0;A++);for(z<A&&(z=A),le=1,c=1;c<=15;c++)if(le<<=1,(le-=ne[c])<0)return-1;if(le>0&&(m===0||g!==1))return-1;for(se[1]=0,c=1;c<15;c++)se[c+1]=se[c]+ne[c];for(M=0;M<_;M++)r[S+M]!==0&&(b[se[r[S+M]]++]=M);if(m===0?(D=be=b,e=19):m===1?(D=i,ee-=257,be=h,ie-=257,e=256):(D=u,be=s,e=-1),L=0,M=0,c=A,n=k,Q=z,Z=0,T=-1,f=(ae=1<<z)-1,m===1&&ae>852||m===2&&ae>592)return 1;for(;;){o=c-Z,b[M]<e?(C=0,E=b[M]):b[M]>e?(C=be[ie+b[M]],E=D[ee+b[M]]):(C=96,E=0),P=1<<c-Z,A=O=1<<Q;do x[n+(L>>Z)+(O-=P)]=o<<24|C<<16|E|0;while(O!==0);for(P=1<<c-1;L&P;)P>>=1;if(P!==0?(L&=P-1,L+=P):L=0,M++,--ne[c]==0){if(c===g)break;c=r[S+b[M]]}if(c>z&&(L&f)!==T){for(Z===0&&(Z=z),n+=A,le=1<<(Q=c-Z);Q+Z<g&&!((le-=ne[Q+Z])<=0);)Q++,le<<=1;if(ae+=1<<Q,m===1&&ae>852||m===2&&ae>592)return 1;x[T=L&f]=z<<24|Q<<16|n-k|0}}return L!==0&&(x[n+L]=c-Z<<24|64<<16|0),w.bits=z,0}},function($,I,p){var d=p(16),i=!0,h=!0;try{String.fromCharCode.apply(null,[0])}catch{i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{h=!1}for(var u=new d.Buf8(256),s=0;s<256;s++)u[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function m(r,S){if(S<65534&&(r.subarray&&h||!r.subarray&&i))return String.fromCharCode.apply(null,d.shrinkBuf(r,S));for(var _="",x=0;x<S;x++)_+=String.fromCharCode(r[x]);return _}u[254]=u[254]=1,I.string2buf=function(r){var S,_,x,k,b,w=r.length,P=0;for(k=0;k<w;k++)(64512&(_=r.charCodeAt(k)))==55296&&k+1<w&&(64512&(x=r.charCodeAt(k+1)))==56320&&(_=65536+(_-55296<<10)+(x-56320),k++),P+=_<128?1:_<2048?2:_<65536?3:4;for(S=new d.Buf8(P),b=0,k=0;b<P;k++)(64512&(_=r.charCodeAt(k)))==55296&&k+1<w&&(64512&(x=r.charCodeAt(k+1)))==56320&&(_=65536+(_-55296<<10)+(x-56320),k++),_<128?S[b++]=_:_<2048?(S[b++]=192|_>>>6,S[b++]=128|63&_):_<65536?(S[b++]=224|_>>>12,S[b++]=128|_>>>6&63,S[b++]=128|63&_):(S[b++]=240|_>>>18,S[b++]=128|_>>>12&63,S[b++]=128|_>>>6&63,S[b++]=128|63&_);return S},I.buf2binstring=function(r){return m(r,r.length)},I.binstring2buf=function(r){for(var S=new d.Buf8(r.length),_=0,x=S.length;_<x;_++)S[_]=r.charCodeAt(_);return S},I.buf2string=function(r,S){var _,x,k,b,w=S||r.length,P=new Array(2*w);for(x=0,_=0;_<w;)if((k=r[_++])<128)P[x++]=k;else if((b=u[k])>4)P[x++]=65533,_+=b-1;else{for(k&=b===2?31:b===3?15:7;b>1&&_<w;)k=k<<6|63&r[_++],b--;b>1?P[x++]=65533:k<65536?P[x++]=k:(k-=65536,P[x++]=55296|k>>10&1023,P[x++]=56320|1023&k)}return m(P,x)},I.utf8border=function(r,S){var _;for((S=S||r.length)>r.length&&(S=r.length),_=S-1;_>=0&&(192&r[_])==128;)_--;return _<0||_===0?S:_+u[r[_]]>S?_:S}},function($,I,p){$.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function($,I,p){$.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function($,I,p){$.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function($,I,p){$.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function($,I,p){$.exports=p.p+"0.georaster.browser.bundle.min.worker.js"},function($,I,p){$.exports=function(d){function i(s){let m,r,S,_=null;function x(...k){if(!x.enabled)return;const b=x,w=Number(new Date),P=w-(m||w);b.diff=P,b.prev=m,b.curr=w,m=w,k[0]=i.coerce(k[0]),typeof k[0]!="string"&&k.unshift("%O");let O=0;k[0]=k[0].replace(/%([a-zA-Z%])/g,(T,f)=>{if(T==="%%")return"%";O++;const n=i.formatters[f];if(typeof n=="function"){const e=k[O];T=n.call(b,e),k.splice(O,1),O--}return T}),i.formatArgs.call(b,k),(b.log||i.log).apply(b,k)}return x.namespace=s,x.useColors=i.useColors(),x.color=i.selectColor(s),x.extend=h,x.destroy=i.destroy,Object.defineProperty(x,"enabled",{enumerable:!0,configurable:!1,get:()=>_!==null?_:(r!==i.namespaces&&(r=i.namespaces,S=i.enabled(s)),S),set:k=>{_=k}}),typeof i.init=="function"&&i.init(x),x}function h(s,m){const r=i(this.namespace+(m===void 0?":":m)+s);return r.log=this.log,r}function u(s){return s.toString().substring(2,s.toString().length-2).replace(/\.\*\?$/,"*")}return i.debug=i,i.default=i,i.coerce=function(s){return s instanceof Error?s.stack||s.message:s},i.disable=function(){const s=[...i.names.map(u),...i.skips.map(u).map(m=>"-"+m)].join(",");return i.enable(""),s},i.enable=function(s){let m;i.save(s),i.namespaces=s,i.names=[],i.skips=[];const r=(typeof s=="string"?s:"").split(/[\s,]+/),S=r.length;for(m=0;m<S;m++)r[m]&&((s=r[m].replace(/\*/g,".*?"))[0]==="-"?i.skips.push(new RegExp("^"+s.substr(1)+"$")):i.names.push(new RegExp("^"+s+"$")))},i.enabled=function(s){if(s[s.length-1]==="*")return!0;let m,r;for(m=0,r=i.skips.length;m<r;m++)if(i.skips[m].test(s))return!1;for(m=0,r=i.names.length;m<r;m++)if(i.names[m].test(s))return!0;return!1},i.humanize=p(72),i.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(d).forEach(s=>{i[s]=d[s]}),i.names=[],i.skips=[],i.formatters={},i.selectColor=function(s){let m=0;for(let r=0;r<s.length;r++)m=(m<<5)-m+s.charCodeAt(r),m|=0;return i.colors[Math.abs(m)%i.colors.length]},i.enable(i.load()),i}},function($,I){var p=1e3,d=6e4,i=60*d,h=24*i;function u(s,m,r,S){var _=m>=1.5*r;return Math.round(s/r)+" "+S+(_?"s":"")}$.exports=function(s,m){m=m||{};var r=typeof s;if(r==="string"&&s.length>0)return function(S){if(!((S=String(S)).length>100)){var _=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(S);if(!!_){var x=parseFloat(_[1]);switch((_[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*x;case"weeks":case"week":case"w":return 6048e5*x;case"days":case"day":case"d":return x*h;case"hours":case"hour":case"hrs":case"hr":case"h":return x*i;case"minutes":case"minute":case"mins":case"min":case"m":return x*d;case"seconds":case"second":case"secs":case"sec":case"s":return x*p;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return x;default:return}}}}(s);if(r==="number"&&isFinite(s))return m.long?function(S){var _=Math.abs(S);return _>=h?u(S,_,h,"day"):_>=i?u(S,_,i,"hour"):_>=d?u(S,_,d,"minute"):_>=p?u(S,_,p,"second"):S+" ms"}(s):function(S){var _=Math.abs(S);return _>=h?Math.round(S/h)+"d":_>=i?Math.round(S/i)+"h":_>=d?Math.round(S/d)+"m":_>=p?Math.round(S/p)+"s":S+"ms"}(s);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(s))}},function($,I,p){(function(d,i,h){var u=p(34),s=p(4),m=p(35),r=p(20),S=p(74),_=m.IncomingMessage,x=m.readyStates,k=$.exports=function(w){var P,O=this;r.Writable.call(O),O._opts=w,O._body=[],O._headers={},w.auth&&O.setHeader("Authorization","Basic "+new d(w.auth).toString("base64")),Object.keys(w.headers).forEach(function(f){O.setHeader(f,w.headers[f])});var T=!0;if(w.mode==="disable-fetch"||"requestTimeout"in w&&!u.abortController)T=!1,P=!0;else if(w.mode==="prefer-streaming")P=!1;else if(w.mode==="allow-wrong-content-type")P=!u.overrideMimeType;else{if(w.mode&&w.mode!=="default"&&w.mode!=="prefer-fast")throw new Error("Invalid value for opts.mode");P=!0}O._mode=function(f,n){return u.fetch&&n?"fetch":u.mozchunkedarraybuffer?"moz-chunked-arraybuffer":u.msstream?"ms-stream":u.arraybuffer&&f?"arraybuffer":u.vbArray&&f?"text:vbarray":"text"}(P,T),O._fetchTimer=null,O.on("finish",function(){O._onFinish()})};s(k,r.Writable),k.prototype.setHeader=function(w,P){var O=w.toLowerCase();b.indexOf(O)===-1&&(this._headers[O]={name:w,value:P})},k.prototype.getHeader=function(w){var P=this._headers[w.toLowerCase()];return P?P.value:null},k.prototype.removeHeader=function(w){delete this._headers[w.toLowerCase()]},k.prototype._onFinish=function(){var w=this;if(!w._destroyed){var P=w._opts,O=w._headers,T=null;P.method!=="GET"&&P.method!=="HEAD"&&(T=u.arraybuffer?S(d.concat(w._body)):u.blobConstructor?new i.Blob(w._body.map(function(C){return S(C)}),{type:(O["content-type"]||{}).value||""}):d.concat(w._body).toString());var f=[];if(Object.keys(O).forEach(function(C){var E=O[C].name,F=O[C].value;Array.isArray(F)?F.forEach(function(c){f.push([E,c])}):f.push([E,F])}),w._mode==="fetch"){var n=null;if(u.abortController){var e=new AbortController;n=e.signal,w._fetchAbortController=e,"requestTimeout"in P&&P.requestTimeout!==0&&(w._fetchTimer=i.setTimeout(function(){w.emit("requestTimeout"),w._fetchAbortController&&w._fetchAbortController.abort()},P.requestTimeout))}i.fetch(w._opts.url,{method:w._opts.method,headers:f,body:T||void 0,mode:"cors",credentials:P.withCredentials?"include":"same-origin",signal:n}).then(function(C){w._fetchResponse=C,w._connect()},function(C){i.clearTimeout(w._fetchTimer),w._destroyed||w.emit("error",C)})}else{var o=w._xhr=new i.XMLHttpRequest;try{o.open(w._opts.method,w._opts.url,!0)}catch(C){return void h.nextTick(function(){w.emit("error",C)})}"responseType"in o&&(o.responseType=w._mode.split(":")[0]),"withCredentials"in o&&(o.withCredentials=!!P.withCredentials),w._mode==="text"&&"overrideMimeType"in o&&o.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in P&&(o.timeout=P.requestTimeout,o.ontimeout=function(){w.emit("requestTimeout")}),f.forEach(function(C){o.setRequestHeader(C[0],C[1])}),w._response=null,o.onreadystatechange=function(){switch(o.readyState){case x.LOADING:case x.DONE:w._onXHRProgress()}},w._mode==="moz-chunked-arraybuffer"&&(o.onprogress=function(){w._onXHRProgress()}),o.onerror=function(){w._destroyed||w.emit("error",new Error("XHR error"))};try{o.send(T)}catch(C){return void h.nextTick(function(){w.emit("error",C)})}}}},k.prototype._onXHRProgress=function(){(function(w){try{var P=w.status;return P!==null&&P!==0}catch{return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},k.prototype._connect=function(){var w=this;w._destroyed||(w._response=new _(w._xhr,w._fetchResponse,w._mode,w._fetchTimer),w._response.on("error",function(P){w.emit("error",P)}),w.emit("response",w._response))},k.prototype._write=function(w,P,O){this._body.push(w),O()},k.prototype.abort=k.prototype.destroy=function(){this._destroyed=!0,i.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},k.prototype.end=function(w,P,O){typeof w=="function"&&(O=w,w=void 0),r.Writable.prototype.end.call(this,w,P,O)},k.prototype.flushHeaders=function(){},k.prototype.setTimeout=function(){},k.prototype.setNoDelay=function(){},k.prototype.setSocketKeepAlive=function(){};var b=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,p(2).Buffer,p(1),p(3))},function($,I,p){var d=p(2).Buffer;$.exports=function(i){if(i instanceof Uint8Array){if(i.byteOffset===0&&i.byteLength===i.buffer.byteLength)return i.buffer;if(typeof i.buffer.slice=="function")return i.buffer.slice(i.byteOffset,i.byteOffset+i.byteLength)}if(d.isBuffer(i)){for(var h=new Uint8Array(i.length),u=i.length,s=0;s<u;s++)h[s]=i[s];return h.buffer}throw new Error("Argument must be a Buffer")}},function($,I){$.exports=function(){for(var d={},i=0;i<arguments.length;i++){var h=arguments[i];for(var u in h)p.call(h,u)&&(d[u]=h[u])}return d};var p=Object.prototype.hasOwnProperty},function($,I){$.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function($,I,p){(function(d,i){var h;/*! https://mths.be/punycode v1.4.1 by @mathias */(function(u){I&&I.nodeType,d&&d.nodeType;var s=typeof i=="object"&&i;s.global!==s&&s.window!==s&&s.self;var m,r=2147483647,S=/^xn--/,_=/[^\x20-\x7E]/,x=/[\x2E\u3002\uFF0E\uFF61]/g,k={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},b=Math.floor,w=String.fromCharCode;function P(F){throw new RangeError(k[F])}function O(F,c){for(var M=F.length,A=[];M--;)A[M]=c(F[M]);return A}function T(F,c){var M=F.split("@"),A="";return M.length>1&&(A=M[0]+"@",F=M[1]),A+O((F=F.replace(x,".")).split("."),c).join(".")}function f(F){for(var c,M,A=[],g=0,z=F.length;g<z;)(c=F.charCodeAt(g++))>=55296&&c<=56319&&g<z?(64512&(M=F.charCodeAt(g++)))==56320?A.push(((1023&c)<<10)+(1023&M)+65536):(A.push(c),g--):A.push(c);return A}function n(F){return O(F,function(c){var M="";return c>65535&&(M+=w((c-=65536)>>>10&1023|55296),c=56320|1023&c),M+=w(c)}).join("")}function e(F,c){return F+22+75*(F<26)-((c!=0)<<5)}function o(F,c,M){var A=0;for(F=M?b(F/700):F>>1,F+=b(F/c);F>455;A+=36)F=b(F/35);return b(A+36*F/(F+38))}function C(F){var c,M,A,g,z,Q,Z,le,ae,L,D,ee=[],ne=F.length,se=0,be=128,ie=72;for((M=F.lastIndexOf("-"))<0&&(M=0),A=0;A<M;++A)F.charCodeAt(A)>=128&&P("not-basic"),ee.push(F.charCodeAt(A));for(g=M>0?M+1:0;g<ne;){for(z=se,Q=1,Z=36;g>=ne&&P("invalid-input"),((le=(D=F.charCodeAt(g++))-48<10?D-22:D-65<26?D-65:D-97<26?D-97:36)>=36||le>b((r-se)/Q))&&P("overflow"),se+=le*Q,!(le<(ae=Z<=ie?1:Z>=ie+26?26:Z-ie));Z+=36)Q>b(r/(L=36-ae))&&P("overflow"),Q*=L;ie=o(se-z,c=ee.length+1,z==0),b(se/c)>r-be&&P("overflow"),be+=b(se/c),se%=c,ee.splice(se++,0,be)}return n(ee)}function E(F){var c,M,A,g,z,Q,Z,le,ae,L,D,ee,ne,se,be,ie=[];for(ee=(F=f(F)).length,c=128,M=0,z=72,Q=0;Q<ee;++Q)(D=F[Q])<128&&ie.push(w(D));for(A=g=ie.length,g&&ie.push("-");A<ee;){for(Z=r,Q=0;Q<ee;++Q)(D=F[Q])>=c&&D<Z&&(Z=D);for(Z-c>b((r-M)/(ne=A+1))&&P("overflow"),M+=(Z-c)*ne,c=Z,Q=0;Q<ee;++Q)if((D=F[Q])<c&&++M>r&&P("overflow"),D==c){for(le=M,ae=36;!(le<(L=ae<=z?1:ae>=z+26?26:ae-z));ae+=36)be=le-L,se=36-L,ie.push(w(e(L+be%se,0))),le=b(be/se);ie.push(w(e(le,0))),z=o(M,ne,A==g),M=0,++A}++M,++c}return ie.join("")}m={version:"1.4.1",ucs2:{decode:f,encode:n},decode:C,encode:E,toASCII:function(F){return T(F,function(c){return _.test(c)?"xn--"+E(c):c})},toUnicode:function(F){return T(F,function(c){return S.test(c)?C(c.slice(4).toLowerCase()):c})}},(h=function(){return m}.call(I,p,I,d))===void 0||(d.exports=h)})()}).call(this,p(78)($),p(1))},function($,I){$.exports=function(p){return p.webpackPolyfill||(p.deprecate=function(){},p.paths=[],p.children||(p.children=[]),Object.defineProperty(p,"loaded",{enumerable:!0,get:function(){return p.l}}),Object.defineProperty(p,"id",{enumerable:!0,get:function(){return p.i}}),p.webpackPolyfill=1),p}},function($,I,p){$.exports={isString:function(d){return typeof d=="string"},isObject:function(d){return typeof d=="object"&&d!==null},isNull:function(d){return d===null},isNullOrUndefined:function(d){return d==null}}},function($,I,p){I.decode=I.parse=p(81),I.encode=I.stringify=p(82)},function($,I,p){function d(h,u){return Object.prototype.hasOwnProperty.call(h,u)}$.exports=function(h,u,s,m){u=u||"&",s=s||"=";var r={};if(typeof h!="string"||h.length===0)return r;var S=/\+/g;h=h.split(u);var _=1e3;m&&typeof m.maxKeys=="number"&&(_=m.maxKeys);var x=h.length;_>0&&x>_&&(x=_);for(var k=0;k<x;++k){var b,w,P,O,T=h[k].replace(S,"%20"),f=T.indexOf(s);f>=0?(b=T.substr(0,f),w=T.substr(f+1)):(b=T,w=""),P=decodeURIComponent(b),O=decodeURIComponent(w),d(r,P)?i(r[P])?r[P].push(O):r[P]=[r[P],O]:r[P]=O}return r};var i=Array.isArray||function(h){return Object.prototype.toString.call(h)==="[object Array]"}},function($,I,p){var d=function(s){switch(typeof s){case"string":return s;case"boolean":return s?"true":"false";case"number":return isFinite(s)?s:"";default:return""}};$.exports=function(s,m,r,S){return m=m||"&",r=r||"=",s===null&&(s=void 0),typeof s=="object"?h(u(s),function(_){var x=encodeURIComponent(d(_))+r;return i(s[_])?h(s[_],function(k){return x+encodeURIComponent(d(k))}).join(m):x+encodeURIComponent(d(s[_]))}).join(m):S?encodeURIComponent(d(S))+r+encodeURIComponent(d(s)):""};var i=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function h(s,m){if(s.map)return s.map(m);for(var r=[],S=0;S<s.length;S++)r.push(m(s[S],S));return r}var u=Object.keys||function(s){var m=[];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&m.push(r);return m}},function($,I){$.exports={getPalette:(p,{debug:d=!1}={debug:!1})=>{d&&console.log("starting getPalette with image",p);const{fileDirectory:i}=p,{BitsPerSample:h,ColorMap:u,ImageLength:s,ImageWidth:m,PhotometricInterpretation:r,SampleFormat:S,SamplesPerPixel:_}=i;if(!u)throw new Error("[geotiff-palette]: the image does not contain a color map, so we can't make a palette.");const x=Math.pow(2,h);d&&console.log("[geotiff-palette]: count:",x);const k=u.length/3;if(d&&console.log("[geotiff-palette]: bandSize:",k),k!==x)throw new Error("[geotiff-palette]: can't handle situations where the color map has more or less values than the number of possible values in a raster");const b=k,w=b+k,P=[];for(let O=0;O<x;O++)P.push([Math.floor(u[O]/256),Math.floor(u[b+O]/256),Math.floor(u[w+O]/256),255]);return d&&console.log("[geotiff-palette]: result is ",P),P}}},function($,I,p){function d(i,h){if(typeof ImageData=="undefined")throw"toCanvas is not supported in your environment";{const u=document.createElement("CANVAS"),s=h&&h.height?Math.min(i.height,h.height):Math.min(i.height,100),m=h&&h.width?Math.min(i.width,h.width):Math.min(i.width,100);u.height=s,u.width=m,u.style.minHeight="200px",u.style.minWidth="400px",u.style.maxWidth="100%";const r=u.getContext("2d"),S=function(_,x,k){if(_.values){const{noDataValue:b,mins:w,ranges:P,values:O}=_,T=O.length,f=_.width/x,n=_.height/k,e=new Uint8ClampedArray(x*k*4);for(let o=0;o<k;o++)for(let C=0;C<x;C++){const E=Math.round(o*n),F=Math.round(C*f),c=O.map(M=>{try{return M[E][F]}catch(A){console.error(A)}});if(c.every(M=>M!==void 0&&M!==b)){const M=o*(4*x)+4*C;if(T===1){const A=Math.round(c[0]),g=Math.round((A-w[0])/P[0]*255);e[M]=g,e[M+1]=g,e[M+2]=g,e[M+3]=255}else if(T===3)try{const[A,g,z]=c;e[M]=A,e[M+1]=g,e[M+2]=z,e[M+3]=255}catch(A){console.error(A)}else if(T===4)try{const[A,g,z,Q]=c;e[M]=A,e[M+1]=g,e[M+2]=z,e[M+3]=Q}catch(A){console.error(A)}}}return new ImageData(e,x,k)}}(i,m,s);return r.putImageData(S,0,0),u}}p.r(I),p.d(I,"default",function(){return d})},function($,I,p){p.d(I,"a",function(){return i});var d=p(8);Object(d.b)().blob;const i=Object(d.b)().default},,,function($,I,p){var d=p(13),i=p(40),h=function(u){typeof u=="function"?u():u&&typeof u.unsubscribe=="function"&&u.unsubscribe()};I.a=function(u){const s=new i.a;let m,r=0;return new d.a(S=>{m||(m=u.subscribe(s));const _=s.subscribe(S);return r++,()=>{r--,_.unsubscribe(),r===0&&(h(m),m=void 0)}})}}])})})(ut);var Bt=Ut(ut.exports),qt=Object.freeze(Ft({__proto__:null,[Symbol.toStringTag]:"Module",default:Bt},[ut.exports]));export{qt as g};
